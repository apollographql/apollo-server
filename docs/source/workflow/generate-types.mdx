---
title: Generating types from a GraphQL Schema
description: How to ensure your resolvers type safe
---

> ðŸ‘‹ If you haven't set up a TypeScript project yet, follow our [Getting Started](../../getting-started) guide to quickly set one up before following the steps below. 

GraphQL uses a type system to clearly define the available data for each type and field in a [schema](../schema/schema). Type generation libraries can take advantage of the strongly-typed nature of a GraphQL schema to generate TypeScript types that you can use in your resolvers to catch errors at compile time.

> Looking to generate types for your [Apollo Federation](/federation/) subgraphs? Our [Subgraph Template](https://github.com/apollographql/subgraph-template-typescript-apollo-server) lays down the ground work so you can quickly set up a subgraph with generated types.

## Setting up your project

This article describes how to use the [GraphQL Code Generator](https://www.the-guild.dev/graphql/codegen) library to generate types based on a GraphQL schema. Note, there are multiple ways to provide a schema to GraphQL Code Generator, but this guide covers how to generate types based off of a `.graphql` file.

If you haven't already, move your server's schema into a `.graphql` file, like so:

```graphql title="schema.graphql"
type Query {
  books: [Book]
}

type Book {
  title: String
  author: String
}

type AddBookMutationResponse {
  code: String!
  success: Boolean!
  message: String!
  book: Book
}

type Mutation {
  addBook(title: String, author: String): AddBookMutationResponse
}
```

Next, you'll need to update your imports to ensure you're still passing your schema to your server. In the file where you create your server, you can update your imports to read in your schema using `readFileSync` from the `fs` package:

```ts title="index.ts"
// ...other imports
import { readFileSync } from 'fs';
import path, { dirname } from 'path';
import { fileURLToPath } from 'url';

// If you are using ESM module syntax you can redefine `__dirname` as 
// shown below. If you are using CJS syntax you can use `__dirname` directly.
const __dirname = dirname(fileURLToPath(import.meta.url));
const schemaFile = path.join(__dirname, '../schema.graphql');
// Once we have the file path, read in our schema 
const typeDefs = readFileSync(schemaFile, { encoding: 'utf-8' });

const server = new ApolloServer<MyContext>({
  typeDefs,
  resolvers,
});

// ... start our server
```

Restart your server to make sure it can find and use your schema, and that everything works as expected.

Next, we'll install the packages we need to automatically generate types based on our schema. 

### Installing dependencies

Install the follow packages as developer dependencies:

```bash
npm install -D @graphql-codegen/cli @graphql-codegen/typescript @graphql-codegen/typescript-resolvers
```

> For more information on each of the packages above, check out the [GraphQL Code Generator](https://www.the-guild.dev/graphql/codegen/plugins) docs.

Next, we'll set up a configuration file telling GraphQL Code Generator where and how to generate types. You can do this by manually creating a `codegen.yaml` file or by using the following command:

```bash
npx graphql-code-generator init
```

Below is an example of a `codegen.yaml` file we created:

```yml
# This configuration file tells GraphQL Code Generator how to generate types based on our schema.
schema: "./schema.graphql"
generates:
  # Specify where our generated types should live.
  ./src/__generated__/resolvers-types.ts:
    plugins:
      - "typescript"
      - "typescript-resolvers"
    config:
      useIndexSignature: true
    # We can specify a type for the context shared by our resolvers, more on this below.  
      contextType: ../index#MyContext
```

> See the [GraphQL Code Generator docs](https://www.the-guild.dev/graphql/codegen/plugins/typescript-resolvers#usage-example) for more information on the configuration options of GraphQL Code Generator.

Next you'll want to add scripts to your `package.json` file to ensure your types are generated regularly:

```json
{
// ...
  "scripts": {
    "postinstall": "npm run compile",
    "compile": "tsc && graphql-codegen --config codegen.yml",
    "start": "npm run compile && node ./dist/index.js",
  },
// ...
}
```

Now we are ready to start using the types we generated!

## Set up typing for resolvers

The `typescript-resolvers` plugin creates a `Resolvers` type that you can import directly into the file where you are importing your resolvers:

```ts


```


### Add context type for resolvers
You can manually provide `contextValue` typing for your resolvers, like so

```ts

```

Or you can provide a context value for all of your resolvers by specifying a `contextType` in your `codegen.yaml`:

```yaml
# This configuration file tells GraphQL Code Generator how to generate types based on our schema.
schema: "./schema.graphql"
generates:
  ./src/__generated__/resolvers-types.ts:
    plugins:
      - "typescript"
      - "typescript-resolvers"
    config:
      useIndexSignature: true
      # Providing our context's interface ensures our context's type is set for
      # all of our resolvers. 
      # This file path starts from location of the file where you generate
      # types (i.e., `/src/__generated__/resolvers-types.ts` above) 
      contextType: ../index#MyContext
```

Now your context is automatically typed in all of your resolvers:

```ts

```