# The v3 docs were beta for a while, and non-default, but now that they are
# default, the v3 docs don't exist anymore.  So redirect them to the default!
/v3 /docs/apollo-server
/v3/* /docs/apollo-server/:splat

# Updating URLs for v3
/testing/graphql-playground/ /docs/apollo-server/testing/build-run-queries/#graphql-playground
/deployment /docs/apollo-server/deployment/heroku

# Removing old hidden documentation
/features/schema-stitching/ /docs/apollo-server/
/features/schema-delegation/ /docs/apollo-server/
/features/remote-schemas/ /docs/apollo-server/
/features/schema-transforms/ /docs/apollo-server/
/why-apollo-server/ /docs/apollo-server/

/schema/scalars-enums/ /docs/apollo-server/schema/custom-scalars/
/data/data/ /docs/apollo-server/data/resolvers/

/federation/implementing/ /docs/apollo-server/federation/implementing-services/
/federation/core-concepts/ /docs/apollo-server/federation/entities/
/federation/advanced-features/ /docs/apollo-server/federation/entities/
/federation/concerns/ /docs/apollo-server/federation/introduction/#separation-of-concerns

/api/graphql-tools /docs/apollo-server/

# Redirects associated with revamp of Apollo Server information architecture
/whats-new https://github.com/apollographql/apollo-server/blob/main/CHANGELOG.md
/essentials/data/ /docs/apollo-server/data/data/
/essentials/schema/ /docs/apollo-server/schema/schema/
/essentials/server /docs/apollo-server/getting-started/
/features/apq/ /docs/apollo-server/performance/apq/
/features/authentication/ /docs/apollo-server/security/authentication/
/features/caching/ /docs/apollo-server/performance/caching/
/features/creating-directives/ /docs/apollo-server/schema/creating-directives/
/features/data-sources/ /docs/apollo-server/data/data-sources/
/features/data-sources.html /docs/apollo-server/data/data-sources/
/features/directives/ /docs/apollo-server/schema/directives/
/features/errors/ /docs/apollo-server/data/errors/
/features/file-uploads/ /docs/apollo-server/data/file-uploads/
/features/graphql-playground/ /docs/apollo-server/testing/graphql-playground/
/features/health-checks/ /docs/apollo-server/monitoring/health-checks/
/features/metrics/ /docs/apollo-server/monitoring/metrics/
/features/mocking/ /docs/apollo-server/testing/mocking/
/features/scalars-enums/ /docs/apollo-server/
/features/subscriptions/ /docs/apollo-server/data/subscriptions/
/features/testing/ /docs/apollo-server/testing/testing/
/features/unions-interfaces/ /docs/apollo-server/schema/unions-interfaces/

# Move federation docs into their own docset
/api/apollo-federation/ /docs/federation/api/apollo-subgraph/ 302!
/api/apollo-gateway/ /docs/federation/api/apollo-gateway/ 302!
/api/apollo-subgraph/ /docs/federation/api/apollo-subgraph/ 302!
/federation/managed-federation /docs/studio/managed-federation/overview/
/federation/introduction /docs/federation/ 302!
/federation/* /docs/federation/:splat 302!
