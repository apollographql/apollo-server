{"expireTime":9007200901521019000,"key":"gatsby-plugin-mdx-entire-payload-fc023869ab59a924e6adff7bf1aeb464-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import {\n  ExpansionPanel,\n} from 'gatsby-theme-apollo-docs/src/components/expansion-panel';","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":4,"column":66,"offset":93},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Data sources","position":{"start":{"line":6,"column":3,"offset":97},"end":{"line":6,"column":15,"offset":109},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":95},"end":{"line":6,"column":17,"offset":111},"indent":[]}},{"type":"text","value":" are classes that Apollo Server can use to encapsulate fetching data from a particular source, such as a database or a REST API. These classes help handle caching, deduplication, and errors while resolving operations.","position":{"start":{"line":6,"column":17,"offset":111},"end":{"line":6,"column":234,"offset":328},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":95},"end":{"line":6,"column":234,"offset":328},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Your server can use any number of different data sources. You don't ","position":{"start":{"line":8,"column":1,"offset":330},"end":{"line":8,"column":69,"offset":398},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"have","position":{"start":{"line":8,"column":70,"offset":399},"end":{"line":8,"column":74,"offset":403},"indent":[]}}],"position":{"start":{"line":8,"column":69,"offset":398},"end":{"line":8,"column":75,"offset":404},"indent":[]}},{"type":"text","value":" to use data sources to fetch data, but they're strongly recommended.","position":{"start":{"line":8,"column":75,"offset":404},"end":{"line":8,"column":144,"offset":473},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":330},"end":{"line":8,"column":144,"offset":473},"indent":[]}},{"type":"code","lang":"mermaid","meta":null,"value":"flowchart LR;\n  restAPI(REST API);\n  sql(SQL Database);\n  subgraph ApolloServer;\n    restDataSource(RESTDataSource);\n    sqlDataSource(SQLDataSource);\n  end\n  restDataSource --Fetches data--> restAPI;\n  sqlDataSource --Fetches data--> sql;\n  client(ApolloClient);\n  client --Sends query--> ApolloServer;\n  class restAPI,sql secondary;","position":{"start":{"line":10,"column":1,"offset":475},"end":{"line":23,"column":4,"offset":824},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Open-source implementations","position":{"start":{"line":27,"column":4,"offset":831},"end":{"line":27,"column":31,"offset":858},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":828},"end":{"line":27,"column":31,"offset":858},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"All data source implementations extend the generic ","position":{"start":{"line":29,"column":1,"offset":860},"end":{"line":29,"column":52,"offset":911},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-datasource/src/index.ts","children":[{"type":"inlineCode","value":"DataSource","position":{"start":{"line":29,"column":53,"offset":912},"end":{"line":29,"column":65,"offset":924},"indent":[]}},{"type":"text","value":" abstract class","position":{"start":{"line":29,"column":65,"offset":924},"end":{"line":29,"column":80,"offset":939},"indent":[]}}],"position":{"start":{"line":29,"column":52,"offset":911},"end":{"line":29,"column":179,"offset":1038},"indent":[]}},{"type":"text","value":", which is included in the ","position":{"start":{"line":29,"column":179,"offset":1038},"end":{"line":29,"column":206,"offset":1065},"indent":[]}},{"type":"inlineCode","value":"apollo-datasource","position":{"start":{"line":29,"column":206,"offset":1065},"end":{"line":29,"column":225,"offset":1084},"indent":[]}},{"type":"text","value":" package. Subclasses of a ","position":{"start":{"line":29,"column":225,"offset":1084},"end":{"line":29,"column":251,"offset":1110},"indent":[]}},{"type":"inlineCode","value":"DataSource","position":{"start":{"line":29,"column":251,"offset":1110},"end":{"line":29,"column":263,"offset":1122},"indent":[]}},{"type":"text","value":" should define whatever logic is required to communicate with a particular store or API.","position":{"start":{"line":29,"column":263,"offset":1122},"end":{"line":29,"column":351,"offset":1210},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":860},"end":{"line":29,"column":351,"offset":1210},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Apollo and the larger community maintain the following open-source implementations:","position":{"start":{"line":31,"column":1,"offset":1212},"end":{"line":31,"column":84,"offset":1295},"indent":[]}}],"position":{"start":{"line":31,"column":1,"offset":1212},"end":{"line":31,"column":84,"offset":1295},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Do you maintain a ","position":{"start":{"line":33,"column":3,"offset":1299},"end":{"line":33,"column":21,"offset":1317},"indent":[]}},{"type":"inlineCode","value":"DataSource","position":{"start":{"line":33,"column":21,"offset":1317},"end":{"line":33,"column":33,"offset":1329},"indent":[]}},{"type":"text","value":" implementation that isn't listed here? Please ","position":{"start":{"line":33,"column":33,"offset":1329},"end":{"line":33,"column":80,"offset":1376},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/apollographql/apollo-server/blob/main/docs/source/data/data-sources.md","children":[{"type":"text","value":"submit a PR","position":{"start":{"line":33,"column":81,"offset":1377},"end":{"line":33,"column":92,"offset":1388},"indent":[]}}],"position":{"start":{"line":33,"column":80,"offset":1376},"end":{"line":33,"column":184,"offset":1480},"indent":[]}},{"type":"text","value":" to be added to the list!","position":{"start":{"line":33,"column":184,"offset":1480},"end":{"line":33,"column":209,"offset":1505},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":1299},"end":{"line":33,"column":209,"offset":1505},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1297},"end":{"line":33,"column":209,"offset":1505},"indent":[]}},{"type":"table","align":[null,null,null],"children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Class","position":{"start":{"line":35,"column":3,"offset":1509},"end":{"line":35,"column":8,"offset":1514},"indent":[]}}],"position":{"start":{"line":35,"column":3,"offset":1509},"end":{"line":35,"column":19,"offset":1525},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Source","position":{"start":{"line":35,"column":22,"offset":1528},"end":{"line":35,"column":28,"offset":1534},"indent":[]}}],"position":{"start":{"line":35,"column":22,"offset":1528},"end":{"line":35,"column":31,"offset":1537},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"For Use With","position":{"start":{"line":35,"column":34,"offset":1540},"end":{"line":35,"column":46,"offset":1552},"indent":[]}}],"position":{"start":{"line":35,"column":34,"offset":1540},"end":{"line":35,"column":55,"offset":1561},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1507},"end":{"line":35,"column":57,"offset":1563},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://github.com/apollographql/apollo-server/tree/main/packages/apollo-datasource-rest","children":[{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":37,"column":4,"offset":1624},"end":{"line":37,"column":20,"offset":1640},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":1623},"end":{"line":37,"column":111,"offset":1731},"indent":[]}}],"position":{"start":{"line":37,"column":3,"offset":1623},"end":{"line":37,"column":111,"offset":1731},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Apollo","position":{"start":{"line":37,"column":114,"offset":1734},"end":{"line":37,"column":120,"offset":1740},"indent":[]}}],"position":{"start":{"line":37,"column":114,"offset":1734},"end":{"line":37,"column":123,"offset":1743},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"REST APIs (","position":{"start":{"line":37,"column":126,"offset":1746},"end":{"line":37,"column":137,"offset":1757},"indent":[]}},{"type":"link","title":null,"url":"#restdatasource-reference","children":[{"type":"text","value":"see below","position":{"start":{"line":37,"column":138,"offset":1758},"end":{"line":37,"column":147,"offset":1767},"indent":[]}}],"position":{"start":{"line":37,"column":137,"offset":1757},"end":{"line":37,"column":175,"offset":1795},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":37,"column":175,"offset":1795},"end":{"line":37,"column":176,"offset":1796},"indent":[]}}],"position":{"start":{"line":37,"column":126,"offset":1746},"end":{"line":37,"column":176,"offset":1796},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":1621},"end":{"line":37,"column":178,"offset":1798},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://github.com/StarpTech/apollo-datasource-http","children":[{"type":"inlineCode","value":"HTTPDataSource","position":{"start":{"line":38,"column":4,"offset":1802},"end":{"line":38,"column":20,"offset":1818},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":1801},"end":{"line":38,"column":74,"offset":1872},"indent":[]}}],"position":{"start":{"line":38,"column":3,"offset":1801},"end":{"line":38,"column":75,"offset":1873},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Community","position":{"start":{"line":38,"column":78,"offset":1876},"end":{"line":38,"column":87,"offset":1885},"indent":[]}}],"position":{"start":{"line":38,"column":78,"offset":1876},"end":{"line":38,"column":87,"offset":1885},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"HTTP/REST APIs (newer community alternative to ","position":{"start":{"line":38,"column":90,"offset":1888},"end":{"line":38,"column":137,"offset":1935},"indent":[]}},{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":38,"column":137,"offset":1935},"end":{"line":38,"column":153,"offset":1951},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":38,"column":153,"offset":1951},"end":{"line":38,"column":154,"offset":1952},"indent":[]}}],"position":{"start":{"line":38,"column":90,"offset":1888},"end":{"line":38,"column":154,"offset":1952},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1799},"end":{"line":38,"column":156,"offset":1954},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://github.com/cvburgess/SQLDataSource","children":[{"type":"inlineCode","value":"SQLDataSource","position":{"start":{"line":39,"column":4,"offset":1958},"end":{"line":39,"column":19,"offset":1973},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":1957},"end":{"line":39,"column":64,"offset":2018},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":1957},"end":{"line":39,"column":65,"offset":2019},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Community","position":{"start":{"line":39,"column":68,"offset":2022},"end":{"line":39,"column":77,"offset":2031},"indent":[]}}],"position":{"start":{"line":39,"column":68,"offset":2022},"end":{"line":39,"column":77,"offset":2031},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"SQL databases (via ","position":{"start":{"line":39,"column":80,"offset":2034},"end":{"line":39,"column":99,"offset":2053},"indent":[]}},{"type":"link","title":null,"url":"http://knexjs.org/","children":[{"type":"text","value":"Knex.js","position":{"start":{"line":39,"column":100,"offset":2054},"end":{"line":39,"column":107,"offset":2061},"indent":[]}}],"position":{"start":{"line":39,"column":99,"offset":2053},"end":{"line":39,"column":128,"offset":2082},"indent":[]}},{"type":"text","value":")","position":{"start":{"line":39,"column":128,"offset":2082},"end":{"line":39,"column":129,"offset":2083},"indent":[]}}],"position":{"start":{"line":39,"column":80,"offset":2034},"end":{"line":39,"column":129,"offset":2083},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1955},"end":{"line":39,"column":131,"offset":2085},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://github.com/GraphQLGuide/apollo-datasource-mongodb/","children":[{"type":"inlineCode","value":"MongoDataSource","position":{"start":{"line":40,"column":4,"offset":2089},"end":{"line":40,"column":21,"offset":2106},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":2088},"end":{"line":40,"column":82,"offset":2167},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":2088},"end":{"line":40,"column":82,"offset":2167},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Community","position":{"start":{"line":40,"column":85,"offset":2170},"end":{"line":40,"column":94,"offset":2179},"indent":[]}}],"position":{"start":{"line":40,"column":85,"offset":2170},"end":{"line":40,"column":94,"offset":2179},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"MongoDB","position":{"start":{"line":40,"column":97,"offset":2182},"end":{"line":40,"column":104,"offset":2189},"indent":[]}}],"position":{"start":{"line":40,"column":97,"offset":2182},"end":{"line":40,"column":104,"offset":2189},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":2086},"end":{"line":40,"column":106,"offset":2191},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://github.com/andrejpk/apollo-datasource-cosmosdb","children":[{"type":"inlineCode","value":"CosmosDataSource","position":{"start":{"line":41,"column":4,"offset":2195},"end":{"line":41,"column":22,"offset":2213},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":2194},"end":{"line":41,"column":79,"offset":2270},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":2194},"end":{"line":41,"column":79,"offset":2270},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Community","position":{"start":{"line":41,"column":82,"offset":2273},"end":{"line":41,"column":91,"offset":2282},"indent":[]}}],"position":{"start":{"line":41,"column":82,"offset":2273},"end":{"line":41,"column":91,"offset":2282},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Azure Cosmos DB","position":{"start":{"line":41,"column":94,"offset":2285},"end":{"line":41,"column":109,"offset":2300},"indent":[]}}],"position":{"start":{"line":41,"column":94,"offset":2285},"end":{"line":41,"column":109,"offset":2300},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":2192},"end":{"line":41,"column":111,"offset":2302},"indent":[]}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"link","title":null,"url":"https://github.com/swantzter/apollo-datasource-firestore","children":[{"type":"inlineCode","value":"FirestoreDataSource","position":{"start":{"line":42,"column":4,"offset":2306},"end":{"line":42,"column":25,"offset":2327},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":2305},"end":{"line":42,"column":84,"offset":2386},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":2305},"end":{"line":42,"column":84,"offset":2386},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Community","position":{"start":{"line":42,"column":87,"offset":2389},"end":{"line":42,"column":96,"offset":2398},"indent":[]}}],"position":{"start":{"line":42,"column":87,"offset":2389},"end":{"line":42,"column":96,"offset":2398},"indent":[]}},{"type":"tableCell","children":[{"type":"text","value":"Cloud Firestore","position":{"start":{"line":42,"column":99,"offset":2401},"end":{"line":42,"column":114,"offset":2416},"indent":[]}}],"position":{"start":{"line":42,"column":99,"offset":2401},"end":{"line":42,"column":114,"offset":2416},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":2303},"end":{"line":42,"column":116,"offset":2418},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1507},"end":{"line":42,"column":116,"offset":2418},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If none of these implementations applies to your use case, you can create your own custom ","position":{"start":{"line":44,"column":1,"offset":2420},"end":{"line":44,"column":91,"offset":2510},"indent":[]}},{"type":"inlineCode","value":"DataSource","position":{"start":{"line":44,"column":91,"offset":2510},"end":{"line":44,"column":103,"offset":2522},"indent":[]}},{"type":"text","value":" subclass.","position":{"start":{"line":44,"column":103,"offset":2522},"end":{"line":44,"column":113,"offset":2532},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":2420},"end":{"line":44,"column":113,"offset":2532},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Apollo does not provide official support for community-maintained libraries. We cannot guarantee that community-maintained libraries adhere to best practices, or that they will continue to be maintained.","position":{"start":{"line":46,"column":3,"offset":2536},"end":{"line":46,"column":206,"offset":2739},"indent":[]}}],"position":{"start":{"line":46,"column":3,"offset":2536},"end":{"line":46,"column":206,"offset":2739},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":2534},"end":{"line":46,"column":206,"offset":2739},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Adding data sources to Apollo Server","position":{"start":{"line":49,"column":4,"offset":2745},"end":{"line":49,"column":40,"offset":2781},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":2742},"end":{"line":49,"column":40,"offset":2781},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You provide your ","position":{"start":{"line":51,"column":1,"offset":2783},"end":{"line":51,"column":18,"offset":2800},"indent":[]}},{"type":"inlineCode","value":"DataSource","position":{"start":{"line":51,"column":18,"offset":2800},"end":{"line":51,"column":30,"offset":2812},"indent":[]}},{"type":"text","value":" subclasses to the ","position":{"start":{"line":51,"column":30,"offset":2812},"end":{"line":51,"column":49,"offset":2831},"indent":[]}},{"type":"inlineCode","value":"ApolloServer","position":{"start":{"line":51,"column":49,"offset":2831},"end":{"line":51,"column":63,"offset":2845},"indent":[]}},{"type":"text","value":" constructor, like so:","position":{"start":{"line":51,"column":63,"offset":2845},"end":{"line":51,"column":85,"offset":2867},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2783},"end":{"line":51,"column":85,"offset":2867},"indent":[]}},{"type":"code","lang":"js{4-9}:title=index.js","meta":null,"value":"const server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  dataSources: () => {\n    return {\n      moviesAPI: new MoviesAPI(),\n      personalizationAPI: new PersonalizationAPI(),\n    };\n  },\n});","position":{"start":{"line":53,"column":1,"offset":2869},"end":{"line":64,"column":4,"offset":3095},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"As shown, the ","position":{"start":{"line":66,"column":3,"offset":3099},"end":{"line":66,"column":17,"offset":3113},"indent":[]}},{"type":"inlineCode","value":"dataSources","position":{"start":{"line":66,"column":17,"offset":3113},"end":{"line":66,"column":30,"offset":3126},"indent":[]}},{"type":"text","value":" option is a ","position":{"start":{"line":66,"column":30,"offset":3126},"end":{"line":66,"column":43,"offset":3139},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"function","position":{"start":{"line":66,"column":44,"offset":3140},"end":{"line":66,"column":52,"offset":3148},"indent":[]}}],"position":{"start":{"line":66,"column":43,"offset":3139},"end":{"line":66,"column":53,"offset":3149},"indent":[]}},{"type":"text","value":". This function returns an ","position":{"start":{"line":66,"column":53,"offset":3149},"end":{"line":66,"column":80,"offset":3176},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"object","position":{"start":{"line":66,"column":81,"offset":3177},"end":{"line":66,"column":87,"offset":3183},"indent":[]}}],"position":{"start":{"line":66,"column":80,"offset":3176},"end":{"line":66,"column":88,"offset":3184},"indent":[]}},{"type":"text","value":" containing instances of your ","position":{"start":{"line":66,"column":88,"offset":3184},"end":{"line":66,"column":118,"offset":3214},"indent":[]}},{"type":"inlineCode","value":"DataSource","position":{"start":{"line":66,"column":118,"offset":3214},"end":{"line":66,"column":130,"offset":3226},"indent":[]}},{"type":"text","value":" subclasses (in this case, ","position":{"start":{"line":66,"column":130,"offset":3226},"end":{"line":66,"column":157,"offset":3253},"indent":[]}},{"type":"inlineCode","value":"MoviesAPI","position":{"start":{"line":66,"column":157,"offset":3253},"end":{"line":66,"column":168,"offset":3264},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":66,"column":168,"offset":3264},"end":{"line":66,"column":173,"offset":3269},"indent":[]}},{"type":"inlineCode","value":"PersonalizationAPI","position":{"start":{"line":66,"column":173,"offset":3269},"end":{"line":66,"column":193,"offset":3289},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":66,"column":193,"offset":3289},"end":{"line":66,"column":195,"offset":3291},"indent":[]}}],"position":{"start":{"line":66,"column":3,"offset":3099},"end":{"line":66,"column":195,"offset":3291},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":3097},"end":{"line":66,"column":195,"offset":3291},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Apollo Server calls this function for ","position":{"start":{"line":67,"column":3,"offset":3294},"end":{"line":67,"column":41,"offset":3332},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"every incoming operation","position":{"start":{"line":67,"column":42,"offset":3333},"end":{"line":67,"column":66,"offset":3357},"indent":[]}}],"position":{"start":{"line":67,"column":41,"offset":3332},"end":{"line":67,"column":67,"offset":3358},"indent":[]}},{"type":"text","value":". It automatically assigns the returned object to the ","position":{"start":{"line":67,"column":67,"offset":3358},"end":{"line":67,"column":121,"offset":3412},"indent":[]}},{"type":"inlineCode","value":"dataSources","position":{"start":{"line":67,"column":121,"offset":3412},"end":{"line":67,"column":134,"offset":3425},"indent":[]}},{"type":"text","value":" field of ","position":{"start":{"line":67,"column":134,"offset":3425},"end":{"line":67,"column":144,"offset":3435},"indent":[]}},{"type":"link","title":null,"url":"./resolvers/#the-context-argument","children":[{"type":"text","value":"the ","position":{"start":{"line":67,"column":145,"offset":3436},"end":{"line":67,"column":149,"offset":3440},"indent":[]}},{"type":"inlineCode","value":"context","position":{"start":{"line":67,"column":149,"offset":3440},"end":{"line":67,"column":158,"offset":3449},"indent":[]}},{"type":"text","value":" object","position":{"start":{"line":67,"column":158,"offset":3449},"end":{"line":67,"column":165,"offset":3456},"indent":[]}}],"position":{"start":{"line":67,"column":144,"offset":3435},"end":{"line":67,"column":201,"offset":3492},"indent":[]}},{"type":"text","value":" that's passed between your server's resolvers.","position":{"start":{"line":67,"column":201,"offset":3492},"end":{"line":67,"column":248,"offset":3539},"indent":[]}}],"position":{"start":{"line":67,"column":3,"offset":3294},"end":{"line":67,"column":248,"offset":3539},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":3292},"end":{"line":67,"column":248,"offset":3539},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Also as shown, ","position":{"start":{"line":68,"column":3,"offset":3542},"end":{"line":68,"column":18,"offset":3557},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"the function should create a new instance of each data source for each operation.","position":{"start":{"line":68,"column":20,"offset":3559},"end":{"line":68,"column":101,"offset":3640},"indent":[]}}],"position":{"start":{"line":68,"column":18,"offset":3557},"end":{"line":68,"column":103,"offset":3642},"indent":[]}},{"type":"text","value":" If multiple operations share a single data source instance, you might accidentally combine results from multiple operations.","position":{"start":{"line":68,"column":103,"offset":3642},"end":{"line":68,"column":228,"offset":3767},"indent":[]}}],"position":{"start":{"line":68,"column":3,"offset":3542},"end":{"line":68,"column":228,"offset":3767},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":3540},"end":{"line":68,"column":228,"offset":3767},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":3097},"end":{"line":68,"column":228,"offset":3767},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Your resolvers can now access your data sources from the shared ","position":{"start":{"line":70,"column":1,"offset":3769},"end":{"line":70,"column":65,"offset":3833},"indent":[]}},{"type":"inlineCode","value":"context","position":{"start":{"line":70,"column":65,"offset":3833},"end":{"line":70,"column":74,"offset":3842},"indent":[]}},{"type":"text","value":" object and use them to fetch data:","position":{"start":{"line":70,"column":74,"offset":3842},"end":{"line":70,"column":109,"offset":3877},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":3769},"end":{"line":70,"column":109,"offset":3877},"indent":[]}},{"type":"code","lang":"js:title=resolvers.js","meta":null,"value":"const resolvers = {\n  Query: {\n    movie: async (_, { id }, { dataSources }) => {\n      return dataSources.moviesAPI.getMovie(id);\n    },\n    mostViewedMovies: async (_, __, { dataSources }) => {\n      return dataSources.moviesAPI.getMostViewedMovies();\n    },\n    favorites: async (_, __, { dataSources }) => {\n      return dataSources.personalizationAPI.getFavorites();\n    },\n  },\n};","position":{"start":{"line":72,"column":1,"offset":3879},"end":{"line":86,"column":4,"offset":4294},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Caching","position":{"start":{"line":88,"column":4,"offset":4299},"end":{"line":88,"column":11,"offset":4306},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":4296},"end":{"line":88,"column":11,"offset":4306},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"By default, data source implementations use Apollo Server's ","position":{"start":{"line":90,"column":1,"offset":4308},"end":{"line":90,"column":61,"offset":4368},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/InMemoryLRUCache.ts#L14","children":[{"type":"inlineCode","value":"InMemoryLRUCache","position":{"start":{"line":90,"column":62,"offset":4369},"end":{"line":90,"column":80,"offset":4387},"indent":[]}}],"position":{"start":{"line":90,"column":61,"offset":4368},"end":{"line":90,"column":234,"offset":4541},"indent":[]}},{"type":"text","value":" to store the results of past fetches.","position":{"start":{"line":90,"column":234,"offset":4541},"end":{"line":90,"column":272,"offset":4579},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":4308},"end":{"line":90,"column":272,"offset":4579},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When you initialize Apollo Server, you can provide its constructor a ","position":{"start":{"line":92,"column":1,"offset":4581},"end":{"line":92,"column":70,"offset":4650},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"different","position":{"start":{"line":92,"column":71,"offset":4651},"end":{"line":92,"column":80,"offset":4660},"indent":[]}}],"position":{"start":{"line":92,"column":70,"offset":4650},"end":{"line":92,"column":81,"offset":4661},"indent":[]}},{"type":"text","value":" cache object that implements the ","position":{"start":{"line":92,"column":81,"offset":4661},"end":{"line":92,"column":115,"offset":4695},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/KeyValueCache.ts#L10-L14","children":[{"type":"inlineCode","value":"KeyValueCache","position":{"start":{"line":92,"column":116,"offset":4696},"end":{"line":92,"column":131,"offset":4711},"indent":[]}},{"type":"text","value":" interface","position":{"start":{"line":92,"column":131,"offset":4711},"end":{"line":92,"column":141,"offset":4721},"indent":[]}}],"position":{"start":{"line":92,"column":115,"offset":4695},"end":{"line":92,"column":296,"offset":4876},"indent":[]}},{"type":"text","value":". This enables you to back your cache with shared stores like Memcached or Redis.","position":{"start":{"line":92,"column":296,"offset":4876},"end":{"line":92,"column":377,"offset":4957},"indent":[]}}],"position":{"start":{"line":92,"column":1,"offset":4581},"end":{"line":92,"column":377,"offset":4957},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Using Memcached/Redis as a cache storage backend","position":{"start":{"line":94,"column":5,"offset":4963},"end":{"line":94,"column":53,"offset":5011},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":4959},"end":{"line":94,"column":53,"offset":5011},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":" When running multiple instances of your server, you should use a shared cache backend. This enables one server instance to use the cached result from ","position":{"start":{"line":96,"column":1,"offset":5013},"end":{"line":96,"column":152,"offset":5164},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"another","position":{"start":{"line":96,"column":153,"offset":5165},"end":{"line":96,"column":160,"offset":5172},"indent":[]}}],"position":{"start":{"line":96,"column":152,"offset":5164},"end":{"line":96,"column":161,"offset":5173},"indent":[]}},{"type":"text","value":" instance.","position":{"start":{"line":96,"column":161,"offset":5173},"end":{"line":96,"column":171,"offset":5183},"indent":[]}}],"position":{"start":{"line":96,"column":1,"offset":5013},"end":{"line":96,"column":171,"offset":5183},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Apollo Server supports using ","position":{"start":{"line":98,"column":1,"offset":5185},"end":{"line":98,"column":30,"offset":5214},"indent":[]}},{"type":"link","title":null,"url":"https://memcached.org/","children":[{"type":"text","value":"Memcached","position":{"start":{"line":98,"column":31,"offset":5215},"end":{"line":98,"column":40,"offset":5224},"indent":[]}}],"position":{"start":{"line":98,"column":30,"offset":5214},"end":{"line":98,"column":65,"offset":5249},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":98,"column":65,"offset":5249},"end":{"line":98,"column":69,"offset":5253},"indent":[]}},{"type":"link","title":null,"url":"https://redis.io/","children":[{"type":"text","value":"Redis","position":{"start":{"line":98,"column":70,"offset":5254},"end":{"line":98,"column":75,"offset":5259},"indent":[]}}],"position":{"start":{"line":98,"column":69,"offset":5253},"end":{"line":98,"column":95,"offset":5279},"indent":[]}},{"type":"text","value":" as cache stores via the ","position":{"start":{"line":98,"column":95,"offset":5279},"end":{"line":98,"column":120,"offset":5304},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/package/apollo-server-cache-memcached","children":[{"type":"inlineCode","value":"apollo-server-cache-memcached","position":{"start":{"line":98,"column":121,"offset":5305},"end":{"line":98,"column":152,"offset":5336},"indent":[]}}],"position":{"start":{"line":98,"column":120,"offset":5304},"end":{"line":98,"column":214,"offset":5398},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":98,"column":214,"offset":5398},"end":{"line":98,"column":219,"offset":5403},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/package/apollo-server-cache-redis","children":[{"type":"inlineCode","value":"apollo-server-cache-redis","position":{"start":{"line":98,"column":220,"offset":5404},"end":{"line":98,"column":247,"offset":5431},"indent":[]}}],"position":{"start":{"line":98,"column":219,"offset":5403},"end":{"line":98,"column":305,"offset":5489},"indent":[]}},{"type":"text","value":" packages. You can specify which one to use by creating an instance and passing it into the ","position":{"start":{"line":98,"column":305,"offset":5489},"end":{"line":98,"column":397,"offset":5581},"indent":[]}},{"type":"inlineCode","value":"ApolloServer","position":{"start":{"line":98,"column":397,"offset":5581},"end":{"line":98,"column":411,"offset":5595},"indent":[]}},{"type":"text","value":" constructor.","position":{"start":{"line":98,"column":411,"offset":5595},"end":{"line":98,"column":424,"offset":5608},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":5185},"end":{"line":98,"column":424,"offset":5608},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Memcached","position":{"start":{"line":100,"column":6,"offset":5615},"end":{"line":100,"column":15,"offset":5624},"indent":[]}}],"position":{"start":{"line":100,"column":1,"offset":5610},"end":{"line":100,"column":15,"offset":5624},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const { MemcachedCache } = require('apollo-server-cache-memcached');\n\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  cache: new MemcachedCache(\n    ['memcached-server-1', 'memcached-server-2', 'memcached-server-3'],\n    { retries: 10, retry: 10000 }, // Options\n  ),\n  dataSources: () => ({\n    moviesAPI: new MoviesAPI(),\n  }),\n});","position":{"start":{"line":102,"column":1,"offset":5626},"end":{"line":116,"column":4,"offset":5982},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"For the options you can pass to the underlying Memcached client, ","position":{"start":{"line":118,"column":1,"offset":5984},"end":{"line":118,"column":66,"offset":6049},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/3rd-Eden/memcached","children":[{"type":"text","value":"see the documentation","position":{"start":{"line":118,"column":67,"offset":6050},"end":{"line":118,"column":88,"offset":6071},"indent":[]}}],"position":{"start":{"line":118,"column":66,"offset":6049},"end":{"line":118,"column":128,"offset":6111},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":118,"column":128,"offset":6111},"end":{"line":118,"column":129,"offset":6112},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":5984},"end":{"line":118,"column":129,"offset":6112},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Redis","position":{"start":{"line":120,"column":6,"offset":6119},"end":{"line":120,"column":11,"offset":6124},"indent":[]}}],"position":{"start":{"line":120,"column":1,"offset":6114},"end":{"line":120,"column":11,"offset":6124},"indent":[]}},{"type":"code","lang":"js:title=Redis","meta":null,"value":"const { BaseRedisCache } = require('apollo-server-cache-redis');\nconst Redis = require('ioredis');\n\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  cache: new BaseRedisCache({\n    client: new Redis({\n      host: 'redis-server',\n    }),\n  }),\n  dataSources: () => ({\n    moviesAPI: new MoviesAPI(),\n  }),\n});","position":{"start":{"line":122,"column":1,"offset":6126},"end":{"line":138,"column":4,"offset":6468},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"For the options you can pass to the underlying Redis client, ","position":{"start":{"line":140,"column":1,"offset":6470},"end":{"line":140,"column":62,"offset":6531},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/luin/ioredis","children":[{"type":"text","value":"see the documentation","position":{"start":{"line":140,"column":63,"offset":6532},"end":{"line":140,"column":84,"offset":6553},"indent":[]}}],"position":{"start":{"line":140,"column":62,"offset":6531},"end":{"line":140,"column":118,"offset":6587},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":140,"column":118,"offset":6587},"end":{"line":140,"column":119,"offset":6588},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":6470},"end":{"line":140,"column":119,"offset":6588},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Implementing your own cache backend","position":{"start":{"line":142,"column":5,"offset":6594},"end":{"line":142,"column":40,"offset":6629},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":6590},"end":{"line":142,"column":40,"offset":6629},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can create your own implementation of the ","position":{"start":{"line":144,"column":1,"offset":6631},"end":{"line":144,"column":47,"offset":6677},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/KeyValueCache.ts#L10-L14","children":[{"type":"inlineCode","value":"KeyValueCache","position":{"start":{"line":144,"column":48,"offset":6678},"end":{"line":144,"column":63,"offset":6693},"indent":[]}},{"type":"text","value":" interface","position":{"start":{"line":144,"column":63,"offset":6693},"end":{"line":144,"column":73,"offset":6703},"indent":[]}}],"position":{"start":{"line":144,"column":47,"offset":6677},"end":{"line":144,"column":228,"offset":6858},"indent":[]}},{"type":"text","value":" to connect to other caching data stores, or to optimize for your application's query characteristics.","position":{"start":{"line":144,"column":228,"offset":6858},"end":{"line":144,"column":330,"offset":6960},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":6631},"end":{"line":144,"column":330,"offset":6960},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For more information, see the README in for ","position":{"start":{"line":146,"column":1,"offset":6962},"end":{"line":146,"column":45,"offset":7006},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/package/apollo-server-caching","children":[{"type":"text","value":"apollo-server-caching","position":{"start":{"line":146,"column":46,"offset":7007},"end":{"line":146,"column":67,"offset":7028},"indent":[]}}],"position":{"start":{"line":146,"column":45,"offset":7006},"end":{"line":146,"column":121,"offset":7082},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":146,"column":121,"offset":7082},"end":{"line":146,"column":122,"offset":7083},"indent":[]}}],"position":{"start":{"line":146,"column":1,"offset":6962},"end":{"line":146,"column":122,"offset":7083},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":149,"column":4,"offset":7089},"end":{"line":149,"column":20,"offset":7105},"indent":[]}},{"type":"text","value":" reference","position":{"start":{"line":149,"column":20,"offset":7105},"end":{"line":149,"column":30,"offset":7115},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":7086},"end":{"line":149,"column":30,"offset":7115},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":151,"column":1,"offset":7117},"end":{"line":151,"column":5,"offset":7121},"indent":[]}},{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":151,"column":5,"offset":7121},"end":{"line":151,"column":21,"offset":7137},"indent":[]}},{"type":"text","value":" abstract class helps you fetch data from REST APIs. Your server defines a separate subclass of ","position":{"start":{"line":151,"column":21,"offset":7137},"end":{"line":151,"column":117,"offset":7233},"indent":[]}},{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":151,"column":117,"offset":7233},"end":{"line":151,"column":133,"offset":7249},"indent":[]}},{"type":"text","value":" for each REST API it communicates with.","position":{"start":{"line":151,"column":133,"offset":7249},"end":{"line":151,"column":173,"offset":7289},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":7117},"end":{"line":151,"column":173,"offset":7289},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To get started, install the ","position":{"start":{"line":153,"column":1,"offset":7291},"end":{"line":153,"column":29,"offset":7319},"indent":[]}},{"type":"inlineCode","value":"apollo-datasource-rest","position":{"start":{"line":153,"column":29,"offset":7319},"end":{"line":153,"column":53,"offset":7343},"indent":[]}},{"type":"text","value":" package:","position":{"start":{"line":153,"column":53,"offset":7343},"end":{"line":153,"column":62,"offset":7352},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":7291},"end":{"line":153,"column":62,"offset":7352},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"npm install apollo-datasource-rest","position":{"start":{"line":155,"column":1,"offset":7354},"end":{"line":157,"column":4,"offset":7400},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You then extend the ","position":{"start":{"line":159,"column":1,"offset":7402},"end":{"line":159,"column":21,"offset":7422},"indent":[]}},{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":159,"column":21,"offset":7422},"end":{"line":159,"column":37,"offset":7438},"indent":[]}},{"type":"text","value":" class and implement whatever data-fetching methods your resolvers need. These methods can use built-in convenience methods (like ","position":{"start":{"line":159,"column":37,"offset":7438},"end":{"line":159,"column":167,"offset":7568},"indent":[]}},{"type":"inlineCode","value":"get","position":{"start":{"line":159,"column":167,"offset":7568},"end":{"line":159,"column":172,"offset":7573},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":159,"column":172,"offset":7573},"end":{"line":159,"column":177,"offset":7578},"indent":[]}},{"type":"inlineCode","value":"post","position":{"start":{"line":159,"column":177,"offset":7578},"end":{"line":159,"column":183,"offset":7584},"indent":[]}},{"type":"text","value":") to perform HTTP requests, helping you add query parameters, parse JSON results, and handle errors.","position":{"start":{"line":159,"column":183,"offset":7584},"end":{"line":159,"column":283,"offset":7684},"indent":[]}}],"position":{"start":{"line":159,"column":1,"offset":7402},"end":{"line":159,"column":283,"offset":7684},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Example","position":{"start":{"line":161,"column":5,"offset":7690},"end":{"line":161,"column":12,"offset":7697},"indent":[]}}],"position":{"start":{"line":161,"column":1,"offset":7686},"end":{"line":161,"column":12,"offset":7697},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here's an example ","position":{"start":{"line":163,"column":1,"offset":7699},"end":{"line":163,"column":19,"offset":7717},"indent":[]}},{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":163,"column":19,"offset":7717},"end":{"line":163,"column":35,"offset":7733},"indent":[]}},{"type":"text","value":" subclass that defines two data-fetching methods, ","position":{"start":{"line":163,"column":35,"offset":7733},"end":{"line":163,"column":85,"offset":7783},"indent":[]}},{"type":"inlineCode","value":"getMovie","position":{"start":{"line":163,"column":85,"offset":7783},"end":{"line":163,"column":95,"offset":7793},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":163,"column":95,"offset":7793},"end":{"line":163,"column":100,"offset":7798},"indent":[]}},{"type":"inlineCode","value":"getMostViewedMovies","position":{"start":{"line":163,"column":100,"offset":7798},"end":{"line":163,"column":121,"offset":7819},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":163,"column":121,"offset":7819},"end":{"line":163,"column":122,"offset":7820},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":7699},"end":{"line":163,"column":122,"offset":7820},"indent":[]}},{"type":"code","lang":"js:title=movies-api.js","meta":null,"value":"const { RESTDataSource } = require('apollo-datasource-rest');\n\nclass MoviesAPI extends RESTDataSource {\n  constructor() {\n    // Always call super()\n    super();\n    // Sets the base URL for the REST API\n    this.baseURL = 'https://movies-api.example.com/';\n  }\n\n  async getMovie(id) {\n    // Send a GET request to the specified endpoint\n    return this.get(`movies/${encodeURIComponent(id)}`);\n  }\n\n  async getMostViewedMovies(limit = 10) {\n    const data = await this.get('movies', {\n      // Query parameters\n      per_page: limit,\n      order_by: 'most_viewed',\n    });\n    return data.results;\n  }\n}","position":{"start":{"line":165,"column":1,"offset":7822},"end":{"line":190,"column":4,"offset":8456},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"HTTP Methods","position":{"start":{"line":192,"column":5,"offset":8462},"end":{"line":192,"column":17,"offset":8474},"indent":[]}}],"position":{"start":{"line":192,"column":1,"offset":8458},"end":{"line":192,"column":17,"offset":8474},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":194,"column":1,"offset":8476},"end":{"line":194,"column":17,"offset":8492},"indent":[]}},{"type":"text","value":" includes convenience methods for common REST API request methods: ","position":{"start":{"line":194,"column":17,"offset":8492},"end":{"line":194,"column":84,"offset":8559},"indent":[]}},{"type":"inlineCode","value":"get","position":{"start":{"line":194,"column":84,"offset":8559},"end":{"line":194,"column":89,"offset":8564},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":194,"column":89,"offset":8564},"end":{"line":194,"column":91,"offset":8566},"indent":[]}},{"type":"inlineCode","value":"post","position":{"start":{"line":194,"column":91,"offset":8566},"end":{"line":194,"column":97,"offset":8572},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":194,"column":97,"offset":8572},"end":{"line":194,"column":99,"offset":8574},"indent":[]}},{"type":"inlineCode","value":"put","position":{"start":{"line":194,"column":99,"offset":8574},"end":{"line":194,"column":104,"offset":8579},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":194,"column":104,"offset":8579},"end":{"line":194,"column":106,"offset":8581},"indent":[]}},{"type":"inlineCode","value":"patch","position":{"start":{"line":194,"column":106,"offset":8581},"end":{"line":194,"column":113,"offset":8588},"indent":[]}},{"type":"text","value":", and ","position":{"start":{"line":194,"column":113,"offset":8588},"end":{"line":194,"column":119,"offset":8594},"indent":[]}},{"type":"inlineCode","value":"delete","position":{"start":{"line":194,"column":119,"offset":8594},"end":{"line":194,"column":127,"offset":8602},"indent":[]}},{"type":"text","value":" (","position":{"start":{"line":194,"column":127,"offset":8602},"end":{"line":194,"column":129,"offset":8604},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-datasource-rest/src/RESTDataSource.ts#L154-L202","children":[{"type":"text","value":"see the source","position":{"start":{"line":194,"column":130,"offset":8605},"end":{"line":194,"column":144,"offset":8619},"indent":[]}}],"position":{"start":{"line":194,"column":129,"offset":8604},"end":{"line":194,"column":267,"offset":8742},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":194,"column":267,"offset":8742},"end":{"line":194,"column":269,"offset":8744},"indent":[]}}],"position":{"start":{"line":194,"column":1,"offset":8476},"end":{"line":194,"column":269,"offset":8744},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"An example of each is shown below:","position":{"start":{"line":196,"column":1,"offset":8746},"end":{"line":196,"column":35,"offset":8780},"indent":[]}}],"position":{"start":{"line":196,"column":1,"offset":8746},"end":{"line":196,"column":35,"offset":8780},"indent":[]}},{"type":"jsx","value":"<ExpansionPanel title=\"Click to expand\">","position":{"start":{"line":198,"column":1,"offset":8782},"end":{"line":198,"column":41,"offset":8822},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"class MoviesAPI extends RESTDataSource {\n  constructor() {\n    super();\n    this.baseURL = 'https://movies-api.example.com/';\n  }\n\n  // GET\n  async getMovie(id) {\n    return this.get(\n      `movies/${encodeURIComponent(id)}` // path\n    );\n  }\n\n  // POST\n  async postMovie(movie) {\n    return this.post(\n      `movies`, // path\n      movie, // request body\n    );\n  }\n\n  // PUT\n  async newMovie(movie) {\n    return this.put(\n      `movies`, // path\n      movie, // request body\n    );\n  }\n\n  // PATCH\n  async updateMovie(movie) {\n    return this.patch(\n      `movies`, // path\n      { id: movie.id, movie }, // request body\n    );\n  }\n\n  // DELETE\n  async deleteMovie(movie) {\n    return this.delete(\n      `movies/${encodeURIComponent(movie.id)}`, // path\n    );\n  }\n}","position":{"start":{"line":200,"column":1,"offset":8824},"end":{"line":245,"column":4,"offset":9603},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"</ExpansionPanel>","position":{"start":{"line":247,"column":1,"offset":9605},"end":{"line":247,"column":18,"offset":9622},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"Note the use of ","position":{"start":{"line":249,"column":3,"offset":9626},"end":{"line":249,"column":19,"offset":9642},"indent":[]}},{"type":"link","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent","children":[{"type":"inlineCode","value":"encodeURIComponent","position":{"start":{"line":249,"column":20,"offset":9643},"end":{"line":249,"column":40,"offset":9663},"indent":[]}}],"position":{"start":{"line":249,"column":19,"offset":9642},"end":{"line":249,"column":142,"offset":9765},"indent":[]}},{"type":"text","value":". This is a standard JavaScript function that encodes special characters in a URI, preventing a possible injection attack vector.","position":{"start":{"line":249,"column":142,"offset":9765},"end":{"line":249,"column":271,"offset":9894},"indent":[]}}],"position":{"start":{"line":249,"column":3,"offset":9626},"end":{"line":249,"column":271,"offset":9894},"indent":[]}}],"position":{"start":{"line":249,"column":1,"offset":9624},"end":{"line":249,"column":271,"offset":9894},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For a simple example, suppose our REST endpoint responded to the following URLs:","position":{"start":{"line":251,"column":1,"offset":9896},"end":{"line":251,"column":81,"offset":9976},"indent":[]}}],"position":{"start":{"line":251,"column":1,"offset":9896},"end":{"line":251,"column":81,"offset":9976},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"DELETE ","position":{"start":{"line":252,"column":3,"offset":9979},"end":{"line":252,"column":10,"offset":9986},"indent":[]}},{"type":"inlineCode","value":"/movies/:id","position":{"start":{"line":252,"column":10,"offset":9986},"end":{"line":252,"column":23,"offset":9999},"indent":[]}}],"position":{"start":{"line":252,"column":3,"offset":9979},"end":{"line":252,"column":23,"offset":9999},"indent":[]}}],"position":{"start":{"line":252,"column":1,"offset":9977},"end":{"line":252,"column":23,"offset":9999},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"DELETE ","position":{"start":{"line":253,"column":3,"offset":10002},"end":{"line":253,"column":10,"offset":10009},"indent":[]}},{"type":"inlineCode","value":"/movies/:id/characters","position":{"start":{"line":253,"column":10,"offset":10009},"end":{"line":253,"column":34,"offset":10033},"indent":[]}}],"position":{"start":{"line":253,"column":3,"offset":10002},"end":{"line":253,"column":34,"offset":10033},"indent":[]}}],"position":{"start":{"line":253,"column":1,"offset":10000},"end":{"line":253,"column":34,"offset":10033},"indent":[]}}],"position":{"start":{"line":252,"column":1,"offset":9977},"end":{"line":253,"column":34,"offset":10033},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"A \"malicious\" client could provide an ","position":{"start":{"line":255,"column":1,"offset":10035},"end":{"line":255,"column":39,"offset":10073},"indent":[]}},{"type":"inlineCode","value":":id","position":{"start":{"line":255,"column":39,"offset":10073},"end":{"line":255,"column":44,"offset":10078},"indent":[]}},{"type":"text","value":" of ","position":{"start":{"line":255,"column":44,"offset":10078},"end":{"line":255,"column":48,"offset":10082},"indent":[]}},{"type":"inlineCode","value":"1/characters","position":{"start":{"line":255,"column":48,"offset":10082},"end":{"line":255,"column":62,"offset":10096},"indent":[]}},{"type":"text","value":" to target the delete ","position":{"start":{"line":255,"column":62,"offset":10096},"end":{"line":255,"column":84,"offset":10118},"indent":[]}},{"type":"inlineCode","value":"characters","position":{"start":{"line":255,"column":84,"offset":10118},"end":{"line":255,"column":96,"offset":10130},"indent":[]}},{"type":"text","value":" endpoint when it was the singular ","position":{"start":{"line":255,"column":96,"offset":10130},"end":{"line":255,"column":131,"offset":10165},"indent":[]}},{"type":"inlineCode","value":"movie","position":{"start":{"line":255,"column":131,"offset":10165},"end":{"line":255,"column":138,"offset":10172},"indent":[]}},{"type":"text","value":" endpoint that we were trying to delete. URI encoding prevents this kind of injection by transforming the ","position":{"start":{"line":255,"column":138,"offset":10172},"end":{"line":255,"column":244,"offset":10278},"indent":[]}},{"type":"inlineCode","value":"/","position":{"start":{"line":255,"column":244,"offset":10278},"end":{"line":255,"column":247,"offset":10281},"indent":[]}},{"type":"text","value":" into ","position":{"start":{"line":255,"column":247,"offset":10281},"end":{"line":255,"column":253,"offset":10287},"indent":[]}},{"type":"inlineCode","value":"%2F","position":{"start":{"line":255,"column":253,"offset":10287},"end":{"line":255,"column":258,"offset":10292},"indent":[]}},{"type":"text","value":". This can then be correctly decoded and interpreted by the server and won't be treated as a path segment.","position":{"start":{"line":255,"column":258,"offset":10292},"end":{"line":255,"column":364,"offset":10398},"indent":[]}}],"position":{"start":{"line":255,"column":1,"offset":10035},"end":{"line":255,"column":364,"offset":10398},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Method parameters","position":{"start":{"line":257,"column":6,"offset":10405},"end":{"line":257,"column":23,"offset":10422},"indent":[]}}],"position":{"start":{"line":257,"column":1,"offset":10400},"end":{"line":257,"column":23,"offset":10422},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For all HTTP convenience methods, the ","position":{"start":{"line":259,"column":1,"offset":10424},"end":{"line":259,"column":39,"offset":10462},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"first parameter","position":{"start":{"line":259,"column":41,"offset":10464},"end":{"line":259,"column":56,"offset":10479},"indent":[]}}],"position":{"start":{"line":259,"column":39,"offset":10462},"end":{"line":259,"column":58,"offset":10481},"indent":[]}},{"type":"text","value":" is the relative path of the endpoint you're sending the request to (e.g., ","position":{"start":{"line":259,"column":58,"offset":10481},"end":{"line":259,"column":133,"offset":10556},"indent":[]}},{"type":"inlineCode","value":"movies","position":{"start":{"line":259,"column":133,"offset":10556},"end":{"line":259,"column":141,"offset":10564},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":259,"column":141,"offset":10564},"end":{"line":259,"column":143,"offset":10566},"indent":[]}}],"position":{"start":{"line":259,"column":1,"offset":10424},"end":{"line":259,"column":143,"offset":10566},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":261,"column":1,"offset":10568},"end":{"line":261,"column":5,"offset":10572},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"second parameter","position":{"start":{"line":261,"column":7,"offset":10574},"end":{"line":261,"column":23,"offset":10590},"indent":[]}}],"position":{"start":{"line":261,"column":5,"offset":10572},"end":{"line":261,"column":25,"offset":10592},"indent":[]}},{"type":"text","value":" depends on the HTTP method:","position":{"start":{"line":261,"column":25,"offset":10592},"end":{"line":261,"column":53,"offset":10620},"indent":[]}}],"position":{"start":{"line":261,"column":1,"offset":10568},"end":{"line":261,"column":53,"offset":10620},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"For HTTP methods with a request body (","position":{"start":{"line":263,"column":3,"offset":10624},"end":{"line":263,"column":41,"offset":10662},"indent":[]}},{"type":"inlineCode","value":"post","position":{"start":{"line":263,"column":41,"offset":10662},"end":{"line":263,"column":47,"offset":10668},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":263,"column":47,"offset":10668},"end":{"line":263,"column":49,"offset":10670},"indent":[]}},{"type":"inlineCode","value":"put","position":{"start":{"line":263,"column":49,"offset":10670},"end":{"line":263,"column":54,"offset":10675},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":263,"column":54,"offset":10675},"end":{"line":263,"column":56,"offset":10677},"indent":[]}},{"type":"inlineCode","value":"patch","position":{"start":{"line":263,"column":56,"offset":10677},"end":{"line":263,"column":63,"offset":10684},"indent":[]}},{"type":"text","value":"), the second parameter ","position":{"start":{"line":263,"column":63,"offset":10684},"end":{"line":263,"column":87,"offset":10708},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"is","position":{"start":{"line":263,"column":88,"offset":10709},"end":{"line":263,"column":90,"offset":10711},"indent":[]}}],"position":{"start":{"line":263,"column":87,"offset":10708},"end":{"line":263,"column":91,"offset":10712},"indent":[]}},{"type":"text","value":" the request body.","position":{"start":{"line":263,"column":91,"offset":10712},"end":{"line":263,"column":109,"offset":10730},"indent":[]}}],"position":{"start":{"line":263,"column":3,"offset":10624},"end":{"line":263,"column":109,"offset":10730},"indent":[]}}],"position":{"start":{"line":263,"column":1,"offset":10622},"end":{"line":263,"column":109,"offset":10730},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"For HTTP methods ","position":{"start":{"line":264,"column":3,"offset":10733},"end":{"line":264,"column":20,"offset":10750},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"without","position":{"start":{"line":264,"column":21,"offset":10751},"end":{"line":264,"column":28,"offset":10758},"indent":[]}}],"position":{"start":{"line":264,"column":20,"offset":10750},"end":{"line":264,"column":29,"offset":10759},"indent":[]}},{"type":"text","value":" a request body, the second parameter is an object with keys and values corresponding to the request's query parameters.","position":{"start":{"line":264,"column":29,"offset":10759},"end":{"line":264,"column":149,"offset":10879},"indent":[]}}],"position":{"start":{"line":264,"column":3,"offset":10733},"end":{"line":264,"column":149,"offset":10879},"indent":[]}}],"position":{"start":{"line":264,"column":1,"offset":10731},"end":{"line":264,"column":149,"offset":10879},"indent":[]}}],"position":{"start":{"line":263,"column":1,"offset":10622},"end":{"line":264,"column":149,"offset":10879},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"For all methods, the ","position":{"start":{"line":266,"column":1,"offset":10881},"end":{"line":266,"column":22,"offset":10902},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"third parameter","position":{"start":{"line":266,"column":24,"offset":10904},"end":{"line":266,"column":39,"offset":10919},"indent":[]}}],"position":{"start":{"line":266,"column":22,"offset":10902},"end":{"line":266,"column":41,"offset":10921},"indent":[]}},{"type":"text","value":" is an ","position":{"start":{"line":266,"column":41,"offset":10921},"end":{"line":266,"column":48,"offset":10928},"indent":[]}},{"type":"inlineCode","value":"init","position":{"start":{"line":266,"column":48,"offset":10928},"end":{"line":266,"column":54,"offset":10934},"indent":[]}},{"type":"text","value":" object that enables you to provide additional options (such as headers and referrers) to the ","position":{"start":{"line":266,"column":54,"offset":10934},"end":{"line":266,"column":148,"offset":11028},"indent":[]}},{"type":"inlineCode","value":"fetch","position":{"start":{"line":266,"column":148,"offset":11028},"end":{"line":266,"column":155,"offset":11035},"indent":[]}},{"type":"text","value":" API that's used to send the request. For details, ","position":{"start":{"line":266,"column":155,"offset":11035},"end":{"line":266,"column":206,"offset":11086},"indent":[]}},{"type":"link","title":null,"url":"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters","children":[{"type":"text","value":"see MDN's fetch docs","position":{"start":{"line":266,"column":207,"offset":11087},"end":{"line":266,"column":227,"offset":11107},"indent":[]}}],"position":{"start":{"line":266,"column":206,"offset":11086},"end":{"line":266,"column":321,"offset":11201},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":266,"column":321,"offset":11201},"end":{"line":266,"column":322,"offset":11202},"indent":[]}}],"position":{"start":{"line":266,"column":1,"offset":10881},"end":{"line":266,"column":322,"offset":11202},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Intercepting fetches","position":{"start":{"line":268,"column":5,"offset":11208},"end":{"line":268,"column":25,"offset":11228},"indent":[]}}],"position":{"start":{"line":268,"column":1,"offset":11204},"end":{"line":268,"column":25,"offset":11228},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":270,"column":1,"offset":11230},"end":{"line":270,"column":17,"offset":11246},"indent":[]}},{"type":"text","value":" includes a ","position":{"start":{"line":270,"column":17,"offset":11246},"end":{"line":270,"column":29,"offset":11258},"indent":[]}},{"type":"inlineCode","value":"willSendRequest","position":{"start":{"line":270,"column":29,"offset":11258},"end":{"line":270,"column":46,"offset":11275},"indent":[]}},{"type":"text","value":" method that you can override to modify outgoing requests before they're sent. For example, you can use this method to add headers or query parameters. This method is most commonly used for authorization or other concerns that apply to all sent requests.","position":{"start":{"line":270,"column":46,"offset":11275},"end":{"line":270,"column":300,"offset":11529},"indent":[]}}],"position":{"start":{"line":270,"column":1,"offset":11230},"end":{"line":270,"column":300,"offset":11529},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Data sources also have access to the GraphQL operation context, which is useful for storing a user token or other relevant information.","position":{"start":{"line":272,"column":1,"offset":11531},"end":{"line":272,"column":136,"offset":11666},"indent":[]}}],"position":{"start":{"line":272,"column":1,"offset":11531},"end":{"line":272,"column":136,"offset":11666},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Setting a header","position":{"start":{"line":275,"column":6,"offset":11674},"end":{"line":275,"column":22,"offset":11690},"indent":[]}}],"position":{"start":{"line":275,"column":1,"offset":11669},"end":{"line":275,"column":22,"offset":11690},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"class PersonalizationAPI extends RESTDataSource {\n  willSendRequest(request) {\n    request.headers.set('Authorization', this.context.token);\n  }\n}","position":{"start":{"line":277,"column":1,"offset":11692},"end":{"line":283,"column":4,"offset":11848},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Adding a query parameter","position":{"start":{"line":285,"column":6,"offset":11855},"end":{"line":285,"column":30,"offset":11879},"indent":[]}}],"position":{"start":{"line":285,"column":1,"offset":11850},"end":{"line":285,"column":30,"offset":11879},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"class PersonalizationAPI extends RESTDataSource {\n  willSendRequest(request) {\n    request.params.set('api_key', this.context.token);\n  }\n}","position":{"start":{"line":287,"column":1,"offset":11881},"end":{"line":293,"column":4,"offset":12030},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Using with TypeScript","position":{"start":{"line":295,"column":6,"offset":12037},"end":{"line":295,"column":27,"offset":12058},"indent":[]}}],"position":{"start":{"line":295,"column":1,"offset":12032},"end":{"line":295,"column":27,"offset":12058},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you're using TypeScript, make sure to import the ","position":{"start":{"line":297,"column":1,"offset":12060},"end":{"line":297,"column":53,"offset":12112},"indent":[]}},{"type":"inlineCode","value":"RequestOptions","position":{"start":{"line":297,"column":53,"offset":12112},"end":{"line":297,"column":69,"offset":12128},"indent":[]}},{"type":"text","value":" type:","position":{"start":{"line":297,"column":69,"offset":12128},"end":{"line":297,"column":75,"offset":12134},"indent":[]}}],"position":{"start":{"line":297,"column":1,"offset":12060},"end":{"line":297,"column":75,"offset":12134},"indent":[]}},{"type":"code","lang":"typescript","meta":null,"value":"import { RESTDataSource, RequestOptions } from 'apollo-datasource-rest';\n\nclass PersonalizationAPI extends RESTDataSource {\n  baseURL = 'https://personalization-api.example.com/';\n\n  willSendRequest(request: RequestOptions) {\n    request.headers.set('Authorization', this.context.token);\n  }\n}","position":{"start":{"line":299,"column":1,"offset":12136},"end":{"line":309,"column":4,"offset":12447},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Resolving URLs dynamically","position":{"start":{"line":311,"column":5,"offset":12453},"end":{"line":311,"column":31,"offset":12479},"indent":[]}}],"position":{"start":{"line":311,"column":1,"offset":12449},"end":{"line":311,"column":31,"offset":12479},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In some cases, you'll want to set the URL based on the environment or other contextual values. To do this, you can override ","position":{"start":{"line":313,"column":1,"offset":12481},"end":{"line":313,"column":125,"offset":12605},"indent":[]}},{"type":"inlineCode","value":"resolveURL","position":{"start":{"line":313,"column":125,"offset":12605},"end":{"line":313,"column":137,"offset":12617},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":313,"column":137,"offset":12617},"end":{"line":313,"column":138,"offset":12618},"indent":[]}}],"position":{"start":{"line":313,"column":1,"offset":12481},"end":{"line":313,"column":138,"offset":12618},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"async resolveURL(request: RequestOptions) {\n  if (!this.baseURL) {\n    const addresses = await resolveSrv(request.path.split(\"/\")[1] + \".service.consul\");\n    this.baseURL = addresses[0];\n  }\n  return super.resolveURL(request);\n}","position":{"start":{"line":315,"column":1,"offset":12620},"end":{"line":323,"column":4,"offset":12859},"indent":[1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Using with DataLoader","position":{"start":{"line":325,"column":5,"offset":12865},"end":{"line":325,"column":26,"offset":12886},"indent":[]}}],"position":{"start":{"line":325,"column":1,"offset":12861},"end":{"line":325,"column":26,"offset":12886},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":327,"column":1,"offset":12888},"end":{"line":327,"column":5,"offset":12892},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/graphql/dataloader","children":[{"type":"text","value":"DataLoader","position":{"start":{"line":327,"column":6,"offset":12893},"end":{"line":327,"column":16,"offset":12903},"indent":[]}}],"position":{"start":{"line":327,"column":5,"offset":12892},"end":{"line":327,"column":56,"offset":12943},"indent":[]}},{"type":"text","value":" utility was designed for a specific use case: deduplicating and batching object loads from a data store. It provides a memoization cache, which avoids loading the same object multiple times during a single GraphQL request. It also combines loads that occur during a single tick of the event loop into a batched request that fetches multiple objects at once.","position":{"start":{"line":327,"column":56,"offset":12943},"end":{"line":327,"column":414,"offset":13301},"indent":[]}}],"position":{"start":{"line":327,"column":1,"offset":12888},"end":{"line":327,"column":414,"offset":13301},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"DataLoader is great for its intended use case, but it’s less helpful when loading data from REST APIs. This is because its primary feature is ","position":{"start":{"line":329,"column":1,"offset":13303},"end":{"line":329,"column":143,"offset":13445},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"batching","position":{"start":{"line":329,"column":144,"offset":13446},"end":{"line":329,"column":152,"offset":13454},"indent":[]}}],"position":{"start":{"line":329,"column":143,"offset":13445},"end":{"line":329,"column":153,"offset":13455},"indent":[]}},{"type":"text","value":", not ","position":{"start":{"line":329,"column":153,"offset":13455},"end":{"line":329,"column":159,"offset":13461},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"caching","position":{"start":{"line":329,"column":160,"offset":13462},"end":{"line":329,"column":167,"offset":13469},"indent":[]}}],"position":{"start":{"line":329,"column":159,"offset":13461},"end":{"line":329,"column":168,"offset":13470},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":329,"column":168,"offset":13470},"end":{"line":329,"column":169,"offset":13471},"indent":[]}}],"position":{"start":{"line":329,"column":1,"offset":13303},"end":{"line":329,"column":169,"offset":13471},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When layering GraphQL over REST APIs, it's most helpful to have a resource cache that:","position":{"start":{"line":331,"column":1,"offset":13473},"end":{"line":331,"column":87,"offset":13559},"indent":[]}}],"position":{"start":{"line":331,"column":1,"offset":13473},"end":{"line":331,"column":87,"offset":13559},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Saves data across multiple GraphQL requests","position":{"start":{"line":333,"column":3,"offset":13563},"end":{"line":333,"column":46,"offset":13606},"indent":[]}}],"position":{"start":{"line":333,"column":3,"offset":13563},"end":{"line":333,"column":46,"offset":13606},"indent":[]}}],"position":{"start":{"line":333,"column":1,"offset":13561},"end":{"line":333,"column":46,"offset":13606},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Can be shared across multiple GraphQL servers","position":{"start":{"line":334,"column":3,"offset":13609},"end":{"line":334,"column":48,"offset":13654},"indent":[]}}],"position":{"start":{"line":334,"column":3,"offset":13609},"end":{"line":334,"column":48,"offset":13654},"indent":[]}}],"position":{"start":{"line":334,"column":1,"offset":13607},"end":{"line":334,"column":48,"offset":13654},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Provides cache management features like expiry and invalidation that use standard HTTP cache control headers","position":{"start":{"line":335,"column":3,"offset":13657},"end":{"line":335,"column":111,"offset":13765},"indent":[]}}],"position":{"start":{"line":335,"column":3,"offset":13657},"end":{"line":335,"column":111,"offset":13765},"indent":[]}}],"position":{"start":{"line":335,"column":1,"offset":13655},"end":{"line":335,"column":111,"offset":13765},"indent":[]}}],"position":{"start":{"line":333,"column":1,"offset":13561},"end":{"line":335,"column":111,"offset":13765},"indent":[1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Batching with REST APIs","position":{"start":{"line":337,"column":6,"offset":13772},"end":{"line":337,"column":29,"offset":13795},"indent":[]}}],"position":{"start":{"line":337,"column":1,"offset":13767},"end":{"line":337,"column":29,"offset":13795},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Most REST APIs don't support batching. When they do, using a batched endpoint can ","position":{"start":{"line":339,"column":1,"offset":13797},"end":{"line":339,"column":83,"offset":13879},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"jeopardize","position":{"start":{"line":339,"column":84,"offset":13880},"end":{"line":339,"column":94,"offset":13890},"indent":[]}}],"position":{"start":{"line":339,"column":83,"offset":13879},"end":{"line":339,"column":95,"offset":13891},"indent":[]}},{"type":"text","value":" caching. When you fetch data in a batch request, the response you receive is for the exact combination of resources you're requesting. Unless you request that same combination again, future requests for the same resource won't be served from cache.","position":{"start":{"line":339,"column":95,"offset":13891},"end":{"line":339,"column":344,"offset":14140},"indent":[]}}],"position":{"start":{"line":339,"column":1,"offset":13797},"end":{"line":339,"column":344,"offset":14140},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We recommend that you restrict batching to requests that ","position":{"start":{"line":341,"column":1,"offset":14142},"end":{"line":341,"column":58,"offset":14199},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"can't","position":{"start":{"line":341,"column":59,"offset":14200},"end":{"line":341,"column":64,"offset":14205},"indent":[]}}],"position":{"start":{"line":341,"column":58,"offset":14199},"end":{"line":341,"column":65,"offset":14206},"indent":[]}},{"type":"text","value":" be cached. In these cases, you can take advantage of DataLoader as a private implementation detail inside your ","position":{"start":{"line":341,"column":65,"offset":14206},"end":{"line":341,"column":177,"offset":14318},"indent":[]}},{"type":"inlineCode","value":"RESTDataSource","position":{"start":{"line":341,"column":177,"offset":14318},"end":{"line":341,"column":193,"offset":14334},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":341,"column":193,"offset":14334},"end":{"line":341,"column":194,"offset":14335},"indent":[]}}],"position":{"start":{"line":341,"column":1,"offset":14142},"end":{"line":341,"column":194,"offset":14335},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"class PersonalizationAPI extends RESTDataSource {\n  constructor() {\n    super();\n    this.baseURL = 'https://personalization-api.example.com/';\n  }\n\n  willSendRequest(request) {\n    request.headers.set('Authorization', this.context.token);\n  }\n\n  private progressLoader = new DataLoader(async (ids) => {\n    const progressList = await this.get('progress', {\n      ids: ids.join(','),\n    });\n    return ids.map(id =>\n      progressList.find((progress) => progress.id === id),\n    );\n  });\n\n  async getProgressFor(id) {\n    return this.progressLoader.load(id);\n  }","position":{"start":{"line":343,"column":1,"offset":14337},"end":{"line":366,"column":4,"offset":14910},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Data sources\",\"description\":\"Manage connections to databases and REST APIs\"}","position":{"start":{"line":369,"column":1,"offset":14913},"end":{"line":369,"column":115,"offset":15027},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":369,"column":115,"offset":15027}}},"scopeImports":["import {\n  ExpansionPanel,\n} from 'gatsby-theme-apollo-docs/src/components/expansion-panel';","import * as React from 'react'"],"scopeIdentifiers":["ExpansionPanel","React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Data sources\",\n  \"description\": \"Manage connections to databases and REST APIs\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Data sources\"), \" are classes that Apollo Server can use to encapsulate fetching data from a particular source, such as a database or a REST API. These classes help handle caching, deduplication, and errors while resolving operations.\"), mdx(\"p\", null, \"Your server can use any number of different data sources. You don't \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"have\"), \" to use data sources to fetch data, but they're strongly recommended.\"), mdx(\"div\", {\n    \"className\": \"mermaid\",\n    \"data-processed\": \"true\"\n  }, mdx(\"svg\", {\n    parentName: \"div\",\n    \"id\": \"mermaid-1646780025791\",\n    \"width\": \"100%\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\",\n    \"xmlnsXLink\": \"http://www.w3.org/1999/xlink\",\n    \"height\": \"206\",\n    \"style\": {\n      \"maxWidth\": \"689.390625px\"\n    },\n    \"viewBox\": \"0 0 689.390625 206\"\n  }, mdx(\"style\", {\n    parentName: \"svg\"\n  }, \"#mermaid-1646780025791 {font-family:\\\"trebuchet ms\\\",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1646780025791 .error-icon{fill:#552222;}#mermaid-1646780025791 .error-text{fill:#552222;stroke:#552222;}#mermaid-1646780025791 .edge-thickness-normal{stroke-width:2px;}#mermaid-1646780025791 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1646780025791 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1646780025791 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1646780025791 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1646780025791 .marker{fill:#333333;stroke:#333333;}#mermaid-1646780025791 .marker.cross{stroke:#333333;}#mermaid-1646780025791 svg{font-family:\\\"trebuchet ms\\\",verdana,arial,sans-serif;font-size:16px;}#mermaid-1646780025791 .label{font-family:\\\"trebuchet ms\\\",verdana,arial,sans-serif;color:#333;}#mermaid-1646780025791 .cluster-label text{fill:#333;}#mermaid-1646780025791 .cluster-label span{color:#333;}#mermaid-1646780025791 .label text,#mermaid-1646780025791 span{fill:#333;color:#333;}#mermaid-1646780025791 .node rect,#mermaid-1646780025791 .node circle,#mermaid-1646780025791 .node ellipse,#mermaid-1646780025791 .node polygon,#mermaid-1646780025791 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1646780025791 .node .label{text-align:center;}#mermaid-1646780025791 .node.clickable{cursor:pointer;}#mermaid-1646780025791 .arrowheadPath{fill:#333333;}#mermaid-1646780025791 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1646780025791 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1646780025791 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1646780025791 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1646780025791 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1646780025791 .cluster text{fill:#333;}#mermaid-1646780025791 .cluster span{color:#333;}#mermaid-1646780025791 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:\\\"trebuchet ms\\\",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1646780025791 .node rect,#mermaid-1646780025791 .node circle,#mermaid-1646780025791 .node polygon,#mermaid-1646780025791 .node path{stroke-width:2px;stroke:#3f20ba;fill:#F4F6F8;}#mermaid-1646780025791 .node.secondary rect,#mermaid-1646780025791 .node.secondary circle,#mermaid-1646780025791 .node.secondary polygon,#mermaid-1646780025791 .node.tertiary rect,#mermaid-1646780025791 .node.tertiary circle,#mermaid-1646780025791 .node.tertiary polygon{fill:white;}#mermaid-1646780025791 .node.secondary rect,#mermaid-1646780025791 .node.secondary circle,#mermaid-1646780025791 .node.secondary polygon{stroke:#832363;}#mermaid-1646780025791 .cluster rect,#mermaid-1646780025791 .node.tertiary rect,#mermaid-1646780025791 .node.tertiary circle,#mermaid-1646780025791 .node.tertiary polygon{stroke:#1d7b78;}#mermaid-1646780025791 .cluster rect{fill:none;stroke-width:2px;}#mermaid-1646780025791 .label,#mermaid-1646780025791 .edgeLabel{background-color:white;line-height:1.3;}#mermaid-1646780025791 .edgeLabel rect{background:none;fill:none;}#mermaid-1646780025791 .messageText,#mermaid-1646780025791 .noteText,#mermaid-1646780025791 .loopText{font-size:12px;stroke:none;}#mermaid-1646780025791 g rect,#mermaid-1646780025791 polygon.labelBox{stroke-width:2px;}#mermaid-1646780025791 g rect.actor{stroke:#1d7b78;fill:white;}#mermaid-1646780025791 g rect.note{stroke:#832363;fill:white;}#mermaid-1646780025791 g line.loopLine,#mermaid-1646780025791 polygon.labelBox{stroke:#3f20ba;fill:white;}#mermaid-1646780025791 :root{--mermaid-font-family:\\\"trebuchet ms\\\",verdana,arial,sans-serif;}\"), mdx(\"g\", {\n    parentName: \"svg\",\n    \"transform\": \"translate(0, 0)\"\n  }, mdx(\"marker\", {\n    parentName: \"g\",\n    \"id\": \"flowchart-pointEnd\",\n    \"className\": \"marker flowchart\",\n    \"viewBox\": \"0 0 10 10\",\n    \"refX\": \"9\",\n    \"refY\": \"5\",\n    \"markerUnits\": \"userSpaceOnUse\",\n    \"markerWidth\": \"12\",\n    \"markerHeight\": \"12\",\n    \"orient\": \"auto\"\n  }, mdx(\"path\", {\n    parentName: \"marker\",\n    \"d\": \"M 0 0 L 10 5 L 0 10 z\",\n    \"className\": \"arrowMarkerPath\",\n    \"style\": {\n      \"strokeWidth\": \"1\",\n      \"strokeDasharray\": \"1, 0\"\n    }\n  })), mdx(\"marker\", {\n    parentName: \"g\",\n    \"id\": \"flowchart-pointStart\",\n    \"className\": \"marker flowchart\",\n    \"viewBox\": \"0 0 10 10\",\n    \"refX\": \"0\",\n    \"refY\": \"5\",\n    \"markerUnits\": \"userSpaceOnUse\",\n    \"markerWidth\": \"12\",\n    \"markerHeight\": \"12\",\n    \"orient\": \"auto\"\n  }, mdx(\"path\", {\n    parentName: \"marker\",\n    \"d\": \"M 0 5 L 10 10 L 10 0 z\",\n    \"className\": \"arrowMarkerPath\",\n    \"style\": {\n      \"strokeWidth\": \"1\",\n      \"strokeDasharray\": \"1, 0\"\n    }\n  })), mdx(\"marker\", {\n    parentName: \"g\",\n    \"id\": \"flowchart-circleEnd\",\n    \"className\": \"marker flowchart\",\n    \"viewBox\": \"0 0 10 10\",\n    \"refX\": \"11\",\n    \"refY\": \"5\",\n    \"markerUnits\": \"userSpaceOnUse\",\n    \"markerWidth\": \"11\",\n    \"markerHeight\": \"11\",\n    \"orient\": \"auto\"\n  }, mdx(\"circle\", {\n    parentName: \"marker\",\n    \"cx\": \"5\",\n    \"cy\": \"5\",\n    \"r\": \"5\",\n    \"className\": \"arrowMarkerPath\",\n    \"style\": {\n      \"strokeWidth\": \"1\",\n      \"strokeDasharray\": \"1, 0\"\n    }\n  })), mdx(\"marker\", {\n    parentName: \"g\",\n    \"id\": \"flowchart-circleStart\",\n    \"className\": \"marker flowchart\",\n    \"viewBox\": \"0 0 10 10\",\n    \"refX\": \"-1\",\n    \"refY\": \"5\",\n    \"markerUnits\": \"userSpaceOnUse\",\n    \"markerWidth\": \"11\",\n    \"markerHeight\": \"11\",\n    \"orient\": \"auto\"\n  }, mdx(\"circle\", {\n    parentName: \"marker\",\n    \"cx\": \"5\",\n    \"cy\": \"5\",\n    \"r\": \"5\",\n    \"className\": \"arrowMarkerPath\",\n    \"style\": {\n      \"strokeWidth\": \"1\",\n      \"strokeDasharray\": \"1, 0\"\n    }\n  })), mdx(\"marker\", {\n    parentName: \"g\",\n    \"id\": \"flowchart-crossEnd\",\n    \"className\": \"marker cross flowchart\",\n    \"viewBox\": \"0 0 11 11\",\n    \"refX\": \"12\",\n    \"refY\": \"5.2\",\n    \"markerUnits\": \"userSpaceOnUse\",\n    \"markerWidth\": \"11\",\n    \"markerHeight\": \"11\",\n    \"orient\": \"auto\"\n  }, mdx(\"path\", {\n    parentName: \"marker\",\n    \"d\": \"M 1,1 l 9,9 M 10,1 l -9,9\",\n    \"className\": \"arrowMarkerPath\",\n    \"style\": {\n      \"strokeWidth\": \"2\",\n      \"strokeDasharray\": \"1, 0\"\n    }\n  })), mdx(\"marker\", {\n    parentName: \"g\",\n    \"id\": \"flowchart-crossStart\",\n    \"className\": \"marker cross flowchart\",\n    \"viewBox\": \"0 0 11 11\",\n    \"refX\": \"-1\",\n    \"refY\": \"5.2\",\n    \"markerUnits\": \"userSpaceOnUse\",\n    \"markerWidth\": \"11\",\n    \"markerHeight\": \"11\",\n    \"orient\": \"auto\"\n  }, mdx(\"path\", {\n    parentName: \"marker\",\n    \"d\": \"M 1,1 l 9,9 M 10,1 l -9,9\",\n    \"className\": \"arrowMarkerPath\",\n    \"style\": {\n      \"strokeWidth\": \"2\",\n      \"strokeDasharray\": \"1, 0\"\n    }\n  })), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"root\"\n  }, mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"clusters\"\n  }, mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"cluster default\",\n    \"id\": \"ApolloServer\"\n  }, mdx(\"rect\", {\n    parentName: \"g\",\n    \"style\": {},\n    \"rx\": \"0\",\n    \"ry\": \"0\",\n    \"x\": \"246.5\",\n    \"y\": \"8\",\n    \"width\": \"180.734375\",\n    \"height\": \"190\"\n  }), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"cluster-label\",\n    \"transform\": \"translate(291.671875, 13)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"90.390625\",\n    \"height\": \"19\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"nodeLabel\"\n  }, \"ApolloServer\")))))), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"edgePaths\"\n  }, mdx(\"path\", {\n    parentName: \"g\",\n    \"d\": \"M402.234375,60.5L406.4010416666667,60.5C410.5677083333333,60.5,418.9010416666667,60.5,434.9205729166667,60.5C450.9401041666667,60.5,474.6458333333333,60.5,501.2200520833333,60.5C527.7942708333334,60.5,557.2369791666666,60.5,571.9583333333334,60.5L586.6796875,60.5\",\n    \"id\": \"L-restDataSource-restAPI-0\",\n    \"className\": \"edge-thickness-normal edge-pattern-solid flowchart-link LS-restDataSource LE-restAPI\",\n    \"style\": {\n      \"fill\": \"none\"\n    },\n    \"markerEnd\": \"url(#flowchart-pointEnd)\"\n  }), mdx(\"path\", {\n    parentName: \"g\",\n    \"d\": \"M398.1015625,145.5L402.95703125,145.5C407.8125,145.5,417.5234375,145.5,434.2317708333333,145.5C450.9401041666667,145.5,474.6458333333333,145.5,498.3515625,145.5C522.0572916666666,145.5,545.7630208333334,145.5,557.6158854166666,145.5L569.46875,145.5\",\n    \"id\": \"L-sqlDataSource-sql-0\",\n    \"className\": \"edge-thickness-normal edge-pattern-solid flowchart-link LS-sqlDataSource LE-sql\",\n    \"style\": {\n      \"fill\": \"none\"\n    },\n    \"markerEnd\": \"url(#flowchart-pointEnd)\"\n  }), mdx(\"path\", {\n    parentName: \"g\",\n    \"d\": \"M110.625,60.5L121.94791666666667,60.5C133.27083333333334,60.5,155.91666666666666,60.5,178.5625,60.5C201.20833333333334,60.5,223.85416666666666,60.5,235.17708333333334,60.5L246.5,60.5\",\n    \"id\": \"L-client-ApolloServer-0\",\n    \"className\": \"edge-thickness-normal edge-pattern-solid flowchart-link LS-client LE-ApolloServer\",\n    \"style\": {\n      \"fill\": \"none\"\n    },\n    \"markerEnd\": \"url(#flowchart-pointEnd)\"\n  })), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"edgeLabels\"\n  }, mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"edgeLabel\",\n    \"transform\": \"translate(498.3515625, 60.5)\"\n  }, mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"label\",\n    \"transform\": \"translate(-46.1171875, -10)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"92.234375\",\n    \"height\": \"20\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"edgeLabel\"\n  }, \"Fetches data\"))))), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"edgeLabel\",\n    \"transform\": \"translate(498.3515625, 145.5)\"\n  }, mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"label\",\n    \"transform\": \"translate(-46.1171875, -10)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"92.234375\",\n    \"height\": \"20\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"edgeLabel\"\n  }, \"Fetches data\"))))), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"edgeLabel\",\n    \"transform\": \"translate(178.5625, 60.5)\"\n  }, mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"label\",\n    \"transform\": \"translate(-42.9375, -10)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"85.875\",\n    \"height\": \"20\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"edgeLabel\"\n  }, \"Sends query\")))))), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"nodes\"\n  }, mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"node default default\",\n    \"id\": \"flowchart-restDataSource-13\",\n    \"transform\": \"translate(336.8671875, 60.5)\"\n  }, mdx(\"rect\", {\n    parentName: \"g\",\n    \"className\": \"basic label-container\",\n    \"style\": {},\n    \"rx\": \"5\",\n    \"ry\": \"5\",\n    \"x\": \"-65.3671875\",\n    \"y\": \"-17.5\",\n    \"width\": \"130.734375\",\n    \"height\": \"35\"\n  }), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"label\",\n    \"style\": {},\n    \"transform\": \"translate(-57.8671875, -10)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"115.734375\",\n    \"height\": \"20\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"nodeLabel\"\n  }, \"RESTDataSource\"))))), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"node default default\",\n    \"id\": \"flowchart-sqlDataSource-14\",\n    \"transform\": \"translate(336.8671875, 145.5)\"\n  }, mdx(\"rect\", {\n    parentName: \"g\",\n    \"className\": \"basic label-container\",\n    \"style\": {},\n    \"rx\": \"5\",\n    \"ry\": \"5\",\n    \"x\": \"-61.234375\",\n    \"y\": \"-17.5\",\n    \"width\": \"122.46875\",\n    \"height\": \"35\"\n  }), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"label\",\n    \"style\": {},\n    \"transform\": \"translate(-53.734375, -10)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"107.46875\",\n    \"height\": \"20\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"nodeLabel\"\n  }, \"SQLDataSource\"))))), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"node default secondary\",\n    \"id\": \"flowchart-restAPI-11\",\n    \"transform\": \"translate(625.4296875, 60.5)\"\n  }, mdx(\"rect\", {\n    parentName: \"g\",\n    \"className\": \"basic label-container\",\n    \"style\": {},\n    \"rx\": \"5\",\n    \"ry\": \"5\",\n    \"x\": \"-38.75\",\n    \"y\": \"-17.5\",\n    \"width\": \"77.5\",\n    \"height\": \"35\"\n  }), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"label\",\n    \"style\": {},\n    \"transform\": \"translate(-31.25, -10)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"62.5\",\n    \"height\": \"20\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"nodeLabel\"\n  }, \"REST API\"))))), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"node default secondary\",\n    \"id\": \"flowchart-sql-12\",\n    \"transform\": \"translate(625.4296875, 145.5)\"\n  }, mdx(\"rect\", {\n    parentName: \"g\",\n    \"className\": \"basic label-container\",\n    \"style\": {},\n    \"rx\": \"5\",\n    \"ry\": \"5\",\n    \"x\": \"-55.9609375\",\n    \"y\": \"-17.5\",\n    \"width\": \"111.921875\",\n    \"height\": \"35\"\n  }), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"label\",\n    \"style\": {},\n    \"transform\": \"translate(-48.4609375, -10)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"96.921875\",\n    \"height\": \"20\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"nodeLabel\"\n  }, \"SQL Database\"))))), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"node default default\",\n    \"id\": \"flowchart-client-19\",\n    \"transform\": \"translate(59.3125, 60.5)\"\n  }, mdx(\"rect\", {\n    parentName: \"g\",\n    \"className\": \"basic label-container\",\n    \"style\": {},\n    \"rx\": \"5\",\n    \"ry\": \"5\",\n    \"x\": \"-51.3125\",\n    \"y\": \"-17.5\",\n    \"width\": \"102.625\",\n    \"height\": \"35\"\n  }), mdx(\"g\", {\n    parentName: \"g\",\n    \"className\": \"label\",\n    \"style\": {},\n    \"transform\": \"translate(-43.8125, -10)\"\n  }, mdx(\"foreignObject\", {\n    parentName: \"g\",\n    \"width\": \"87.625\",\n    \"height\": \"20\"\n  }, mdx(\"div\", {\n    parentName: \"foreignObject\",\n    \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n    \"style\": {\n      \"display\": \"inline-block\",\n      \"whiteSpace\": \"nowrap\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"div\",\n    \"className\": \"nodeLabel\"\n  }, \"ApolloClient\")))))))))), mdx(\"h2\", {\n    \"id\": \"open-source-implementations\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#open-source-implementations\",\n    \"aria-label\": \"open source implementations permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Open-source implementations\"), mdx(\"p\", null, \"All data source implementations extend the generic \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-datasource/src/index.ts\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"DataSource\"), \" abstract class\"), \", which is included in the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"apollo-datasource\"), \" package. Subclasses of a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"DataSource\"), \" should define whatever logic is required to communicate with a particular store or API.\"), mdx(\"p\", null, \"Apollo and the larger community maintain the following open-source implementations:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Do you maintain a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"DataSource\"), \" implementation that isn't listed here? Please \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/apollographql/apollo-server/blob/main/docs/source/data/data-sources.md\"\n  }, \"submit a PR\"), \" to be added to the list!\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Class\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Source\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"For Use With\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://github.com/apollographql/apollo-server/tree/main/packages/apollo-datasource-rest\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Apollo\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"REST APIs (\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"#restdatasource-reference\"\n  }, \"see below\"), \")\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://github.com/StarpTech/apollo-datasource-http\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"HTTPDataSource\"))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Community\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"HTTP/REST APIs (newer community alternative to \", mdx(\"code\", {\n    parentName: \"td\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \")\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://github.com/cvburgess/SQLDataSource\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"SQLDataSource\"))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Community\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"SQL databases (via \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"http://knexjs.org/\"\n  }, \"Knex.js\"), \")\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://github.com/GraphQLGuide/apollo-datasource-mongodb/\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"MongoDataSource\"))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Community\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"MongoDB\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://github.com/andrejpk/apollo-datasource-cosmosdb\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"CosmosDataSource\"))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Community\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Azure Cosmos DB\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://github.com/swantzter/apollo-datasource-firestore\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"FirestoreDataSource\"))), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Community\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cloud Firestore\")))), mdx(\"p\", null, \"If none of these implementations applies to your use case, you can create your own custom \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"DataSource\"), \" subclass.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Apollo does not provide official support for community-maintained libraries. We cannot guarantee that community-maintained libraries adhere to best practices, or that they will continue to be maintained.\")), mdx(\"h2\", {\n    \"id\": \"adding-data-sources-to-apollo-server\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#adding-data-sources-to-apollo-server\",\n    \"aria-label\": \"adding data sources to apollo server permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Adding data sources to Apollo Server\"), mdx(\"p\", null, \"You provide your \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"DataSource\"), \" subclasses to the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloServer\"), \" constructor, like so:\"), mdx(\"div\", {\n    \"className\": \"gatsby-code-title\"\n  }, \"index.js\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight has-highlighted-lines\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" server \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloServer\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  typeDefs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  resolvers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"  \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-variable function\"\n  }, \"dataSources\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token literal-property property\"\n  }, \"moviesAPI\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name\"\n  }, \"MoviesAPI\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token literal-property property\"\n  }, \"personalizationAPI\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name\"\n  }, \"PersonalizationAPI\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"  \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"As shown, the \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"dataSources\"), \" option is a \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"function\"), \". This function returns an \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"object\"), \" containing instances of your \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"DataSource\"), \" subclasses (in this case, \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"MoviesAPI\"), \" and \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"PersonalizationAPI\"), \").\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Apollo Server calls this function for \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"every incoming operation\"), \". It automatically assigns the returned object to the \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"dataSources\"), \" field of \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/data/resolvers/#the-context-argument\"\n  }, \"the \", mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"context\"), \" object\"), \" that's passed between your server's resolvers.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Also as shown, \", mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"the function should create a new instance of each data source for each operation.\"), \" If multiple operations share a single data source instance, you might accidentally combine results from multiple operations.\")), mdx(\"p\", null, \"Your resolvers can now access your data sources from the shared \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"context\"), \" object and use them to fetch data:\"), mdx(\"div\", {\n    \"className\": \"gatsby-code-title\"\n  }, \"resolvers.js\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" resolvers \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"Query\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"movie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"_\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" id \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" dataSources \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" dataSources\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"moviesAPI\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"getMovie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"id\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"mostViewedMovies\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"_\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" __\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" dataSources \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" dataSources\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"moviesAPI\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"getMostViewedMovies\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"favorites\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"_\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" __\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" dataSources \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" dataSources\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"personalizationAPI\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"getFavorites\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h2\", {\n    \"id\": \"caching\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#caching\",\n    \"aria-label\": \"caching permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Caching\"), mdx(\"p\", null, \"By default, data source implementations use Apollo Server's \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/InMemoryLRUCache.ts#L14\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"InMemoryLRUCache\")), \" to store the results of past fetches.\"), mdx(\"p\", null, \"When you initialize Apollo Server, you can provide its constructor a \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"different\"), \" cache object that implements the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/KeyValueCache.ts#L10-L14\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"KeyValueCache\"), \" interface\"), \". This enables you to back your cache with shared stores like Memcached or Redis.\"), mdx(\"h3\", {\n    \"id\": \"using-memcachedredis-as-a-cache-storage-backend\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#using-memcachedredis-as-a-cache-storage-backend\",\n    \"aria-label\": \"using memcachedredis as a cache storage backend permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Using Memcached/Redis as a cache storage backend\"), mdx(\"p\", null, \" When running multiple instances of your server, you should use a shared cache backend. This enables one server instance to use the cached result from \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"another\"), \" instance.\"), mdx(\"p\", null, \"Apollo Server supports using \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://memcached.org/\"\n  }, \"Memcached\"), \" or \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://redis.io/\"\n  }, \"Redis\"), \" as cache stores via the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/apollo-server-cache-memcached\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"apollo-server-cache-memcached\")), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/apollo-server-cache-redis\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"apollo-server-cache-redis\")), \" packages. You can specify which one to use by creating an instance and passing it into the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloServer\"), \" constructor.\"), mdx(\"h4\", {\n    \"id\": \"memcached\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#memcached\",\n    \"aria-label\": \"memcached permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Memcached\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" MemcachedCache \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-server-cache-memcached'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" server \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloServer\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  typeDefs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  resolvers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"cache\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"MemcachedCache\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'memcached-server-1'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'memcached-server-2'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'memcached-server-3'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"retries\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"10\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"retry\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"10000\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Options\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"dataSources\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"moviesAPI\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"MoviesAPI\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"For the options you can pass to the underlying Memcached client, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/3rd-Eden/memcached\"\n  }, \"see the documentation\"), \".\"), mdx(\"h4\", {\n    \"id\": \"redis\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#redis\",\n    \"aria-label\": \"redis permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Redis\"), mdx(\"div\", {\n    \"className\": \"gatsby-code-title\"\n  }, \"Redis\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" BaseRedisCache \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-server-cache-redis'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" Redis \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'ioredis'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" server \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloServer\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  typeDefs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  resolvers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"cache\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"BaseRedisCache\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"client\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"Redis\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"host\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'redis-server'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"dataSources\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"moviesAPI\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"MoviesAPI\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"For the options you can pass to the underlying Redis client, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/luin/ioredis\"\n  }, \"see the documentation\"), \".\"), mdx(\"h3\", {\n    \"id\": \"implementing-your-own-cache-backend\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#implementing-your-own-cache-backend\",\n    \"aria-label\": \"implementing your own cache backend permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Implementing your own cache backend\"), mdx(\"p\", null, \"You can create your own implementation of the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/KeyValueCache.ts#L10-L14\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"KeyValueCache\"), \" interface\"), \" to connect to other caching data stores, or to optimize for your application's query characteristics.\"), mdx(\"p\", null, \"For more information, see the README in for \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/apollo-server-caching\"\n  }, \"apollo-server-caching\"), \".\"), mdx(\"h2\", {\n    \"id\": \"restdatasource-reference\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#restdatasource-reference\",\n    \"aria-label\": \"restdatasource reference permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h2\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \" reference\"), mdx(\"p\", null, \"The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \" abstract class helps you fetch data from REST APIs. Your server defines a separate subclass of \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \" for each REST API it communicates with.\"), mdx(\"p\", null, \"To get started, install the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"apollo-datasource-rest\"), \" package:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"bash\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-bash line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"npm\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \" apollo-datasource-rest\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"You then extend the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \" class and implement whatever data-fetching methods your resolvers need. These methods can use built-in convenience methods (like \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"get\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"post\"), \") to perform HTTP requests, helping you add query parameters, parse JSON results, and handle errors.\"), mdx(\"h3\", {\n    \"id\": \"example\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#example\",\n    \"aria-label\": \"example permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Example\"), mdx(\"p\", null, \"Here's an example \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \" subclass that defines two data-fetching methods, \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"getMovie\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"getMostViewedMovies\"), \":\"), mdx(\"div\", {\n    \"className\": \"gatsby-code-title\"\n  }, \"movies-api.js\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" RESTDataSource \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-datasource-rest'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"MoviesAPI\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"extends\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"RESTDataSource\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"constructor\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Always call super()\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"super\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Sets the base URL for the REST API\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"baseURL \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'https://movies-api.example.com/'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"getMovie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"id\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Send a GET request to the specified endpoint\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"get\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"movies/\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"${\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"encodeURIComponent\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"id\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"getMostViewedMovies\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"limit \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token number\"\n  }, \"10\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" data \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"await\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"get\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'movies'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Query parameters\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"per_page\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" limit\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"order_by\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'most_viewed'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" data\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"results\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h3\", {\n    \"id\": \"http-methods\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#http-methods\",\n    \"aria-label\": \"http methods permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"HTTP Methods\"), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \" includes convenience methods for common REST API request methods: \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"get\"), \", \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"post\"), \", \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"put\"), \", \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"patch\"), \", and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"delete\"), \" (\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-datasource-rest/src/RESTDataSource.ts#L154-L202\"\n  }, \"see the source\"), \").\"), mdx(\"p\", null, \"An example of each is shown below:\"), mdx(ExpansionPanel, {\n    title: \"Click to expand\",\n    mdxType: \"ExpansionPanel\"\n  }, mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"MoviesAPI\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"extends\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"RESTDataSource\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"constructor\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"super\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"baseURL \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'https://movies-api.example.com/'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// GET\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"getMovie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"id\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"get\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"movies/\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"${\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"encodeURIComponent\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"id\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// path\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// POST\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"postMovie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"movie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"post\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"movies\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// path\"), \"\\n      movie\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// request body\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// PUT\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"newMovie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"movie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"put\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"movies\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// path\"), \"\\n      movie\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// request body\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// PATCH\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"updateMovie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"movie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"patch\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"movies\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// path\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"id\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" movie\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"id\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" movie \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// request body\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// DELETE\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"deleteMovie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"movie\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"delete\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"movies/\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"${\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"encodeURIComponent\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"movie\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"id\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// path\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }))))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Note the use of \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"encodeURIComponent\")), \". This is a standard JavaScript function that encodes special characters in a URI, preventing a possible injection attack vector.\")), mdx(\"p\", null, \"For a simple example, suppose our REST endpoint responded to the following URLs:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"DELETE \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"/movies/:id\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"DELETE \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"/movies/:id/characters\"))), mdx(\"p\", null, \"A \\\"malicious\\\" client could provide an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \":id\"), \" of \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"1/characters\"), \" to target the delete \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"characters\"), \" endpoint when it was the singular \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"movie\"), \" endpoint that we were trying to delete. URI encoding prevents this kind of injection by transforming the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"/\"), \" into \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"%2F\"), \". This can then be correctly decoded and interpreted by the server and won't be treated as a path segment.\"), mdx(\"h4\", {\n    \"id\": \"method-parameters\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#method-parameters\",\n    \"aria-label\": \"method parameters permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Method parameters\"), mdx(\"p\", null, \"For all HTTP convenience methods, the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"first parameter\"), \" is the relative path of the endpoint you're sending the request to (e.g., \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"movies\"), \").\"), mdx(\"p\", null, \"The \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"second parameter\"), \" depends on the HTTP method:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"For HTTP methods with a request body (\", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"post\"), \", \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"put\"), \", \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"patch\"), \"), the second parameter \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"is\"), \" the request body.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"For HTTP methods \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"without\"), \" a request body, the second parameter is an object with keys and values corresponding to the request's query parameters.\")), mdx(\"p\", null, \"For all methods, the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"third parameter\"), \" is an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"init\"), \" object that enables you to provide additional options (such as headers and referrers) to the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"fetch\"), \" API that's used to send the request. For details, \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters\"\n  }, \"see MDN's fetch docs\"), \".\"), mdx(\"h3\", {\n    \"id\": \"intercepting-fetches\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#intercepting-fetches\",\n    \"aria-label\": \"intercepting fetches permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Intercepting fetches\"), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \" includes a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"willSendRequest\"), \" method that you can override to modify outgoing requests before they're sent. For example, you can use this method to add headers or query parameters. This method is most commonly used for authorization or other concerns that apply to all sent requests.\"), mdx(\"p\", null, \"Data sources also have access to the GraphQL operation context, which is useful for storing a user token or other relevant information.\"), mdx(\"h4\", {\n    \"id\": \"setting-a-header\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#setting-a-header\",\n    \"aria-label\": \"setting a header permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Setting a header\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"PersonalizationAPI\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"extends\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"RESTDataSource\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"willSendRequest\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"request\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    request\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"headers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"set\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'Authorization'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"context\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"token\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h4\", {\n    \"id\": \"adding-a-query-parameter\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#adding-a-query-parameter\",\n    \"aria-label\": \"adding a query parameter permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Adding a query parameter\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"PersonalizationAPI\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"extends\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"RESTDataSource\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"willSendRequest\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"request\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    request\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"params\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"set\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'api_key'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"context\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"token\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h4\", {\n    \"id\": \"using-with-typescript\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#using-with-typescript\",\n    \"aria-label\": \"using with typescript permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Using with TypeScript\"), mdx(\"p\", null, \"If you're using TypeScript, make sure to import the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RequestOptions\"), \" type:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"typescript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-typescript line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-typescript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" RESTDataSource\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" RequestOptions \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"from\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-datasource-rest'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"PersonalizationAPI\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"extends\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"RESTDataSource\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  baseURL \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'https://personalization-api.example.com/'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"willSendRequest\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"request\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" RequestOptions\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    request\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"headers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"set\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'Authorization'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"context\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"token\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h3\", {\n    \"id\": \"resolving-urls-dynamically\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#resolving-urls-dynamically\",\n    \"aria-label\": \"resolving urls dynamically permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Resolving URLs dynamically\"), mdx(\"p\", null, \"In some cases, you'll want to set the URL based on the environment or other contextual values. To do this, you can override \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"resolveURL\"), \":\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"resolveURL\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token literal-property property\"\n  }, \"request\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \":\"), \" RequestOptions\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"!\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"baseURL\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" addresses \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"await\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"resolveSrv\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"request\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"path\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"split\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"/\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"+\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\".service.consul\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"baseURL \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" addresses\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"super\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"resolveURL\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"request\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h3\", {\n    \"id\": \"using-with-dataloader\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#using-with-dataloader\",\n    \"aria-label\": \"using with dataloader permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Using with DataLoader\"), mdx(\"p\", null, \"The \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/graphql/dataloader\"\n  }, \"DataLoader\"), \" utility was designed for a specific use case: deduplicating and batching object loads from a data store. It provides a memoization cache, which avoids loading the same object multiple times during a single GraphQL request. It also combines loads that occur during a single tick of the event loop into a batched request that fetches multiple objects at once.\"), mdx(\"p\", null, \"DataLoader is great for its intended use case, but it\\u2019s less helpful when loading data from REST APIs. This is because its primary feature is \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"batching\"), \", not \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"caching\"), \".\"), mdx(\"p\", null, \"When layering GraphQL over REST APIs, it's most helpful to have a resource cache that:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Saves data across multiple GraphQL requests\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Can be shared across multiple GraphQL servers\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Provides cache management features like expiry and invalidation that use standard HTTP cache control headers\")), mdx(\"h4\", {\n    \"id\": \"batching-with-rest-apis\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#batching-with-rest-apis\",\n    \"aria-label\": \"batching with rest apis permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Batching with REST APIs\"), mdx(\"p\", null, \"Most REST APIs don't support batching. When they do, using a batched endpoint can \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"jeopardize\"), \" caching. When you fetch data in a batch request, the response you receive is for the exact combination of resources you're requesting. Unless you request that same combination again, future requests for the same resource won't be served from cache.\"), mdx(\"p\", null, \"We recommend that you restrict batching to requests that \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"can't\"), \" be cached. In these cases, you can take advantage of DataLoader as a private implementation detail inside your \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"RESTDataSource\"), \":\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"PersonalizationAPI\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"extends\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"RESTDataSource\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"constructor\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"super\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"baseURL \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'https://personalization-api.example.com/'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"willSendRequest\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"request\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    request\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"headers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"set\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'Authorization'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"context\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"token\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"private\"), \" progressLoader \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"DataLoader\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"ids\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" progressList \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"await\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"get\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'progress'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"ids\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" ids\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"join\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"','\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" ids\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"map\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"id\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \"\\n      progressList\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"find\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"progress\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" progress\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"id \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"===\"), \" id\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"async\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"getProgressFor\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"id\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"progressLoader\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"load\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"id\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport {\n  ExpansionPanel,\n} from 'gatsby-theme-apollo-docs/src/components/expansion-panel';\nexport const _frontmatter = {\n  \"title\": \"Data sources\",\n  \"description\": \"Manage connections to databases and REST APIs\"\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <p><strong parentName=\"p\">{`Data sources`}</strong>{` are classes that Apollo Server can use to encapsulate fetching data from a particular source, such as a database or a REST API. These classes help handle caching, deduplication, and errors while resolving operations.`}</p>\n    <p>{`Your server can use any number of different data sources. You don't `}<em parentName=\"p\">{`have`}</em>{` to use data sources to fetch data, but they're strongly recommended.`}</p>\n    <div {...{\n      \"className\": \"mermaid\",\n      \"data-processed\": \"true\"\n    }}><svg parentName=\"div\" {...{\n        \"id\": \"mermaid-1646780025791\",\n        \"width\": \"100%\",\n        \"xmlns\": \"http://www.w3.org/2000/svg\",\n        \"xmlnsXLink\": \"http://www.w3.org/1999/xlink\",\n        \"height\": \"206\",\n        \"style\": {\n          \"maxWidth\": \"689.390625px\"\n        },\n        \"viewBox\": \"0 0 689.390625 206\"\n      }}><style parentName=\"svg\">{`#mermaid-1646780025791 {font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1646780025791 .error-icon{fill:#552222;}#mermaid-1646780025791 .error-text{fill:#552222;stroke:#552222;}#mermaid-1646780025791 .edge-thickness-normal{stroke-width:2px;}#mermaid-1646780025791 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1646780025791 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1646780025791 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1646780025791 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1646780025791 .marker{fill:#333333;stroke:#333333;}#mermaid-1646780025791 .marker.cross{stroke:#333333;}#mermaid-1646780025791 svg{font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:16px;}#mermaid-1646780025791 .label{font-family:\"trebuchet ms\",verdana,arial,sans-serif;color:#333;}#mermaid-1646780025791 .cluster-label text{fill:#333;}#mermaid-1646780025791 .cluster-label span{color:#333;}#mermaid-1646780025791 .label text,#mermaid-1646780025791 span{fill:#333;color:#333;}#mermaid-1646780025791 .node rect,#mermaid-1646780025791 .node circle,#mermaid-1646780025791 .node ellipse,#mermaid-1646780025791 .node polygon,#mermaid-1646780025791 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1646780025791 .node .label{text-align:center;}#mermaid-1646780025791 .node.clickable{cursor:pointer;}#mermaid-1646780025791 .arrowheadPath{fill:#333333;}#mermaid-1646780025791 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1646780025791 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1646780025791 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1646780025791 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1646780025791 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1646780025791 .cluster text{fill:#333;}#mermaid-1646780025791 .cluster span{color:#333;}#mermaid-1646780025791 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1646780025791 .node rect,#mermaid-1646780025791 .node circle,#mermaid-1646780025791 .node polygon,#mermaid-1646780025791 .node path{stroke-width:2px;stroke:#3f20ba;fill:#F4F6F8;}#mermaid-1646780025791 .node.secondary rect,#mermaid-1646780025791 .node.secondary circle,#mermaid-1646780025791 .node.secondary polygon,#mermaid-1646780025791 .node.tertiary rect,#mermaid-1646780025791 .node.tertiary circle,#mermaid-1646780025791 .node.tertiary polygon{fill:white;}#mermaid-1646780025791 .node.secondary rect,#mermaid-1646780025791 .node.secondary circle,#mermaid-1646780025791 .node.secondary polygon{stroke:#832363;}#mermaid-1646780025791 .cluster rect,#mermaid-1646780025791 .node.tertiary rect,#mermaid-1646780025791 .node.tertiary circle,#mermaid-1646780025791 .node.tertiary polygon{stroke:#1d7b78;}#mermaid-1646780025791 .cluster rect{fill:none;stroke-width:2px;}#mermaid-1646780025791 .label,#mermaid-1646780025791 .edgeLabel{background-color:white;line-height:1.3;}#mermaid-1646780025791 .edgeLabel rect{background:none;fill:none;}#mermaid-1646780025791 .messageText,#mermaid-1646780025791 .noteText,#mermaid-1646780025791 .loopText{font-size:12px;stroke:none;}#mermaid-1646780025791 g rect,#mermaid-1646780025791 polygon.labelBox{stroke-width:2px;}#mermaid-1646780025791 g rect.actor{stroke:#1d7b78;fill:white;}#mermaid-1646780025791 g rect.note{stroke:#832363;fill:white;}#mermaid-1646780025791 g line.loopLine,#mermaid-1646780025791 polygon.labelBox{stroke:#3f20ba;fill:white;}#mermaid-1646780025791 :root{--mermaid-font-family:\"trebuchet ms\",verdana,arial,sans-serif;}`}</style><g parentName=\"svg\" {...{\n          \"transform\": \"translate(0, 0)\"\n        }}><marker parentName=\"g\" {...{\n            \"id\": \"flowchart-pointEnd\",\n            \"className\": \"marker flowchart\",\n            \"viewBox\": \"0 0 10 10\",\n            \"refX\": \"9\",\n            \"refY\": \"5\",\n            \"markerUnits\": \"userSpaceOnUse\",\n            \"markerWidth\": \"12\",\n            \"markerHeight\": \"12\",\n            \"orient\": \"auto\"\n          }}><path parentName=\"marker\" {...{\n              \"d\": \"M 0 0 L 10 5 L 0 10 z\",\n              \"className\": \"arrowMarkerPath\",\n              \"style\": {\n                \"strokeWidth\": \"1\",\n                \"strokeDasharray\": \"1, 0\"\n              }\n            }}></path></marker><marker parentName=\"g\" {...{\n            \"id\": \"flowchart-pointStart\",\n            \"className\": \"marker flowchart\",\n            \"viewBox\": \"0 0 10 10\",\n            \"refX\": \"0\",\n            \"refY\": \"5\",\n            \"markerUnits\": \"userSpaceOnUse\",\n            \"markerWidth\": \"12\",\n            \"markerHeight\": \"12\",\n            \"orient\": \"auto\"\n          }}><path parentName=\"marker\" {...{\n              \"d\": \"M 0 5 L 10 10 L 10 0 z\",\n              \"className\": \"arrowMarkerPath\",\n              \"style\": {\n                \"strokeWidth\": \"1\",\n                \"strokeDasharray\": \"1, 0\"\n              }\n            }}></path></marker><marker parentName=\"g\" {...{\n            \"id\": \"flowchart-circleEnd\",\n            \"className\": \"marker flowchart\",\n            \"viewBox\": \"0 0 10 10\",\n            \"refX\": \"11\",\n            \"refY\": \"5\",\n            \"markerUnits\": \"userSpaceOnUse\",\n            \"markerWidth\": \"11\",\n            \"markerHeight\": \"11\",\n            \"orient\": \"auto\"\n          }}><circle parentName=\"marker\" {...{\n              \"cx\": \"5\",\n              \"cy\": \"5\",\n              \"r\": \"5\",\n              \"className\": \"arrowMarkerPath\",\n              \"style\": {\n                \"strokeWidth\": \"1\",\n                \"strokeDasharray\": \"1, 0\"\n              }\n            }}></circle></marker><marker parentName=\"g\" {...{\n            \"id\": \"flowchart-circleStart\",\n            \"className\": \"marker flowchart\",\n            \"viewBox\": \"0 0 10 10\",\n            \"refX\": \"-1\",\n            \"refY\": \"5\",\n            \"markerUnits\": \"userSpaceOnUse\",\n            \"markerWidth\": \"11\",\n            \"markerHeight\": \"11\",\n            \"orient\": \"auto\"\n          }}><circle parentName=\"marker\" {...{\n              \"cx\": \"5\",\n              \"cy\": \"5\",\n              \"r\": \"5\",\n              \"className\": \"arrowMarkerPath\",\n              \"style\": {\n                \"strokeWidth\": \"1\",\n                \"strokeDasharray\": \"1, 0\"\n              }\n            }}></circle></marker><marker parentName=\"g\" {...{\n            \"id\": \"flowchart-crossEnd\",\n            \"className\": \"marker cross flowchart\",\n            \"viewBox\": \"0 0 11 11\",\n            \"refX\": \"12\",\n            \"refY\": \"5.2\",\n            \"markerUnits\": \"userSpaceOnUse\",\n            \"markerWidth\": \"11\",\n            \"markerHeight\": \"11\",\n            \"orient\": \"auto\"\n          }}><path parentName=\"marker\" {...{\n              \"d\": \"M 1,1 l 9,9 M 10,1 l -9,9\",\n              \"className\": \"arrowMarkerPath\",\n              \"style\": {\n                \"strokeWidth\": \"2\",\n                \"strokeDasharray\": \"1, 0\"\n              }\n            }}></path></marker><marker parentName=\"g\" {...{\n            \"id\": \"flowchart-crossStart\",\n            \"className\": \"marker cross flowchart\",\n            \"viewBox\": \"0 0 11 11\",\n            \"refX\": \"-1\",\n            \"refY\": \"5.2\",\n            \"markerUnits\": \"userSpaceOnUse\",\n            \"markerWidth\": \"11\",\n            \"markerHeight\": \"11\",\n            \"orient\": \"auto\"\n          }}><path parentName=\"marker\" {...{\n              \"d\": \"M 1,1 l 9,9 M 10,1 l -9,9\",\n              \"className\": \"arrowMarkerPath\",\n              \"style\": {\n                \"strokeWidth\": \"2\",\n                \"strokeDasharray\": \"1, 0\"\n              }\n            }}></path></marker><g parentName=\"g\" {...{\n            \"className\": \"root\"\n          }}><g parentName=\"g\" {...{\n              \"className\": \"clusters\"\n            }}><g parentName=\"g\" {...{\n                \"className\": \"cluster default\",\n                \"id\": \"ApolloServer\"\n              }}><rect parentName=\"g\" {...{\n                  \"style\": {},\n                  \"rx\": \"0\",\n                  \"ry\": \"0\",\n                  \"x\": \"246.5\",\n                  \"y\": \"8\",\n                  \"width\": \"180.734375\",\n                  \"height\": \"190\"\n                }}></rect><g parentName=\"g\" {...{\n                  \"className\": \"cluster-label\",\n                  \"transform\": \"translate(291.671875, 13)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"90.390625\",\n                    \"height\": \"19\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"nodeLabel\"\n                      }}>{`ApolloServer`}</span></div></foreignObject></g></g></g><g parentName=\"g\" {...{\n              \"className\": \"edgePaths\"\n            }}><path parentName=\"g\" {...{\n                \"d\": \"M402.234375,60.5L406.4010416666667,60.5C410.5677083333333,60.5,418.9010416666667,60.5,434.9205729166667,60.5C450.9401041666667,60.5,474.6458333333333,60.5,501.2200520833333,60.5C527.7942708333334,60.5,557.2369791666666,60.5,571.9583333333334,60.5L586.6796875,60.5\",\n                \"id\": \"L-restDataSource-restAPI-0\",\n                \"className\": \"edge-thickness-normal edge-pattern-solid flowchart-link LS-restDataSource LE-restAPI\",\n                \"style\": {\n                  \"fill\": \"none\"\n                },\n                \"markerEnd\": \"url(#flowchart-pointEnd)\"\n              }}></path><path parentName=\"g\" {...{\n                \"d\": \"M398.1015625,145.5L402.95703125,145.5C407.8125,145.5,417.5234375,145.5,434.2317708333333,145.5C450.9401041666667,145.5,474.6458333333333,145.5,498.3515625,145.5C522.0572916666666,145.5,545.7630208333334,145.5,557.6158854166666,145.5L569.46875,145.5\",\n                \"id\": \"L-sqlDataSource-sql-0\",\n                \"className\": \"edge-thickness-normal edge-pattern-solid flowchart-link LS-sqlDataSource LE-sql\",\n                \"style\": {\n                  \"fill\": \"none\"\n                },\n                \"markerEnd\": \"url(#flowchart-pointEnd)\"\n              }}></path><path parentName=\"g\" {...{\n                \"d\": \"M110.625,60.5L121.94791666666667,60.5C133.27083333333334,60.5,155.91666666666666,60.5,178.5625,60.5C201.20833333333334,60.5,223.85416666666666,60.5,235.17708333333334,60.5L246.5,60.5\",\n                \"id\": \"L-client-ApolloServer-0\",\n                \"className\": \"edge-thickness-normal edge-pattern-solid flowchart-link LS-client LE-ApolloServer\",\n                \"style\": {\n                  \"fill\": \"none\"\n                },\n                \"markerEnd\": \"url(#flowchart-pointEnd)\"\n              }}></path></g><g parentName=\"g\" {...{\n              \"className\": \"edgeLabels\"\n            }}><g parentName=\"g\" {...{\n                \"className\": \"edgeLabel\",\n                \"transform\": \"translate(498.3515625, 60.5)\"\n              }}><g parentName=\"g\" {...{\n                  \"className\": \"label\",\n                  \"transform\": \"translate(-46.1171875, -10)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"92.234375\",\n                    \"height\": \"20\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"edgeLabel\"\n                      }}>{`Fetches data`}</span></div></foreignObject></g></g><g parentName=\"g\" {...{\n                \"className\": \"edgeLabel\",\n                \"transform\": \"translate(498.3515625, 145.5)\"\n              }}><g parentName=\"g\" {...{\n                  \"className\": \"label\",\n                  \"transform\": \"translate(-46.1171875, -10)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"92.234375\",\n                    \"height\": \"20\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"edgeLabel\"\n                      }}>{`Fetches data`}</span></div></foreignObject></g></g><g parentName=\"g\" {...{\n                \"className\": \"edgeLabel\",\n                \"transform\": \"translate(178.5625, 60.5)\"\n              }}><g parentName=\"g\" {...{\n                  \"className\": \"label\",\n                  \"transform\": \"translate(-42.9375, -10)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"85.875\",\n                    \"height\": \"20\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"edgeLabel\"\n                      }}>{`Sends query`}</span></div></foreignObject></g></g></g><g parentName=\"g\" {...{\n              \"className\": \"nodes\"\n            }}><g parentName=\"g\" {...{\n                \"className\": \"node default default\",\n                \"id\": \"flowchart-restDataSource-13\",\n                \"transform\": \"translate(336.8671875, 60.5)\"\n              }}><rect parentName=\"g\" {...{\n                  \"className\": \"basic label-container\",\n                  \"style\": {},\n                  \"rx\": \"5\",\n                  \"ry\": \"5\",\n                  \"x\": \"-65.3671875\",\n                  \"y\": \"-17.5\",\n                  \"width\": \"130.734375\",\n                  \"height\": \"35\"\n                }}></rect><g parentName=\"g\" {...{\n                  \"className\": \"label\",\n                  \"style\": {},\n                  \"transform\": \"translate(-57.8671875, -10)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"115.734375\",\n                    \"height\": \"20\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"nodeLabel\"\n                      }}>{`RESTDataSource`}</span></div></foreignObject></g></g><g parentName=\"g\" {...{\n                \"className\": \"node default default\",\n                \"id\": \"flowchart-sqlDataSource-14\",\n                \"transform\": \"translate(336.8671875, 145.5)\"\n              }}><rect parentName=\"g\" {...{\n                  \"className\": \"basic label-container\",\n                  \"style\": {},\n                  \"rx\": \"5\",\n                  \"ry\": \"5\",\n                  \"x\": \"-61.234375\",\n                  \"y\": \"-17.5\",\n                  \"width\": \"122.46875\",\n                  \"height\": \"35\"\n                }}></rect><g parentName=\"g\" {...{\n                  \"className\": \"label\",\n                  \"style\": {},\n                  \"transform\": \"translate(-53.734375, -10)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"107.46875\",\n                    \"height\": \"20\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"nodeLabel\"\n                      }}>{`SQLDataSource`}</span></div></foreignObject></g></g><g parentName=\"g\" {...{\n                \"className\": \"node default secondary\",\n                \"id\": \"flowchart-restAPI-11\",\n                \"transform\": \"translate(625.4296875, 60.5)\"\n              }}><rect parentName=\"g\" {...{\n                  \"className\": \"basic label-container\",\n                  \"style\": {},\n                  \"rx\": \"5\",\n                  \"ry\": \"5\",\n                  \"x\": \"-38.75\",\n                  \"y\": \"-17.5\",\n                  \"width\": \"77.5\",\n                  \"height\": \"35\"\n                }}></rect><g parentName=\"g\" {...{\n                  \"className\": \"label\",\n                  \"style\": {},\n                  \"transform\": \"translate(-31.25, -10)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"62.5\",\n                    \"height\": \"20\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"nodeLabel\"\n                      }}>{`REST API`}</span></div></foreignObject></g></g><g parentName=\"g\" {...{\n                \"className\": \"node default secondary\",\n                \"id\": \"flowchart-sql-12\",\n                \"transform\": \"translate(625.4296875, 145.5)\"\n              }}><rect parentName=\"g\" {...{\n                  \"className\": \"basic label-container\",\n                  \"style\": {},\n                  \"rx\": \"5\",\n                  \"ry\": \"5\",\n                  \"x\": \"-55.9609375\",\n                  \"y\": \"-17.5\",\n                  \"width\": \"111.921875\",\n                  \"height\": \"35\"\n                }}></rect><g parentName=\"g\" {...{\n                  \"className\": \"label\",\n                  \"style\": {},\n                  \"transform\": \"translate(-48.4609375, -10)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"96.921875\",\n                    \"height\": \"20\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"nodeLabel\"\n                      }}>{`SQL Database`}</span></div></foreignObject></g></g><g parentName=\"g\" {...{\n                \"className\": \"node default default\",\n                \"id\": \"flowchart-client-19\",\n                \"transform\": \"translate(59.3125, 60.5)\"\n              }}><rect parentName=\"g\" {...{\n                  \"className\": \"basic label-container\",\n                  \"style\": {},\n                  \"rx\": \"5\",\n                  \"ry\": \"5\",\n                  \"x\": \"-51.3125\",\n                  \"y\": \"-17.5\",\n                  \"width\": \"102.625\",\n                  \"height\": \"35\"\n                }}></rect><g parentName=\"g\" {...{\n                  \"className\": \"label\",\n                  \"style\": {},\n                  \"transform\": \"translate(-43.8125, -10)\"\n                }}><foreignObject parentName=\"g\" {...{\n                    \"width\": \"87.625\",\n                    \"height\": \"20\"\n                  }}><div parentName=\"foreignObject\" {...{\n                      \"xmlns\": \"http://www.w3.org/1999/xhtml\",\n                      \"style\": {\n                        \"display\": \"inline-block\",\n                        \"whiteSpace\": \"nowrap\"\n                      }\n                    }}><span parentName=\"div\" {...{\n                        \"className\": \"nodeLabel\"\n                      }}>{`ApolloClient`}</span></div></foreignObject></g></g></g></g></g></svg></div>\n    <h2 {...{\n      \"id\": \"open-source-implementations\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#open-source-implementations\",\n        \"aria-label\": \"open source implementations permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Open-source implementations`}</h2>\n    <p>{`All data source implementations extend the generic `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-datasource/src/index.ts\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`DataSource`}</code>{` abstract class`}</a>{`, which is included in the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`apollo-datasource`}</code>{` package. Subclasses of a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`DataSource`}</code>{` should define whatever logic is required to communicate with a particular store or API.`}</p>\n    <p>{`Apollo and the larger community maintain the following open-source implementations:`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Do you maintain a `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`DataSource`}</code>{` implementation that isn't listed here? Please `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/apollographql/apollo-server/blob/main/docs/source/data/data-sources.md\"\n        }}>{`submit a PR`}</a>{` to be added to the list!`}</p>\n    </blockquote>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Class`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Source`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`For Use With`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/apollographql/apollo-server/tree/main/packages/apollo-datasource-rest\"\n            }}><code parentName=\"a\" {...{\n                \"className\": \"language-text\"\n              }}>{`RESTDataSource`}</code></a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Apollo`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`REST APIs (`}<a parentName=\"td\" {...{\n              \"href\": \"#restdatasource-reference\"\n            }}>{`see below`}</a>{`)`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/StarpTech/apollo-datasource-http\"\n            }}><code parentName=\"a\" {...{\n                \"className\": \"language-text\"\n              }}>{`HTTPDataSource`}</code></a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Community`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`HTTP/REST APIs (newer community alternative to `}<code parentName=\"td\" {...{\n              \"className\": \"language-text\"\n            }}>{`RESTDataSource`}</code>{`)`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/cvburgess/SQLDataSource\"\n            }}><code parentName=\"a\" {...{\n                \"className\": \"language-text\"\n              }}>{`SQLDataSource`}</code></a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Community`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`SQL databases (via `}<a parentName=\"td\" {...{\n              \"href\": \"http://knexjs.org/\"\n            }}>{`Knex.js`}</a>{`)`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/GraphQLGuide/apollo-datasource-mongodb/\"\n            }}><code parentName=\"a\" {...{\n                \"className\": \"language-text\"\n              }}>{`MongoDataSource`}</code></a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Community`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`MongoDB`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/andrejpk/apollo-datasource-cosmosdb\"\n            }}><code parentName=\"a\" {...{\n                \"className\": \"language-text\"\n              }}>{`CosmosDataSource`}</code></a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Community`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Azure Cosmos DB`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/swantzter/apollo-datasource-firestore\"\n            }}><code parentName=\"a\" {...{\n                \"className\": \"language-text\"\n              }}>{`FirestoreDataSource`}</code></a></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Community`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Cloud Firestore`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`If none of these implementations applies to your use case, you can create your own custom `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`DataSource`}</code>{` subclass.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Apollo does not provide official support for community-maintained libraries. We cannot guarantee that community-maintained libraries adhere to best practices, or that they will continue to be maintained.`}</p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"adding-data-sources-to-apollo-server\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#adding-data-sources-to-apollo-server\",\n        \"aria-label\": \"adding data sources to apollo server permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Adding data sources to Apollo Server`}</h2>\n    <p>{`You provide your `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`DataSource`}</code>{` subclasses to the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloServer`}</code>{` constructor, like so:`}</p>\n    <div {...{\n      \"className\": \"gatsby-code-title\"\n    }}>{`index.js`}</div>\n    <div {...{\n      \"className\": \"gatsby-highlight has-highlighted-lines\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` server `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloServer`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  typeDefs`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  resolvers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`  `}<span parentName=\"span\" {...{\n              \"className\": \"token function-variable function\"\n            }}>{`dataSources`}</span><span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`=>`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token literal-property property\"\n            }}>{`moviesAPI`}</span><span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`new`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token class-name\"\n            }}>{`MoviesAPI`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token literal-property property\"\n            }}>{`personalizationAPI`}</span><span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`new`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token class-name\"\n            }}>{`PersonalizationAPI`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`  `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <ul>\n      <li parentName=\"ul\">{`As shown, the `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`dataSources`}</code>{` option is a `}<em parentName=\"li\">{`function`}</em>{`. This function returns an `}<em parentName=\"li\">{`object`}</em>{` containing instances of your `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`DataSource`}</code>{` subclasses (in this case, `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`MoviesAPI`}</code>{` and `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`PersonalizationAPI`}</code>{`).`}</li>\n      <li parentName=\"ul\">{`Apollo Server calls this function for `}<em parentName=\"li\">{`every incoming operation`}</em>{`. It automatically assigns the returned object to the `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`dataSources`}</code>{` field of `}<a parentName=\"li\" {...{\n          \"href\": \"/data/resolvers/#the-context-argument\"\n        }}>{`the `}<code parentName=\"a\" {...{\n            \"className\": \"language-text\"\n          }}>{`context`}</code>{` object`}</a>{` that's passed between your server's resolvers.`}</li>\n      <li parentName=\"ul\">{`Also as shown, `}<strong parentName=\"li\">{`the function should create a new instance of each data source for each operation.`}</strong>{` If multiple operations share a single data source instance, you might accidentally combine results from multiple operations.`}</li>\n    </ul>\n    <p>{`Your resolvers can now access your data sources from the shared `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`context`}</code>{` object and use them to fetch data:`}</p>\n    <div {...{\n      \"className\": \"gatsby-code-title\"\n    }}>{`resolvers.js`}</div>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` resolvers `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`Query`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token function-variable function\"\n          }}>{`movie`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`_`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{` id `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{` dataSources `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` dataSources`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`moviesAPI`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getMovie`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`id`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token function-variable function\"\n          }}>{`mostViewedMovies`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`_`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` __`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{` dataSources `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` dataSources`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`moviesAPI`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getMostViewedMovies`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token function-variable function\"\n          }}>{`favorites`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`_`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` __`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{` dataSources `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` dataSources`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`personalizationAPI`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getFavorites`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h2 {...{\n      \"id\": \"caching\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#caching\",\n        \"aria-label\": \"caching permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Caching`}</h2>\n    <p>{`By default, data source implementations use Apollo Server's `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/InMemoryLRUCache.ts#L14\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`InMemoryLRUCache`}</code></a>{` to store the results of past fetches.`}</p>\n    <p>{`When you initialize Apollo Server, you can provide its constructor a `}<em parentName=\"p\">{`different`}</em>{` cache object that implements the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/KeyValueCache.ts#L10-L14\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`KeyValueCache`}</code>{` interface`}</a>{`. This enables you to back your cache with shared stores like Memcached or Redis.`}</p>\n    <h3 {...{\n      \"id\": \"using-memcachedredis-as-a-cache-storage-backend\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#using-memcachedredis-as-a-cache-storage-backend\",\n        \"aria-label\": \"using memcachedredis as a cache storage backend permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Using Memcached/Redis as a cache storage backend`}</h3>\n    <p>{` When running multiple instances of your server, you should use a shared cache backend. This enables one server instance to use the cached result from `}<em parentName=\"p\">{`another`}</em>{` instance.`}</p>\n    <p>{`Apollo Server supports using `}<a parentName=\"p\" {...{\n        \"href\": \"https://memcached.org/\"\n      }}>{`Memcached`}</a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"https://redis.io/\"\n      }}>{`Redis`}</a>{` as cache stores via the `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/apollo-server-cache-memcached\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`apollo-server-cache-memcached`}</code></a>{` and `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/apollo-server-cache-redis\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`apollo-server-cache-redis`}</code></a>{` packages. You can specify which one to use by creating an instance and passing it into the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloServer`}</code>{` constructor.`}</p>\n    <h4 {...{\n      \"id\": \"memcached\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#memcached\",\n        \"aria-label\": \"memcached permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Memcached`}</h4>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` MemcachedCache `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'apollo-server-cache-memcached'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` server `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloServer`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  typeDefs`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  resolvers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`cache`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`MemcachedCache`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'memcached-server-1'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'memcached-server-2'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'memcached-server-3'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`retries`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`10`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`retry`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`10000`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Options`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function-variable function\"\n          }}>{`dataSources`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`moviesAPI`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`MoviesAPI`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`For the options you can pass to the underlying Memcached client, `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/3rd-Eden/memcached\"\n      }}>{`see the documentation`}</a>{`.`}</p>\n    <h4 {...{\n      \"id\": \"redis\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#redis\",\n        \"aria-label\": \"redis permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Redis`}</h4>\n    <div {...{\n      \"className\": \"gatsby-code-title\"\n    }}>{`Redis`}</div>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` BaseRedisCache `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'apollo-server-cache-redis'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` Redis `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'ioredis'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` server `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloServer`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  typeDefs`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  resolvers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`cache`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`BaseRedisCache`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`client`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`Redis`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`host`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'redis-server'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function-variable function\"\n          }}>{`dataSources`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`moviesAPI`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`MoviesAPI`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`For the options you can pass to the underlying Redis client, `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/luin/ioredis\"\n      }}>{`see the documentation`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"implementing-your-own-cache-backend\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#implementing-your-own-cache-backend\",\n        \"aria-label\": \"implementing your own cache backend permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Implementing your own cache backend`}</h3>\n    <p>{`You can create your own implementation of the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/apollographql/apollo-server/blob/0aa0e4b20ef97576ce92733698a7842b61d8280e/packages/apollo-server-caching/src/KeyValueCache.ts#L10-L14\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`KeyValueCache`}</code>{` interface`}</a>{` to connect to other caching data stores, or to optimize for your application's query characteristics.`}</p>\n    <p>{`For more information, see the README in for `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/apollo-server-caching\"\n      }}>{`apollo-server-caching`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"restdatasource-reference\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#restdatasource-reference\",\n        \"aria-label\": \"restdatasource reference permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a><code parentName=\"h2\" {...{\n        \"className\": \"language-text\"\n      }}>{`RESTDataSource`}</code>{` reference`}</h2>\n    <p>{`The `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`RESTDataSource`}</code>{` abstract class helps you fetch data from REST APIs. Your server defines a separate subclass of `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`RESTDataSource`}</code>{` for each REST API it communicates with.`}</p>\n    <p>{`To get started, install the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`apollo-datasource-rest`}</code>{` package:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"bash\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-bash line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-bash\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`npm`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`install`}</span>{` apollo-datasource-rest`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span></span></pre></div>\n    <p>{`You then extend the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`RESTDataSource`}</code>{` class and implement whatever data-fetching methods your resolvers need. These methods can use built-in convenience methods (like `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`get`}</code>{` and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`post`}</code>{`) to perform HTTP requests, helping you add query parameters, parse JSON results, and handle errors.`}</p>\n    <h3 {...{\n      \"id\": \"example\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#example\",\n        \"aria-label\": \"example permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Example`}</h3>\n    <p>{`Here's an example `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`RESTDataSource`}</code>{` subclass that defines two data-fetching methods, `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`getMovie`}</code>{` and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`getMostViewedMovies`}</code>{`:`}</p>\n    <div {...{\n      \"className\": \"gatsby-code-title\"\n    }}>{`movies-api.js`}</div>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` RESTDataSource `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'apollo-datasource-rest'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`class`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`MoviesAPI`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`extends`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RESTDataSource`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`constructor`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Always call super()`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`super`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Sets the base URL for the REST API`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`baseURL `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'https://movies-api.example.com/'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getMovie`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`id`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Send a GET request to the specified endpoint`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`get`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token template-string\"\n          }}><span parentName=\"span\" {...{\n              \"className\": \"token template-punctuation string\"\n            }}>{`\\``}</span><span parentName=\"span\" {...{\n              \"className\": \"token string\"\n            }}>{`movies/`}</span><span parentName=\"span\" {...{\n              \"className\": \"token interpolation\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token interpolation-punctuation punctuation\"\n              }}>{`\\${`}</span><span parentName=\"span\" {...{\n                \"className\": \"token function\"\n              }}>{`encodeURIComponent`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`(`}</span>{`id`}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`)`}</span><span parentName=\"span\" {...{\n                \"className\": \"token interpolation-punctuation punctuation\"\n              }}>{`}`}</span></span><span parentName=\"span\" {...{\n              \"className\": \"token template-punctuation string\"\n            }}>{`\\``}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getMostViewedMovies`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`limit `}<span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token number\"\n            }}>{`10`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` data `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`await`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`get`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'movies'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Query parameters`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`per_page`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` limit`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`order_by`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'most_viewed'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` data`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`results`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h3 {...{\n      \"id\": \"http-methods\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#http-methods\",\n        \"aria-label\": \"http methods permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`HTTP Methods`}</h3>\n    <p><code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`RESTDataSource`}</code>{` includes convenience methods for common REST API request methods: `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`get`}</code>{`, `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`post`}</code>{`, `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`put`}</code>{`, `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`patch`}</code>{`, and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`delete`}</code>{` (`}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-datasource-rest/src/RESTDataSource.ts#L154-L202\"\n      }}>{`see the source`}</a>{`).`}</p>\n    <p>{`An example of each is shown below:`}</p>\n    <ExpansionPanel title=\"Click to expand\" mdxType=\"ExpansionPanel\">\n      <div {...{\n        \"className\": \"gatsby-highlight\",\n        \"data-language\": \"js\"\n      }}><pre parentName=\"div\" {...{\n          \"style\": {\n            \"counterReset\": \"linenumber NaN\"\n          },\n          \"className\": \"language-js line-numbers\"\n        }}><code parentName=\"pre\" {...{\n            \"className\": \"language-js\"\n          }}><span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`class`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token class-name\"\n            }}>{`MoviesAPI`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`extends`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token class-name\"\n            }}>{`RESTDataSource`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`constructor`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`super`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`this`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span>{`baseURL `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`'https://movies-api.example.com/'`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// GET`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`getMovie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token parameter\"\n            }}>{`id`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`this`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span><span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`get`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token template-string\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`movies/`}</span><span parentName=\"span\" {...{\n                \"className\": \"token interpolation\"\n              }}><span parentName=\"span\" {...{\n                  \"className\": \"token interpolation-punctuation punctuation\"\n                }}>{`\\${`}</span><span parentName=\"span\" {...{\n                  \"className\": \"token function\"\n                }}>{`encodeURIComponent`}</span><span parentName=\"span\" {...{\n                  \"className\": \"token punctuation\"\n                }}>{`(`}</span>{`id`}<span parentName=\"span\" {...{\n                  \"className\": \"token punctuation\"\n                }}>{`)`}</span><span parentName=\"span\" {...{\n                  \"className\": \"token interpolation-punctuation punctuation\"\n                }}>{`}`}</span></span><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span></span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// path`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// POST`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`postMovie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token parameter\"\n            }}>{`movie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`this`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span><span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`post`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token template-string\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`movies`}</span><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span></span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// path`}</span>{`\n      movie`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// request body`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// PUT`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`newMovie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token parameter\"\n            }}>{`movie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`this`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span><span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`put`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token template-string\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`movies`}</span><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span></span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// path`}</span>{`\n      movie`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// request body`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// PATCH`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`updateMovie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token parameter\"\n            }}>{`movie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`this`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span><span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`patch`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token template-string\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`movies`}</span><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span></span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// path`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token literal-property property\"\n            }}>{`id`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` movie`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span>{`id`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` movie `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// request body`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// DELETE`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`deleteMovie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token parameter\"\n            }}>{`movie`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`this`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span><span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`delete`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token template-string\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`movies/`}</span><span parentName=\"span\" {...{\n                \"className\": \"token interpolation\"\n              }}><span parentName=\"span\" {...{\n                  \"className\": \"token interpolation-punctuation punctuation\"\n                }}>{`\\${`}</span><span parentName=\"span\" {...{\n                  \"className\": \"token function\"\n                }}>{`encodeURIComponent`}</span><span parentName=\"span\" {...{\n                  \"className\": \"token punctuation\"\n                }}>{`(`}</span>{`movie`}<span parentName=\"span\" {...{\n                  \"className\": \"token punctuation\"\n                }}>{`.`}</span>{`id`}<span parentName=\"span\" {...{\n                  \"className\": \"token punctuation\"\n                }}>{`)`}</span><span parentName=\"span\" {...{\n                  \"className\": \"token interpolation-punctuation punctuation\"\n                }}>{`}`}</span></span><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span></span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// path`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></code><span parentName=\"pre\" {...{\n            \"aria-hidden\": \"true\",\n            \"className\": \"line-numbers-rows\",\n            \"style\": {\n              \"whiteSpace\": \"normal\",\n              \"width\": \"auto\",\n              \"left\": \"0\"\n            }\n          }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    </ExpansionPanel>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Note the use of `}<a parentName=\"p\" {...{\n          \"href\": \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\"\n        }}><code parentName=\"a\" {...{\n            \"className\": \"language-text\"\n          }}>{`encodeURIComponent`}</code></a>{`. This is a standard JavaScript function that encodes special characters in a URI, preventing a possible injection attack vector.`}</p>\n    </blockquote>\n    <p>{`For a simple example, suppose our REST endpoint responded to the following URLs:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`DELETE `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`/movies/:id`}</code></li>\n      <li parentName=\"ul\">{`DELETE `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`/movies/:id/characters`}</code></li>\n    </ul>\n    <p>{`A \"malicious\" client could provide an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`:id`}</code>{` of `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`1/characters`}</code>{` to target the delete `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`characters`}</code>{` endpoint when it was the singular `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`movie`}</code>{` endpoint that we were trying to delete. URI encoding prevents this kind of injection by transforming the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`/`}</code>{` into `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`%2F`}</code>{`. This can then be correctly decoded and interpreted by the server and won't be treated as a path segment.`}</p>\n    <h4 {...{\n      \"id\": \"method-parameters\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#method-parameters\",\n        \"aria-label\": \"method parameters permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Method parameters`}</h4>\n    <p>{`For all HTTP convenience methods, the `}<strong parentName=\"p\">{`first parameter`}</strong>{` is the relative path of the endpoint you're sending the request to (e.g., `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`movies`}</code>{`).`}</p>\n    <p>{`The `}<strong parentName=\"p\">{`second parameter`}</strong>{` depends on the HTTP method:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`For HTTP methods with a request body (`}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`post`}</code>{`, `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`put`}</code>{`, `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`patch`}</code>{`), the second parameter `}<em parentName=\"li\">{`is`}</em>{` the request body.`}</li>\n      <li parentName=\"ul\">{`For HTTP methods `}<em parentName=\"li\">{`without`}</em>{` a request body, the second parameter is an object with keys and values corresponding to the request's query parameters.`}</li>\n    </ul>\n    <p>{`For all methods, the `}<strong parentName=\"p\">{`third parameter`}</strong>{` is an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`init`}</code>{` object that enables you to provide additional options (such as headers and referrers) to the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`fetch`}</code>{` API that's used to send the request. For details, `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters\"\n      }}>{`see MDN's fetch docs`}</a>{`.`}</p>\n    <h3 {...{\n      \"id\": \"intercepting-fetches\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#intercepting-fetches\",\n        \"aria-label\": \"intercepting fetches permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Intercepting fetches`}</h3>\n    <p><code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`RESTDataSource`}</code>{` includes a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`willSendRequest`}</code>{` method that you can override to modify outgoing requests before they're sent. For example, you can use this method to add headers or query parameters. This method is most commonly used for authorization or other concerns that apply to all sent requests.`}</p>\n    <p>{`Data sources also have access to the GraphQL operation context, which is useful for storing a user token or other relevant information.`}</p>\n    <h4 {...{\n      \"id\": \"setting-a-header\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#setting-a-header\",\n        \"aria-label\": \"setting a header permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Setting a header`}</h4>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`class`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`PersonalizationAPI`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`extends`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RESTDataSource`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`willSendRequest`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`request`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    request`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`headers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`set`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'Authorization'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`context`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`token`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h4 {...{\n      \"id\": \"adding-a-query-parameter\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#adding-a-query-parameter\",\n        \"aria-label\": \"adding a query parameter permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Adding a query parameter`}</h4>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`class`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`PersonalizationAPI`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`extends`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RESTDataSource`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`willSendRequest`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`request`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    request`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`params`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`set`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'api_key'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`context`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`token`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h4 {...{\n      \"id\": \"using-with-typescript\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#using-with-typescript\",\n        \"aria-label\": \"using with typescript permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Using with TypeScript`}</h4>\n    <p>{`If you're using TypeScript, make sure to import the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`RequestOptions`}</code>{` type:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"typescript\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-typescript line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-typescript\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`import`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` RESTDataSource`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` RequestOptions `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`from`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'apollo-datasource-rest'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`class`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`PersonalizationAPI`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`extends`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RESTDataSource`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  baseURL `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'https://personalization-api.example.com/'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`willSendRequest`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`request`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` RequestOptions`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    request`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`headers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`set`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'Authorization'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`context`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`token`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h3 {...{\n      \"id\": \"resolving-urls-dynamically\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#resolving-urls-dynamically\",\n        \"aria-label\": \"resolving urls dynamically permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Resolving URLs dynamically`}</h3>\n    <p>{`In some cases, you'll want to set the URL based on the environment or other contextual values. To do this, you can override `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`resolveURL`}</code>{`:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`resolveURL`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}><span parentName=\"span\" {...{\n              \"className\": \"token literal-property property\"\n            }}>{`request`}</span><span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` RequestOptions`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`!`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`baseURL`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` addresses `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`await`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`resolveSrv`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`request`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`path`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`split`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"/\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span><span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`1`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`+`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\".service.consul\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`baseURL `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` addresses`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span><span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`0`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`super`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`resolveURL`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`request`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h3 {...{\n      \"id\": \"using-with-dataloader\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#using-with-dataloader\",\n        \"aria-label\": \"using with dataloader permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Using with DataLoader`}</h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/graphql/dataloader\"\n      }}>{`DataLoader`}</a>{` utility was designed for a specific use case: deduplicating and batching object loads from a data store. It provides a memoization cache, which avoids loading the same object multiple times during a single GraphQL request. It also combines loads that occur during a single tick of the event loop into a batched request that fetches multiple objects at once.`}</p>\n    <p>{`DataLoader is great for its intended use case, but it’s less helpful when loading data from REST APIs. This is because its primary feature is `}<em parentName=\"p\">{`batching`}</em>{`, not `}<em parentName=\"p\">{`caching`}</em>{`.`}</p>\n    <p>{`When layering GraphQL over REST APIs, it's most helpful to have a resource cache that:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Saves data across multiple GraphQL requests`}</li>\n      <li parentName=\"ul\">{`Can be shared across multiple GraphQL servers`}</li>\n      <li parentName=\"ul\">{`Provides cache management features like expiry and invalidation that use standard HTTP cache control headers`}</li>\n    </ul>\n    <h4 {...{\n      \"id\": \"batching-with-rest-apis\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#batching-with-rest-apis\",\n        \"aria-label\": \"batching with rest apis permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Batching with REST APIs`}</h4>\n    <p>{`Most REST APIs don't support batching. When they do, using a batched endpoint can `}<em parentName=\"p\">{`jeopardize`}</em>{` caching. When you fetch data in a batch request, the response you receive is for the exact combination of resources you're requesting. Unless you request that same combination again, future requests for the same resource won't be served from cache.`}</p>\n    <p>{`We recommend that you restrict batching to requests that `}<em parentName=\"p\">{`can't`}</em>{` be cached. In these cases, you can take advantage of DataLoader as a private implementation detail inside your `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`RESTDataSource`}</code>{`:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`class`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`PersonalizationAPI`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`extends`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`RESTDataSource`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`constructor`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`super`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`baseURL `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'https://personalization-api.example.com/'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`willSendRequest`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`request`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    request`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`headers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`set`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'Authorization'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`context`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`token`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`private`}</span>{` progressLoader `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`DataLoader`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`ids`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` progressList `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`await`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`get`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'progress'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`ids`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` ids`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`join`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`','`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` ids`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`map`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`id`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{`\n      progressList`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`find`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`progress`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` progress`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`id `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`===`}</span>{` id`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`async`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`getProgressFor`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`id`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`progressLoader`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`load`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`id`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}