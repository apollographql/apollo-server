{"expireTime":9007200901520845000,"key":"gatsby-plugin-mdx-entire-payload-1777d5917a06ed9d96572f0ae246b7de-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import {\n  ExpansionPanel,\n} from 'gatsby-theme-apollo-docs/src/components/expansion-panel';","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":4,"column":66,"offset":93},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This tutorial walks through setting up an example project using the ","position":{"start":{"line":6,"column":1,"offset":95},"end":{"line":6,"column":69,"offset":163},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/package/apollo-server-azure-functions","children":[{"type":"text","value":"Azure Functions integration","position":{"start":{"line":6,"column":70,"offset":164},"end":{"line":6,"column":97,"offset":191},"indent":[]}}],"position":{"start":{"line":6,"column":69,"offset":163},"end":{"line":6,"column":159,"offset":253},"indent":[]}},{"type":"text","value":" for Apollo Server.","position":{"start":{"line":6,"column":159,"offset":253},"end":{"line":6,"column":178,"offset":272},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":95},"end":{"line":6,"column":178,"offset":272},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We created this tutorial using a Linux environment. Some commands might differ if you use a Windows environment; ","position":{"start":{"line":8,"column":1,"offset":274},"end":{"line":8,"column":114,"offset":387},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=azure-cli","children":[{"type":"text","value":"please refer to the Azure documentation for more details","position":{"start":{"line":8,"column":115,"offset":388},"end":{"line":8,"column":171,"offset":444},"indent":[]}}],"position":{"start":{"line":8,"column":114,"offset":387},"end":{"line":8,"column":257,"offset":530},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":8,"column":257,"offset":530},"end":{"line":8,"column":258,"offset":531},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":274},"end":{"line":8,"column":258,"offset":531},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that ","position":{"start":{"line":10,"column":1,"offset":533},"end":{"line":10,"column":11,"offset":543},"indent":[]}},{"type":"inlineCode","value":"apollo-server-azure-functions","position":{"start":{"line":10,"column":11,"offset":543},"end":{"line":10,"column":42,"offset":574},"indent":[]}},{"type":"text","value":" does not enable you to add arbitrary middleware to your web server (though you can manually wrap the handler returned by ","position":{"start":{"line":10,"column":42,"offset":574},"end":{"line":10,"column":164,"offset":696},"indent":[]}},{"type":"inlineCode","value":"createHandler","position":{"start":{"line":10,"column":164,"offset":696},"end":{"line":10,"column":179,"offset":711},"indent":[]}},{"type":"text","value":" in your own handler).","position":{"start":{"line":10,"column":179,"offset":711},"end":{"line":10,"column":201,"offset":733},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":533},"end":{"line":10,"column":201,"offset":733},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":12,"column":4,"offset":738},"end":{"line":12,"column":17,"offset":751},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":735},"end":{"line":12,"column":17,"offset":751},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You must do following before proceeding:","position":{"start":{"line":14,"column":1,"offset":753},"end":{"line":14,"column":41,"offset":793},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":753},"end":{"line":14,"column":41,"offset":793},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Setup an ","position":{"start":{"line":16,"column":3,"offset":797},"end":{"line":16,"column":12,"offset":806},"indent":[]}},{"type":"link","title":null,"url":"https://azure.com","children":[{"type":"text","value":"Azure","position":{"start":{"line":16,"column":13,"offset":807},"end":{"line":16,"column":18,"offset":812},"indent":[]}}],"position":{"start":{"line":16,"column":12,"offset":806},"end":{"line":16,"column":38,"offset":832},"indent":[]}},{"type":"text","value":" account","position":{"start":{"line":16,"column":38,"offset":832},"end":{"line":16,"column":46,"offset":840},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":797},"end":{"line":16,"column":46,"offset":840},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":795},"end":{"line":16,"column":46,"offset":840},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Install the ","position":{"start":{"line":17,"column":3,"offset":843},"end":{"line":17,"column":15,"offset":855},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local#v2","children":[{"type":"text","value":"Azure Functions Core Tools CLI version 3.x","position":{"start":{"line":17,"column":16,"offset":856},"end":{"line":17,"column":58,"offset":898},"indent":[]}}],"position":{"start":{"line":17,"column":15,"offset":855},"end":{"line":17,"column":138,"offset":978},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":843},"end":{"line":17,"column":138,"offset":978},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":841},"end":{"line":17,"column":138,"offset":978},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Install the ","position":{"start":{"line":18,"column":3,"offset":981},"end":{"line":18,"column":15,"offset":993},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest","children":[{"type":"text","value":"Azure CLI 2.x","position":{"start":{"line":18,"column":16,"offset":994},"end":{"line":18,"column":29,"offset":1007},"indent":[]}}],"position":{"start":{"line":18,"column":15,"offset":993},"end":{"line":18,"column":114,"offset":1092},"indent":[]}}],"position":{"start":{"line":18,"column":3,"offset":981},"end":{"line":18,"column":114,"offset":1092},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":979},"end":{"line":18,"column":114,"offset":1092},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":795},"end":{"line":18,"column":114,"offset":1092},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Setting up the project","position":{"start":{"line":20,"column":4,"offset":1097},"end":{"line":20,"column":26,"offset":1119},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1094},"end":{"line":20,"column":26,"offset":1119},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Creating a new Function","position":{"start":{"line":22,"column":5,"offset":1125},"end":{"line":22,"column":28,"offset":1148},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1121},"end":{"line":22,"column":28,"offset":1148},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We'll begin by creating a new project to test things out locally before deploying to Azure:","position":{"start":{"line":24,"column":1,"offset":1150},"end":{"line":24,"column":92,"offset":1241},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1150},"end":{"line":24,"column":92,"offset":1241},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"func init apollo-example --worker-runtime node\ncd apollo-example\nfunc new --template \"Http Trigger\" --name graphql","position":{"start":{"line":26,"column":1,"offset":1243},"end":{"line":30,"column":4,"offset":1370},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Next, run the ","position":{"start":{"line":32,"column":1,"offset":1372},"end":{"line":32,"column":15,"offset":1386},"indent":[]}},{"type":"inlineCode","value":"func host start","position":{"start":{"line":32,"column":15,"offset":1386},"end":{"line":32,"column":32,"offset":1403},"indent":[]}},{"type":"text","value":" command. You should see something like the following output to your terminal:","position":{"start":{"line":32,"column":32,"offset":1403},"end":{"line":32,"column":110,"offset":1481},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1372},"end":{"line":32,"column":110,"offset":1481},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"Azure Functions Core Tools\nCore Tools Version:       3.0.3477 Commit hash: 5fbb9a76fc00e4168f2cc90d6ff0afe5373afc6d  (64-bit)\nFunction Runtime Version: 3.0.15584.0\n\n[2021-06-30T19:22:21.077Z] Worker process started and initialized.\n\nFunctions:\n\n\tgraphql: [GET,POST] http://localhost:7071/api/graphql\n\nFor detailed output, run func with --verbose flag.","position":{"start":{"line":34,"column":1,"offset":1483},"end":{"line":46,"column":4,"offset":1847},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"If you navigate to ","position":{"start":{"line":48,"column":1,"offset":1849},"end":{"line":48,"column":20,"offset":1868},"indent":[]}},{"type":"link","title":null,"url":"http://localhost:7071/api/graphql?name=Apollo","children":[{"type":"text","value":"http://localhost:7071/api/graphql?name=Apollo","position":{"start":{"line":48,"column":21,"offset":1869},"end":{"line":48,"column":66,"offset":1914},"indent":[]}}],"position":{"start":{"line":48,"column":20,"offset":1868},"end":{"line":48,"column":114,"offset":1962},"indent":[]}},{"type":"text","value":" in your browser and will now see the text: 'Hello Apollo.'","position":{"start":{"line":48,"column":114,"offset":1962},"end":{"line":48,"column":173,"offset":2021},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":1849},"end":{"line":48,"column":173,"offset":2021},"indent":[]}},{"type":"jsx","value":"<ExpansionPanel title=\"Run into a problem?\">","position":{"start":{"line":50,"column":1,"offset":2023},"end":{"line":50,"column":45,"offset":2067},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you see an error message mentioning \"Incompatible Node.js version\", you should double-check that the version of ","position":{"start":{"line":52,"column":1,"offset":2069},"end":{"line":52,"column":116,"offset":2184},"indent":[]}},{"type":"inlineCode","value":"node","position":{"start":{"line":52,"column":116,"offset":2184},"end":{"line":52,"column":122,"offset":2190},"indent":[]}},{"type":"text","value":" on your ","position":{"start":{"line":52,"column":122,"offset":2190},"end":{"line":52,"column":131,"offset":2199},"indent":[]}},{"type":"inlineCode","value":"PATH","position":{"start":{"line":52,"column":131,"offset":2199},"end":{"line":52,"column":137,"offset":2205},"indent":[]}},{"type":"text","value":" is a version ","position":{"start":{"line":52,"column":137,"offset":2205},"end":{"line":52,"column":151,"offset":2219},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/azure/azure-functions/functions-versions?tabs=in-process%2Cv4&pivots=programming-language-javascript","children":[{"type":"text","value":"supported by Azure Functions","position":{"start":{"line":52,"column":152,"offset":2220},"end":{"line":52,"column":180,"offset":2248},"indent":[]}}],"position":{"start":{"line":52,"column":151,"offset":2219},"end":{"line":52,"column":316,"offset":2384},"indent":[]}},{"type":"text","value":". If your node version is not supported, you can use a tool like ","position":{"start":{"line":52,"column":316,"offset":2384},"end":{"line":52,"column":381,"offset":2449},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/nvm-sh/nvm","children":[{"type":"text","value":"nvm","position":{"start":{"line":52,"column":382,"offset":2450},"end":{"line":52,"column":385,"offset":2453},"indent":[]}}],"position":{"start":{"line":52,"column":381,"offset":2449},"end":{"line":52,"column":417,"offset":2485},"indent":[]}},{"type":"text","value":" to use a different node version.","position":{"start":{"line":52,"column":417,"offset":2485},"end":{"line":52,"column":450,"offset":2518},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":2069},"end":{"line":52,"column":450,"offset":2518},"indent":[]}},{"type":"jsx","value":"</ExpansionPanel>","position":{"start":{"line":54,"column":1,"offset":2520},"end":{"line":54,"column":18,"offset":2537},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If you'd like to change the URL for this function (e.g., to something like ","position":{"start":{"line":56,"column":1,"offset":2539},"end":{"line":56,"column":76,"offset":2614},"indent":[]}},{"type":"inlineCode","value":"http://{my-url}/graphql","position":{"start":{"line":56,"column":76,"offset":2614},"end":{"line":56,"column":101,"offset":2639},"indent":[]}},{"type":"text","value":"), you can change the URL prefix in the ","position":{"start":{"line":56,"column":101,"offset":2639},"end":{"line":56,"column":141,"offset":2679},"indent":[]}},{"type":"inlineCode","value":"host.json","position":{"start":{"line":56,"column":141,"offset":2679},"end":{"line":56,"column":152,"offset":2690},"indent":[]}},{"type":"text","value":" file:","position":{"start":{"line":56,"column":152,"offset":2690},"end":{"line":56,"column":158,"offset":2696},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":2539},"end":{"line":56,"column":158,"offset":2696},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"version\": \"2.0\",\n  \"extensions\": {\n    \"http\": {\n      \"routePrefix\": \"\"\n    }\n  }\n}","position":{"start":{"line":58,"column":1,"offset":2698},"end":{"line":67,"column":4,"offset":2799},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Setting up Apollo Server","position":{"start":{"line":69,"column":5,"offset":2805},"end":{"line":69,"column":29,"offset":2829},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":2801},"end":{"line":69,"column":29,"offset":2829},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We'll start by installing the dependencies for ","position":{"start":{"line":71,"column":1,"offset":2831},"end":{"line":71,"column":48,"offset":2878},"indent":[]}},{"type":"inlineCode","value":"apollo-server-azure-functions","position":{"start":{"line":71,"column":48,"offset":2878},"end":{"line":71,"column":79,"offset":2909},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":71,"column":79,"offset":2909},"end":{"line":71,"column":84,"offset":2914},"indent":[]}},{"type":"inlineCode","value":"graphql","position":{"start":{"line":71,"column":84,"offset":2914},"end":{"line":71,"column":93,"offset":2923},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":71,"column":93,"offset":2923},"end":{"line":71,"column":94,"offset":2924},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2831},"end":{"line":71,"column":94,"offset":2924},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"cd apollo-example\nnpm install apollo-server-azure-functions graphql","position":{"start":{"line":73,"column":1,"offset":2926},"end":{"line":76,"column":4,"offset":3006},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"To set up the ","position":{"start":{"line":78,"column":1,"offset":3008},"end":{"line":78,"column":15,"offset":3022},"indent":[]}},{"type":"inlineCode","value":"apollo-server-azure-functions","position":{"start":{"line":78,"column":15,"offset":3022},"end":{"line":78,"column":46,"offset":3053},"indent":[]}},{"type":"text","value":" library, replace the content of your ","position":{"start":{"line":78,"column":46,"offset":3053},"end":{"line":78,"column":84,"offset":3091},"indent":[]}},{"type":"inlineCode","value":"graphql/index.js","position":{"start":{"line":78,"column":84,"offset":3091},"end":{"line":78,"column":102,"offset":3109},"indent":[]}},{"type":"text","value":" file with the following:","position":{"start":{"line":78,"column":102,"offset":3109},"end":{"line":78,"column":127,"offset":3134},"indent":[]}}],"position":{"start":{"line":78,"column":1,"offset":3008},"end":{"line":78,"column":127,"offset":3134},"indent":[]}},{"type":"code","lang":"javascript","meta":null,"value":"const { ApolloServer, gql } = require('apollo-server-azure-functions');\n\n// Schema definition.\nconst typeDefs = gql`\n  type Query {\n    hello: String\n  }\n`;\n\n// Resolver map.\nconst resolvers = {\n  Query: {\n    hello: () => 'Hello world!',\n  },\n};\n\n// Create our server.\nconst server = new ApolloServer({ typeDefs, resolvers });\nexports.graphqlHandler = server.createHandler();","position":{"start":{"line":80,"column":1,"offset":3136},"end":{"line":100,"column":4,"offset":3530},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"See the ","position":{"start":{"line":102,"column":3,"offset":3534},"end":{"line":102,"column":11,"offset":3542},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/package/apollo-server-azure-functions","children":[{"type":"text","value":"README","position":{"start":{"line":102,"column":12,"offset":3543},"end":{"line":102,"column":18,"offset":3549},"indent":[]}}],"position":{"start":{"line":102,"column":11,"offset":3542},"end":{"line":102,"column":80,"offset":3611},"indent":[]}},{"type":"text","value":" for ","position":{"start":{"line":102,"column":80,"offset":3611},"end":{"line":102,"column":85,"offset":3616},"indent":[]}},{"type":"inlineCode","value":"apollo-server-azure-functions","position":{"start":{"line":102,"column":85,"offset":3616},"end":{"line":102,"column":116,"offset":3647},"indent":[]}},{"type":"text","value":" for more information about this package.","position":{"start":{"line":102,"column":116,"offset":3647},"end":{"line":102,"column":157,"offset":3688},"indent":[]}}],"position":{"start":{"line":102,"column":3,"offset":3534},"end":{"line":102,"column":157,"offset":3688},"indent":[]}}],"position":{"start":{"line":102,"column":1,"offset":3532},"end":{"line":102,"column":157,"offset":3688},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Next, we need to make a couple of changes to our ","position":{"start":{"line":104,"column":1,"offset":3690},"end":{"line":104,"column":50,"offset":3739},"indent":[]}},{"type":"inlineCode","value":"graphql/function.json","position":{"start":{"line":104,"column":50,"offset":3739},"end":{"line":104,"column":73,"offset":3762},"indent":[]}},{"type":"text","value":" file:","position":{"start":{"line":104,"column":73,"offset":3762},"end":{"line":104,"column":79,"offset":3768},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":3690},"end":{"line":104,"column":79,"offset":3768},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Change the output ","position":{"start":{"line":105,"column":4,"offset":3772},"end":{"line":105,"column":22,"offset":3790},"indent":[]}},{"type":"inlineCode","value":"name","position":{"start":{"line":105,"column":22,"offset":3790},"end":{"line":105,"column":28,"offset":3796},"indent":[]}},{"type":"text","value":" to ","position":{"start":{"line":105,"column":28,"offset":3796},"end":{"line":105,"column":32,"offset":3800},"indent":[]}},{"type":"inlineCode","value":"$return","position":{"start":{"line":105,"column":32,"offset":3800},"end":{"line":105,"column":41,"offset":3809},"indent":[]}}],"position":{"start":{"line":105,"column":4,"offset":3772},"end":{"line":105,"column":41,"offset":3809},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":3769},"end":{"line":105,"column":41,"offset":3809},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add ","position":{"start":{"line":106,"column":4,"offset":3813},"end":{"line":106,"column":8,"offset":3817},"indent":[]}},{"type":"inlineCode","value":"options","position":{"start":{"line":106,"column":8,"offset":3817},"end":{"line":106,"column":17,"offset":3826},"indent":[]}},{"type":"text","value":" to the list of ","position":{"start":{"line":106,"column":17,"offset":3826},"end":{"line":106,"column":33,"offset":3842},"indent":[]}},{"type":"inlineCode","value":"methods","position":{"start":{"line":106,"column":33,"offset":3842},"end":{"line":106,"column":42,"offset":3851},"indent":[]}},{"type":"text","value":" (to ensure CORS works)","position":{"start":{"line":106,"column":42,"offset":3851},"end":{"line":106,"column":65,"offset":3874},"indent":[]}}],"position":{"start":{"line":106,"column":4,"offset":3813},"end":{"line":106,"column":65,"offset":3874},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":3810},"end":{"line":106,"column":65,"offset":3874},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":3769},"end":{"line":106,"column":65,"offset":3874},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Your ","position":{"start":{"line":108,"column":1,"offset":3876},"end":{"line":108,"column":6,"offset":3881},"indent":[]}},{"type":"inlineCode","value":"graphql/function.json","position":{"start":{"line":108,"column":6,"offset":3881},"end":{"line":108,"column":29,"offset":3904},"indent":[]}},{"type":"text","value":" file should now look like this:","position":{"start":{"line":108,"column":29,"offset":3904},"end":{"line":108,"column":61,"offset":3936},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":3876},"end":{"line":108,"column":61,"offset":3936},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"bindings\": [\n    {\n      \"authLevel\": \"function\",\n      \"type\": \"httpTrigger\",\n      \"direction\": \"in\",\n      \"name\": \"req\",\n      \"route\": \"{*segments}\",\n      \"methods\": [\n        \"get\",\n        \"post\",\n        \"options\"\n      ]\n    },\n    {\n      \"type\": \"http\",\n      \"direction\": \"out\",\n      \"name\": \"$return\"\n    }\n  ]\n}","position":{"start":{"line":110,"column":1,"offset":3938},"end":{"line":132,"column":4,"offset":4282},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Note the ","position":{"start":{"line":134,"column":1,"offset":4284},"end":{"line":134,"column":10,"offset":4293},"indent":[]}},{"type":"inlineCode","value":"route","position":{"start":{"line":134,"column":10,"offset":4293},"end":{"line":134,"column":17,"offset":4300},"indent":[]}},{"type":"text","value":" line above is only required if you'd like to use ","position":{"start":{"line":134,"column":17,"offset":4300},"end":{"line":134,"column":67,"offset":4350},"indent":[]}},{"type":"link","title":null,"url":"../monitoring/health-checks","children":[{"type":"text","value":"health checks","position":{"start":{"line":134,"column":68,"offset":4351},"end":{"line":134,"column":81,"offset":4364},"indent":[]}}],"position":{"start":{"line":134,"column":67,"offset":4350},"end":{"line":134,"column":111,"offset":4394},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":134,"column":111,"offset":4394},"end":{"line":134,"column":112,"offset":4395},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":4284},"end":{"line":134,"column":112,"offset":4395},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Now return to the base folder and run the ","position":{"start":{"line":136,"column":1,"offset":4397},"end":{"line":136,"column":43,"offset":4439},"indent":[]}},{"type":"inlineCode","value":"func host start","position":{"start":{"line":136,"column":43,"offset":4439},"end":{"line":136,"column":60,"offset":4456},"indent":[]}},{"type":"text","value":" command again:","position":{"start":{"line":136,"column":60,"offset":4456},"end":{"line":136,"column":75,"offset":4471},"indent":[]}}],"position":{"start":{"line":136,"column":1,"offset":4397},"end":{"line":136,"column":75,"offset":4471},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"func host start","position":{"start":{"line":138,"column":1,"offset":4473},"end":{"line":140,"column":4,"offset":4501},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Apollo Server should now be up and running! If you go back to your browser (to either ","position":{"start":{"line":142,"column":1,"offset":4503},"end":{"line":142,"column":87,"offset":4589},"indent":[]}},{"type":"link","title":null,"url":"http://localhost:7071/api/graphql?name=Apollo","children":[{"type":"text","value":"http://localhost:7071/api/graphql?name=Apollo","position":{"start":{"line":142,"column":88,"offset":4590},"end":{"line":142,"column":133,"offset":4635},"indent":[]}}],"position":{"start":{"line":142,"column":87,"offset":4589},"end":{"line":142,"column":181,"offset":4683},"indent":[]}},{"type":"text","value":" or your custom URL path) and refresh, you can now open up ","position":{"start":{"line":142,"column":181,"offset":4683},"end":{"line":142,"column":240,"offset":4742},"indent":[]}},{"type":"link","title":null,"url":"https://www.apollographql.com/docs/apollo-server/testing/build-run-queries/#apollo-sandbox","children":[{"type":"text","value":"Apollo Sandbox","position":{"start":{"line":142,"column":241,"offset":4743},"end":{"line":142,"column":255,"offset":4757},"indent":[]}}],"position":{"start":{"line":142,"column":240,"offset":4742},"end":{"line":142,"column":348,"offset":4850},"indent":[]}},{"type":"text","value":" and run operations against your server.","position":{"start":{"line":142,"column":348,"offset":4850},"end":{"line":142,"column":388,"offset":4890},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":4503},"end":{"line":142,"column":388,"offset":4890},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Deploying with the Azure CLI","position":{"start":{"line":144,"column":4,"offset":4895},"end":{"line":144,"column":32,"offset":4923},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":4892},"end":{"line":144,"column":32,"offset":4923},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Creating Azure resources","position":{"start":{"line":146,"column":5,"offset":4929},"end":{"line":146,"column":29,"offset":4953},"indent":[]}}],"position":{"start":{"line":146,"column":1,"offset":4925},"end":{"line":146,"column":29,"offset":4953},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Before deploying, we first need to meet the requirements to set up a new ","position":{"start":{"line":148,"column":1,"offset":4955},"end":{"line":148,"column":74,"offset":5028},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview","children":[{"type":"text","value":"Azure Function","position":{"start":{"line":148,"column":75,"offset":5029},"end":{"line":148,"column":89,"offset":5043},"indent":[]}}],"position":{"start":{"line":148,"column":74,"offset":5028},"end":{"line":148,"column":165,"offset":5119},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":148,"column":165,"offset":5119},"end":{"line":148,"column":166,"offset":5120},"indent":[]}}],"position":{"start":{"line":148,"column":1,"offset":4955},"end":{"line":148,"column":166,"offset":5120},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We'll start by creating a new ","position":{"start":{"line":150,"column":1,"offset":5122},"end":{"line":150,"column":31,"offset":5152},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-portal","children":[{"type":"text","value":"Azure resource group","position":{"start":{"line":150,"column":32,"offset":5153},"end":{"line":150,"column":52,"offset":5173},"indent":[]}}],"position":{"start":{"line":150,"column":31,"offset":5152},"end":{"line":150,"column":157,"offset":5278},"indent":[]}},{"type":"text","value":" for this project. The below command will create a resource group with the ","position":{"start":{"line":150,"column":157,"offset":5278},"end":{"line":150,"column":232,"offset":5353},"indent":[]}},{"type":"inlineCode","value":"--name","position":{"start":{"line":150,"column":232,"offset":5353},"end":{"line":150,"column":240,"offset":5361},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":150,"column":240,"offset":5361},"end":{"line":150,"column":245,"offset":5366},"indent":[]}},{"type":"inlineCode","value":"--location","position":{"start":{"line":150,"column":245,"offset":5366},"end":{"line":150,"column":257,"offset":5378},"indent":[]}},{"type":"text","value":" you specify. Make sure you replace the ","position":{"start":{"line":150,"column":257,"offset":5378},"end":{"line":150,"column":297,"offset":5418},"indent":[]}},{"type":"inlineCode","value":"--location","position":{"start":{"line":150,"column":297,"offset":5418},"end":{"line":150,"column":309,"offset":5430},"indent":[]}},{"type":"text","value":" with ","position":{"start":{"line":150,"column":309,"offset":5430},"end":{"line":150,"column":315,"offset":5436},"indent":[]}},{"type":"link","title":null,"url":"https://azure.microsoft.com/en-us/global-infrastructure/geographies/","children":[{"type":"text","value":"your Azure region","position":{"start":{"line":150,"column":316,"offset":5437},"end":{"line":150,"column":333,"offset":5454},"indent":[]}}],"position":{"start":{"line":150,"column":315,"offset":5436},"end":{"line":150,"column":404,"offset":5525},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":150,"column":404,"offset":5525},"end":{"line":150,"column":405,"offset":5526},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":5122},"end":{"line":150,"column":405,"offset":5526},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"az group create --name apollo-examples --location eastus","position":{"start":{"line":152,"column":1,"offset":5528},"end":{"line":154,"column":4,"offset":5597},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"After creating a resource group, you will need to create a ","position":{"start":{"line":156,"column":1,"offset":5599},"end":{"line":156,"column":60,"offset":5658},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview","children":[{"type":"text","value":"storage account","position":{"start":{"line":156,"column":61,"offset":5659},"end":{"line":156,"column":76,"offset":5674},"indent":[]}}],"position":{"start":{"line":156,"column":60,"offset":5658},"end":{"line":156,"column":157,"offset":5755},"indent":[]}},{"type":"text","value":" to store your code on Azure. Make sure to choose a ","position":{"start":{"line":156,"column":157,"offset":5755},"end":{"line":156,"column":209,"offset":5807},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"unique","position":{"start":{"line":156,"column":211,"offset":5809},"end":{"line":156,"column":217,"offset":5815},"indent":[]}}],"position":{"start":{"line":156,"column":209,"offset":5807},"end":{"line":156,"column":219,"offset":5817},"indent":[]}},{"type":"text","value":" name for your project's storage account.","position":{"start":{"line":156,"column":219,"offset":5817},"end":{"line":156,"column":260,"offset":5858},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":5599},"end":{"line":156,"column":260,"offset":5858},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"az storage account create \\\n    --name apolloexampleYOURNAME \\\n    --location eastus \\\n    --resource-group apollo-examples \\\n    --sku Standard_LRS","position":{"start":{"line":158,"column":1,"offset":5860},"end":{"line":164,"column":4,"offset":6021},"indent":[1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The last resource you'll need to create is a ","position":{"start":{"line":166,"column":1,"offset":6023},"end":{"line":166,"column":46,"offset":6068},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/cli/azure/functionapp?view=azure-cli-latest#az-functionapp-create","children":[{"type":"text","value":"function app","position":{"start":{"line":166,"column":47,"offset":6069},"end":{"line":166,"column":59,"offset":6081},"indent":[]}}],"position":{"start":{"line":166,"column":46,"offset":6068},"end":{"line":166,"column":160,"offset":6182},"indent":[]}},{"type":"text","value":". The below command will create a new function app using the specified resource group, location, and storage account.","position":{"start":{"line":166,"column":160,"offset":6182},"end":{"line":166,"column":277,"offset":6299},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":6023},"end":{"line":166,"column":277,"offset":6299},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note your function app name must be ","position":{"start":{"line":168,"column":1,"offset":6301},"end":{"line":168,"column":37,"offset":6337},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"unique","position":{"start":{"line":168,"column":39,"offset":6339},"end":{"line":168,"column":45,"offset":6345},"indent":[]}}],"position":{"start":{"line":168,"column":37,"offset":6337},"end":{"line":168,"column":47,"offset":6347},"indent":[]}},{"type":"text","value":" for this command to run successfully:","position":{"start":{"line":168,"column":47,"offset":6347},"end":{"line":168,"column":85,"offset":6385},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":6301},"end":{"line":168,"column":85,"offset":6385},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"az functionapp create \\\n    --resource-group apollo-examples \\\n    --name apollo-example-YOURNAME \\\n    --consumption-plan-location eastus \\\n    --runtime node \\\n    --functions-version 3 \\\n    --storage-account apolloexampleYOURNAME","position":{"start":{"line":170,"column":1,"offset":6387},"end":{"line":178,"column":4,"offset":6633},"indent":[1,1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Publishing","position":{"start":{"line":180,"column":5,"offset":6639},"end":{"line":180,"column":15,"offset":6649},"indent":[]}}],"position":{"start":{"line":180,"column":1,"offset":6635},"end":{"line":180,"column":15,"offset":6649},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After creating a function app, you can now publish your function to Azure using the Azure CLI.","position":{"start":{"line":182,"column":1,"offset":6651},"end":{"line":182,"column":95,"offset":6745},"indent":[]}}],"position":{"start":{"line":182,"column":1,"offset":6651},"end":{"line":182,"column":95,"offset":6745},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use the command below, inserting your function app name, to publish your function:","position":{"start":{"line":184,"column":1,"offset":6747},"end":{"line":184,"column":83,"offset":6829},"indent":[]}}],"position":{"start":{"line":184,"column":1,"offset":6747},"end":{"line":184,"column":83,"offset":6829},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"func azure functionapp publish apollo-example-YOURNAME","position":{"start":{"line":186,"column":1,"offset":6831},"end":{"line":188,"column":4,"offset":6898},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Your terminal will output something similar to the following:","position":{"start":{"line":190,"column":1,"offset":6900},"end":{"line":190,"column":62,"offset":6961},"indent":[]}}],"position":{"start":{"line":190,"column":1,"offset":6900},"end":{"line":190,"column":62,"offset":6961},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"Getting site publishing info...\nPreparing archive...\nUploading 4.45 MB [###############################################################################]\nUpload completed successfully.\nDeployment completed successfully.\nSyncing triggers...\nFunctions in apollo-example:\n    graphql - [httpTrigger]\n        Invoke url: https://apollo-example.azurewebsites.net/graphql?code=4aB9bka0fXFyTVeO8jAiHTc8bmyoqx2mEabk/QDA6gu2xLcqEAJRiw==","position":{"start":{"line":191,"column":1,"offset":6962},"end":{"line":201,"column":4,"offset":7401},"indent":[1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can now navigate to the ","position":{"start":{"line":203,"column":1,"offset":7403},"end":{"line":203,"column":29,"offset":7431},"indent":[]}},{"type":"inlineCode","value":"Invoke url","position":{"start":{"line":203,"column":29,"offset":7431},"end":{"line":203,"column":41,"offset":7443},"indent":[]}},{"type":"text","value":" shown in your terminal's output to see your function app up and running.","position":{"start":{"line":203,"column":41,"offset":7443},"end":{"line":203,"column":114,"offset":7516},"indent":[]}}],"position":{"start":{"line":203,"column":1,"offset":7403},"end":{"line":203,"column":114,"offset":7516},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"After completing this tutorial, you can delete all of the Azure resources you created by running the ","position":{"start":{"line":205,"column":1,"offset":7518},"end":{"line":205,"column":102,"offset":7619},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/cli/azure/group?view=azure-cli-latest","children":[{"type":"inlineCode","value":"az group","position":{"start":{"line":205,"column":103,"offset":7620},"end":{"line":205,"column":113,"offset":7630},"indent":[]}}],"position":{"start":{"line":205,"column":102,"offset":7619},"end":{"line":205,"column":186,"offset":7703},"indent":[]}},{"type":"text","value":" command:","position":{"start":{"line":205,"column":186,"offset":7703},"end":{"line":205,"column":195,"offset":7712},"indent":[]}}],"position":{"start":{"line":205,"column":1,"offset":7518},"end":{"line":205,"column":195,"offset":7712},"indent":[]}},{"type":"code","lang":"shell","meta":null,"value":"az group delete --name apollo-examples --yes","position":{"start":{"line":207,"column":1,"offset":7714},"end":{"line":209,"column":4,"offset":7771},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Deploying to Azure with VS Code","position":{"start":{"line":211,"column":4,"offset":7776},"end":{"line":211,"column":35,"offset":7807},"indent":[]}}],"position":{"start":{"line":211,"column":1,"offset":7773},"end":{"line":211,"column":35,"offset":7807},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can also publish to Azure directly from VS Code using the Azure Functions Extension. Refer to the documentation on ","position":{"start":{"line":213,"column":1,"offset":7809},"end":{"line":213,"column":120,"offset":7928},"indent":[]}},{"type":"link","title":null,"url":"https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-function-vs-code#publish-the-project-to-azure","children":[{"type":"text","value":"publishing to Azure from VS Code","position":{"start":{"line":213,"column":121,"offset":7929},"end":{"line":213,"column":153,"offset":7961},"indent":[]}}],"position":{"start":{"line":213,"column":120,"offset":7928},"end":{"line":213,"column":279,"offset":8087},"indent":[]}},{"type":"text","value":" for more information.","position":{"start":{"line":213,"column":279,"offset":8087},"end":{"line":213,"column":301,"offset":8109},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":7809},"end":{"line":213,"column":301,"offset":8109},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Deploying with Azure Functions\",\"sidebar_title\":\"Azure Functions\",\"description\":\"Deploying your GraphQL server to Azure Functions\"}","position":{"start":{"line":217,"column":1,"offset":8113},"end":{"line":217,"column":170,"offset":8282},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":217,"column":170,"offset":8282}}},"scopeImports":["import {\n  ExpansionPanel,\n} from 'gatsby-theme-apollo-docs/src/components/expansion-panel';","import * as React from 'react'"],"scopeIdentifiers":["ExpansionPanel","React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Deploying with Azure Functions\",\n  \"sidebar_title\": \"Azure Functions\",\n  \"description\": \"Deploying your GraphQL server to Azure Functions\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This tutorial walks through setting up an example project using the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/apollo-server-azure-functions\"\n  }, \"Azure Functions integration\"), \" for Apollo Server.\"), mdx(\"p\", null, \"We created this tutorial using a Linux environment. Some commands might differ if you use a Windows environment; \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=azure-cli\"\n  }, \"please refer to the Azure documentation for more details\"), \".\"), mdx(\"p\", null, \"Note that \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"apollo-server-azure-functions\"), \" does not enable you to add arbitrary middleware to your web server (though you can manually wrap the handler returned by \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"createHandler\"), \" in your own handler).\"), mdx(\"h2\", {\n    \"id\": \"prerequisites\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#prerequisites\",\n    \"aria-label\": \"prerequisites permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Prerequisites\"), mdx(\"p\", null, \"You must do following before proceeding:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Setup an \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://azure.com\"\n  }, \"Azure\"), \" account\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Install the \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local#v2\"\n  }, \"Azure Functions Core Tools CLI version 3.x\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Install the \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest\"\n  }, \"Azure CLI 2.x\"))), mdx(\"h2\", {\n    \"id\": \"setting-up-the-project\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#setting-up-the-project\",\n    \"aria-label\": \"setting up the project permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Setting up the project\"), mdx(\"h3\", {\n    \"id\": \"creating-a-new-function\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#creating-a-new-function\",\n    \"aria-label\": \"creating a new function permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Creating a new Function\"), mdx(\"p\", null, \"We'll begin by creating a new project to test things out locally before deploying to Azure:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"func init apollo-example --worker-runtime \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"node\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token builtin class-name\"\n  }, \"cd\"), \" apollo-example\\nfunc new --template \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Http Trigger\\\"\"), \" --name graphql\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"Next, run the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"func host start\"), \" command. You should see something like the following output to your terminal:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"Azure Functions Core Tools\\nCore Tools Version:       \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"3.0\"), \".3477 Commit hash: 5fbb9a76fc00e4168f2cc90d6ff0afe5373afc6d  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"64\"), \"-bit\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \"\\nFunction Runtime Version: \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"3.0\"), \".15584.0\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2021\"), \"-06-30T19:22:21.077Z\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \" Worker process started and initialized.\\n\\nFunctions:\\n\\n\\tgraphql: \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"GET,POST\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \" http://localhost:7071/api/graphql\\n\\nFor detailed output, run func with --verbose flag.\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"If you navigate to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:7071/api/graphql?name=Apollo\"\n  }, \"http://localhost:7071/api/graphql?name=Apollo\"), \" in your browser and will now see the text: 'Hello Apollo.'\"), mdx(ExpansionPanel, {\n    title: \"Run into a problem?\",\n    mdxType: \"ExpansionPanel\"\n  }, mdx(\"p\", null, \"If you see an error message mentioning \\\"Incompatible Node.js version\\\", you should double-check that the version of \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"node\"), \" on your \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"PATH\"), \" is a version \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/azure/azure-functions/functions-versions?tabs=in-process%2Cv4&pivots=programming-language-javascript\"\n  }, \"supported by Azure Functions\"), \". If your node version is not supported, you can use a tool like \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/nvm-sh/nvm\"\n  }, \"nvm\"), \" to use a different node version.\")), mdx(\"p\", null, \"If you'd like to change the URL for this function (e.g., to something like \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"http://{my-url}/graphql\"), \"), you can change the URL prefix in the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"host.json\"), \" file:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"json\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-json line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"version\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"2.0\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"extensions\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"http\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"routePrefix\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"\\\"\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h3\", {\n    \"id\": \"setting-up-apollo-server\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#setting-up-apollo-server\",\n    \"aria-label\": \"setting up apollo server permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Setting up Apollo Server\"), mdx(\"p\", null, \"We'll start by installing the dependencies for \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"apollo-server-azure-functions\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"graphql\"), \":\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token builtin class-name\"\n  }, \"cd\"), \" apollo-example\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"npm\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"install\"), \" apollo-server-azure-functions graphql\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"To set up the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"apollo-server-azure-functions\"), \" library, replace the content of your \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"graphql/index.js\"), \" file with the following:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-javascript line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloServer\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" gql \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-server-azure-functions'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Schema definition.\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" typeDefs \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" gql\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"\\n  type Query {\\n    hello: String\\n  }\\n\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Resolver map.\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" resolvers \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"Query\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"hello\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'Hello world!'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// Create our server.\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" server \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloServer\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" typeDefs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" resolvers \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\nexports\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"graphqlHandler \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" server\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"createHandler\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"See the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.npmjs.com/package/apollo-server-azure-functions\"\n  }, \"README\"), \" for \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"apollo-server-azure-functions\"), \" for more information about this package.\")), mdx(\"p\", null, \"Next, we need to make a couple of changes to our \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"graphql/function.json\"), \" file:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Change the output \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"name\"), \" to \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"$return\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Add \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"options\"), \" to the list of \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"methods\"), \" (to ensure CORS works)\")), mdx(\"p\", null, \"Your \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"graphql/function.json\"), \" file should now look like this:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"json\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-json line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"bindings\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"authLevel\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"function\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"type\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"httpTrigger\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"direction\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"in\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"name\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"req\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"route\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"{*segments}\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"methods\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"get\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"post\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"options\\\"\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"type\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"http\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"direction\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"out\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"name\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"$return\\\"\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"Note the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"route\"), \" line above is only required if you'd like to use \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/monitoring/health-checks/\"\n  }, \"health checks\"), \".\"), mdx(\"p\", null, \"Now return to the base folder and run the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"func host start\"), \" command again:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"func \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"host\"), \" start\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"Apollo Server should now be up and running! If you go back to your browser (to either \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"http://localhost:7071/api/graphql?name=Apollo\"\n  }, \"http://localhost:7071/api/graphql?name=Apollo\"), \" or your custom URL path) and refresh, you can now open up \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.apollographql.com/docs/apollo-server/testing/build-run-queries/#apollo-sandbox\"\n  }, \"Apollo Sandbox\"), \" and run operations against your server.\"), mdx(\"h2\", {\n    \"id\": \"deploying-with-the-azure-cli\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#deploying-with-the-azure-cli\",\n    \"aria-label\": \"deploying with the azure cli permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Deploying with the Azure CLI\"), mdx(\"h3\", {\n    \"id\": \"creating-azure-resources\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#creating-azure-resources\",\n    \"aria-label\": \"creating azure resources permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Creating Azure resources\"), mdx(\"p\", null, \"Before deploying, we first need to meet the requirements to set up a new \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview\"\n  }, \"Azure Function\"), \".\"), mdx(\"p\", null, \"We'll start by creating a new \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-portal\"\n  }, \"Azure resource group\"), \" for this project. The below command will create a resource group with the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"--name\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"--location\"), \" you specify. Make sure you replace the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"--location\"), \" with \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://azure.microsoft.com/en-us/global-infrastructure/geographies/\"\n  }, \"your Azure region\"), \".\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"az group create --name apollo-examples --location eastus\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"After creating a resource group, you will need to create a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview\"\n  }, \"storage account\"), \" to store your code on Azure. Make sure to choose a \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"unique\"), \" name for your project's storage account.\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"az storage account create \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --name apolloexampleYOURNAME \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --location eastus \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --resource-group apollo-examples \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --sku Standard_LRS\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"The last resource you'll need to create is a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/cli/azure/functionapp?view=azure-cli-latest#az-functionapp-create\"\n  }, \"function app\"), \". The below command will create a new function app using the specified resource group, location, and storage account.\"), mdx(\"p\", null, \"Note your function app name must be \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"unique\"), \" for this command to run successfully:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"az functionapp create \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --resource-group apollo-examples \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --name apollo-example-YOURNAME \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --consumption-plan-location eastus \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --runtime \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"node\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --functions-version \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"3\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"\\\\\"), \"\\n    --storage-account apolloexampleYOURNAME\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h3\", {\n    \"id\": \"publishing\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#publishing\",\n    \"aria-label\": \"publishing permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Publishing\"), mdx(\"p\", null, \"After creating a function app, you can now publish your function to Azure using the Azure CLI.\"), mdx(\"p\", null, \"Use the command below, inserting your function app name, to publish your function:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"func azure functionapp publish apollo-example-YOURNAME\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"Your terminal will output something similar to the following:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"Getting site publishing info\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"..\"), \".\\nPreparing archive\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"..\"), \".\\nUploading \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"4.45\"), \" MB \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"###############################################################################]\"), \"\\nUpload completed successfully.\\nDeployment completed successfully.\\nSyncing triggers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"..\"), \".\\nFunctions \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"in\"), \" apollo-example:\\n    graphql - \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"httpTrigger\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n        Invoke url: https://apollo-example.azurewebsites.net/graphql?code\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \"4aB9bka0fXFyTVeO8jAiHTc8bmyoqx2mEabk/QDA6gu2xLcqEAJRiw\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"==\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"You can now navigate to the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Invoke url\"), \" shown in your terminal's output to see your function app up and running.\"), mdx(\"p\", null, \"After completing this tutorial, you can delete all of the Azure resources you created by running the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/cli/azure/group?view=azure-cli-latest\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"az group\")), \" command:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"shell\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-shell line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-shell\"\n  }, \"az group delete --name apollo-examples --yes\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h2\", {\n    \"id\": \"deploying-to-azure-with-vs-code\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#deploying-to-azure-with-vs-code\",\n    \"aria-label\": \"deploying to azure with vs code permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Deploying to Azure with VS Code\"), mdx(\"p\", null, \"You can also publish to Azure directly from VS Code using the Azure Functions Extension. Refer to the documentation on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-function-vs-code#publish-the-project-to-azure\"\n  }, \"publishing to Azure from VS Code\"), \" for more information.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport {\n  ExpansionPanel,\n} from 'gatsby-theme-apollo-docs/src/components/expansion-panel';\nexport const _frontmatter = {\n  \"title\": \"Deploying with Azure Functions\",\n  \"sidebar_title\": \"Azure Functions\",\n  \"description\": \"Deploying your GraphQL server to Azure Functions\"\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <p>{`This tutorial walks through setting up an example project using the `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/package/apollo-server-azure-functions\"\n      }}>{`Azure Functions integration`}</a>{` for Apollo Server.`}</p>\n    <p>{`We created this tutorial using a Linux environment. Some commands might differ if you use a Windows environment; `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=azure-cli\"\n      }}>{`please refer to the Azure documentation for more details`}</a>{`.`}</p>\n    <p>{`Note that `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`apollo-server-azure-functions`}</code>{` does not enable you to add arbitrary middleware to your web server (though you can manually wrap the handler returned by `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`createHandler`}</code>{` in your own handler).`}</p>\n    <h2 {...{\n      \"id\": \"prerequisites\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#prerequisites\",\n        \"aria-label\": \"prerequisites permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Prerequisites`}</h2>\n    <p>{`You must do following before proceeding:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Setup an `}<a parentName=\"li\" {...{\n          \"href\": \"https://azure.com\"\n        }}>{`Azure`}</a>{` account`}</li>\n      <li parentName=\"ul\">{`Install the `}<a parentName=\"li\" {...{\n          \"href\": \"https://docs.microsoft.com/en-us/azure/azure-functions/functions-run-local#v2\"\n        }}>{`Azure Functions Core Tools CLI version 3.x`}</a></li>\n      <li parentName=\"ul\">{`Install the `}<a parentName=\"li\" {...{\n          \"href\": \"https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest\"\n        }}>{`Azure CLI 2.x`}</a></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"setting-up-the-project\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#setting-up-the-project\",\n        \"aria-label\": \"setting up the project permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Setting up the project`}</h2>\n    <h3 {...{\n      \"id\": \"creating-a-new-function\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#creating-a-new-function\",\n        \"aria-label\": \"creating a new function permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Creating a new Function`}</h3>\n    <p>{`We'll begin by creating a new project to test things out locally before deploying to Azure:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`func init apollo-example --worker-runtime `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`node`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token builtin class-name\"\n          }}>{`cd`}</span>{` apollo-example\nfunc new --template `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"Http Trigger\"`}</span>{` --name graphql`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`Next, run the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`func host start`}</code>{` command. You should see something like the following output to your terminal:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`Azure Functions Core Tools\nCore Tools Version:       `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`3.0`}</span>{`.3477 Commit hash: 5fbb9a76fc00e4168f2cc90d6ff0afe5373afc6d  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`64`}</span>{`-bit`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{`\nFunction Runtime Version: `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`3.0`}</span>{`.15584.0\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span><span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`2021`}</span>{`-06-30T19:22:21.077Z`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{` Worker process started and initialized.\n\nFunctions:\n\n\tgraphql: `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`GET,POST`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{` http://localhost:7071/api/graphql\n\nFor detailed output, run func with --verbose flag.`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`If you navigate to `}<a parentName=\"p\" {...{\n        \"href\": \"http://localhost:7071/api/graphql?name=Apollo\"\n      }}>{`http://localhost:7071/api/graphql?name=Apollo`}</a>{` in your browser and will now see the text: 'Hello Apollo.'`}</p>\n    <ExpansionPanel title=\"Run into a problem?\" mdxType=\"ExpansionPanel\">\n      <p>{`If you see an error message mentioning \"Incompatible Node.js version\", you should double-check that the version of `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`node`}</code>{` on your `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`PATH`}</code>{` is a version `}<a parentName=\"p\" {...{\n          \"href\": \"https://docs.microsoft.com/en-us/azure/azure-functions/functions-versions?tabs=in-process%2Cv4&pivots=programming-language-javascript\"\n        }}>{`supported by Azure Functions`}</a>{`. If your node version is not supported, you can use a tool like `}<a parentName=\"p\" {...{\n          \"href\": \"https://github.com/nvm-sh/nvm\"\n        }}>{`nvm`}</a>{` to use a different node version.`}</p>\n    </ExpansionPanel>\n    <p>{`If you'd like to change the URL for this function (e.g., to something like `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`http://{my-url}/graphql`}</code>{`), you can change the URL prefix in the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`host.json`}</code>{` file:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"json\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-json line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-json\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"version\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"2.0\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"extensions\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"http\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"routePrefix\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"\"`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h3 {...{\n      \"id\": \"setting-up-apollo-server\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#setting-up-apollo-server\",\n        \"aria-label\": \"setting up apollo server permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Setting up Apollo Server`}</h3>\n    <p>{`We'll start by installing the dependencies for `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`apollo-server-azure-functions`}</code>{` and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`graphql`}</code>{`:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token builtin class-name\"\n          }}>{`cd`}</span>{` apollo-example\n`}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`npm`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`install`}</span>{` apollo-server-azure-functions graphql`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`To set up the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`apollo-server-azure-functions`}</code>{` library, replace the content of your `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`graphql/index.js`}</code>{` file with the following:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"javascript\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-javascript line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-javascript\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloServer`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` gql `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'apollo-server-azure-functions'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Schema definition.`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` typeDefs `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` gql`}<span parentName=\"code\" {...{\n            \"className\": \"token template-string\"\n          }}><span parentName=\"span\" {...{\n              \"className\": \"token template-punctuation string\"\n            }}>{`\\``}</span><span parentName=\"span\" {...{\n              \"className\": \"token string\"\n            }}>{`\n  type Query {\n    hello: String\n  }\n`}</span><span parentName=\"span\" {...{\n              \"className\": \"token template-punctuation string\"\n            }}>{`\\``}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Resolver map.`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` resolvers `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`Query`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token function-variable function\"\n          }}>{`hello`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'Hello world!'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`// Create our server.`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` server `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloServer`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` typeDefs`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` resolvers `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\nexports`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`graphqlHandler `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` server`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`createHandler`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <blockquote>\n      <p parentName=\"blockquote\">{`See the `}<a parentName=\"p\" {...{\n          \"href\": \"https://www.npmjs.com/package/apollo-server-azure-functions\"\n        }}>{`README`}</a>{` for `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`apollo-server-azure-functions`}</code>{` for more information about this package.`}</p>\n    </blockquote>\n    <p>{`Next, we need to make a couple of changes to our `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`graphql/function.json`}</code>{` file:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Change the output `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`name`}</code>{` to `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`$return`}</code></li>\n      <li parentName=\"ul\">{`Add `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`options`}</code>{` to the list of `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`methods`}</code>{` (to ensure CORS works)`}</li>\n    </ul>\n    <p>{`Your `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`graphql/function.json`}</code>{` file should now look like this:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"json\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-json line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-json\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"bindings\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"authLevel\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"function\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"type\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"httpTrigger\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"direction\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"in\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"req\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"route\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"{*segments}\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"methods\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"get\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"post\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"options\"`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"type\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"http\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"direction\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"out\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token property\"\n          }}>{`\"name\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"$return\"`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`Note the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`route`}</code>{` line above is only required if you'd like to use `}<a parentName=\"p\" {...{\n        \"href\": \"/monitoring/health-checks/\"\n      }}>{`health checks`}</a>{`.`}</p>\n    <p>{`Now return to the base folder and run the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`func host start`}</code>{` command again:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`func `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`host`}</span>{` start`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span></span></pre></div>\n    <p>{`Apollo Server should now be up and running! If you go back to your browser (to either `}<a parentName=\"p\" {...{\n        \"href\": \"http://localhost:7071/api/graphql?name=Apollo\"\n      }}>{`http://localhost:7071/api/graphql?name=Apollo`}</a>{` or your custom URL path) and refresh, you can now open up `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.apollographql.com/docs/apollo-server/testing/build-run-queries/#apollo-sandbox\"\n      }}>{`Apollo Sandbox`}</a>{` and run operations against your server.`}</p>\n    <h2 {...{\n      \"id\": \"deploying-with-the-azure-cli\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#deploying-with-the-azure-cli\",\n        \"aria-label\": \"deploying with the azure cli permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Deploying with the Azure CLI`}</h2>\n    <h3 {...{\n      \"id\": \"creating-azure-resources\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#creating-azure-resources\",\n        \"aria-label\": \"creating azure resources permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Creating Azure resources`}</h3>\n    <p>{`Before deploying, we first need to meet the requirements to set up a new `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview\"\n      }}>{`Azure Function`}</a>{`.`}</p>\n    <p>{`We'll start by creating a new `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/manage-resource-groups-portal\"\n      }}>{`Azure resource group`}</a>{` for this project. The below command will create a resource group with the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`--name`}</code>{` and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`--location`}</code>{` you specify. Make sure you replace the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`--location`}</code>{` with `}<a parentName=\"p\" {...{\n        \"href\": \"https://azure.microsoft.com/en-us/global-infrastructure/geographies/\"\n      }}>{`your Azure region`}</a>{`.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`az group create --name apollo-examples --location eastus`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span></span></pre></div>\n    <p>{`After creating a resource group, you will need to create a `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview\"\n      }}>{`storage account`}</a>{` to store your code on Azure. Make sure to choose a `}<strong parentName=\"p\">{`unique`}</strong>{` name for your project's storage account.`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`az storage account create `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --name apolloexampleYOURNAME `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --location eastus `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --resource-group apollo-examples `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --sku Standard_LRS`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`The last resource you'll need to create is a `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.microsoft.com/en-us/cli/azure/functionapp?view=azure-cli-latest#az-functionapp-create\"\n      }}>{`function app`}</a>{`. The below command will create a new function app using the specified resource group, location, and storage account.`}</p>\n    <p>{`Note your function app name must be `}<strong parentName=\"p\">{`unique`}</strong>{` for this command to run successfully:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`az functionapp create `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --resource-group apollo-examples `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --name apollo-example-YOURNAME `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --consumption-plan-location eastus `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --runtime `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`node`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --functions-version `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`3`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`\\\\`}</span>{`\n    --storage-account apolloexampleYOURNAME`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h3 {...{\n      \"id\": \"publishing\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#publishing\",\n        \"aria-label\": \"publishing permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Publishing`}</h3>\n    <p>{`After creating a function app, you can now publish your function to Azure using the Azure CLI.`}</p>\n    <p>{`Use the command below, inserting your function app name, to publish your function:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`func azure functionapp publish apollo-example-YOURNAME`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span></span></pre></div>\n    <p>{`Your terminal will output something similar to the following:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`Getting site publishing info`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`..`}</span>{`.\nPreparing archive`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`..`}</span>{`.\nUploading `}<span parentName=\"code\" {...{\n            \"className\": \"token number\"\n          }}>{`4.45`}</span>{` MB `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span><span parentName=\"code\" {...{\n            \"className\": \"token comment\"\n          }}>{`###############################################################################]`}</span>{`\nUpload completed successfully.\nDeployment completed successfully.\nSyncing triggers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`..`}</span>{`.\nFunctions `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`in`}</span>{` apollo-example:\n    graphql - `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`httpTrigger`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span>{`\n        Invoke url: https://apollo-example.azurewebsites.net/graphql?code`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{`4aB9bka0fXFyTVeO8jAiHTc8bmyoqx2mEabk/QDA6gu2xLcqEAJRiw`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`==`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`You can now navigate to the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Invoke url`}</code>{` shown in your terminal's output to see your function app up and running.`}</p>\n    <p>{`After completing this tutorial, you can delete all of the Azure resources you created by running the `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.microsoft.com/en-us/cli/azure/group?view=azure-cli-latest\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`az group`}</code></a>{` command:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"shell\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-shell line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-shell\"\n        }}>{`az group delete --name apollo-examples --yes`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span></span></pre></div>\n    <h2 {...{\n      \"id\": \"deploying-to-azure-with-vs-code\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#deploying-to-azure-with-vs-code\",\n        \"aria-label\": \"deploying to azure with vs code permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Deploying to Azure with VS Code`}</h2>\n    <p>{`You can also publish to Azure directly from VS Code using the Azure Functions Extension. Refer to the documentation on `}<a parentName=\"p\" {...{\n        \"href\": \"https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-first-function-vs-code#publish-the-project-to-azure\"\n      }}>{`publishing to Azure from VS Code`}</a>{` for more information.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}