{"expireTime":9007200901521022000,"key":"gatsby-plugin-mdx-entire-payload-fa97e6573ab67f16a57c0ba37162dc3e-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import {ExpansionPanel} from 'gatsby-theme-apollo-docs';","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":57,"offset":57},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Whenever Apollo Server encounters errors while processing a GraphQL operation, its response to the client includes an ","position":{"start":{"line":4,"column":1,"offset":59},"end":{"line":4,"column":119,"offset":177},"indent":[]}},{"type":"inlineCode","value":"errors","position":{"start":{"line":4,"column":119,"offset":177},"end":{"line":4,"column":127,"offset":185},"indent":[]}},{"type":"text","value":" array that contains each error that occurred. Each error in the array has an ","position":{"start":{"line":4,"column":127,"offset":185},"end":{"line":4,"column":205,"offset":263},"indent":[]}},{"type":"inlineCode","value":"extensions","position":{"start":{"line":4,"column":205,"offset":263},"end":{"line":4,"column":217,"offset":275},"indent":[]}},{"type":"text","value":" field that provides additional useful information, including an error ","position":{"start":{"line":4,"column":217,"offset":275},"end":{"line":4,"column":288,"offset":346},"indent":[]}},{"type":"inlineCode","value":"code","position":{"start":{"line":4,"column":288,"offset":346},"end":{"line":4,"column":294,"offset":352},"indent":[]}},{"type":"text","value":" and (while in development mode) an ","position":{"start":{"line":4,"column":294,"offset":352},"end":{"line":4,"column":330,"offset":388},"indent":[]}},{"type":"inlineCode","value":"exception.stacktrace","position":{"start":{"line":4,"column":330,"offset":388},"end":{"line":4,"column":352,"offset":410},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":4,"column":352,"offset":410},"end":{"line":4,"column":353,"offset":411},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":59},"end":{"line":4,"column":353,"offset":411},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Here's an example error response caused by misspelling the ","position":{"start":{"line":6,"column":1,"offset":413},"end":{"line":6,"column":60,"offset":472},"indent":[]}},{"type":"inlineCode","value":"__typename","position":{"start":{"line":6,"column":60,"offset":472},"end":{"line":6,"column":72,"offset":484},"indent":[]}},{"type":"text","value":" field in a query:","position":{"start":{"line":6,"column":72,"offset":484},"end":{"line":6,"column":90,"offset":502},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":413},"end":{"line":6,"column":90,"offset":502},"indent":[]}},{"type":"jsx","value":"<ExpansionPanel title=\"Click to expand\">","position":{"start":{"line":9,"column":1,"offset":505},"end":{"line":9,"column":41,"offset":545},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"errors\":[\n    {\n      \"message\":\"Cannot query field \\\"__typenam\\\" on type \\\"Query\\\".\",\n      \"locations\":[\n        {\n          \"line\":1,\n          \"column\":2\n        }\n      ],\n      \"extensions\":{\n        \"code\":\"GRAPHQL_VALIDATION_FAILED\",\n        \"exception\":{\n          \"stacktrace\":[\n            \"GraphQLError: Cannot query field \\\"__typenam\\\" on type \\\"Query\\\".\",\n            \"    at Object.Field (/my_project/node_modules/graphql/validation/rules/FieldsOnCorrectTypeRule.js:48:31)\",\n            \"    ...additional lines...\",\n          ]\n        }\n      }\n    }\n  ]\n}","position":{"start":{"line":11,"column":1,"offset":547},"end":{"line":35,"column":4,"offset":1137},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"</ExpansionPanel>","position":{"start":{"line":37,"column":1,"offset":1139},"end":{"line":37,"column":18,"offset":1156},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To help with debugging, Apollo Server defines error subclasses that represent different types of errors that can occur while handling a GraphQL operation (such as ","position":{"start":{"line":39,"column":1,"offset":1158},"end":{"line":39,"column":164,"offset":1321},"indent":[]}},{"type":"inlineCode","value":"SyntaxError","position":{"start":{"line":39,"column":164,"offset":1321},"end":{"line":39,"column":177,"offset":1334},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":39,"column":177,"offset":1334},"end":{"line":39,"column":182,"offset":1339},"indent":[]}},{"type":"inlineCode","value":"ValidationError","position":{"start":{"line":39,"column":182,"offset":1339},"end":{"line":39,"column":199,"offset":1356},"indent":[]}},{"type":"text","value":"). These subclasses each return a different ","position":{"start":{"line":39,"column":199,"offset":1356},"end":{"line":39,"column":243,"offset":1400},"indent":[]}},{"type":"link","title":null,"url":"#error-codes","children":[{"type":"text","value":"error code","position":{"start":{"line":39,"column":244,"offset":1401},"end":{"line":39,"column":254,"offset":1411},"indent":[]}}],"position":{"start":{"line":39,"column":243,"offset":1400},"end":{"line":39,"column":269,"offset":1426},"indent":[]}},{"type":"text","value":", which enables requesting clients to respond differently to different error types.","position":{"start":{"line":39,"column":269,"offset":1426},"end":{"line":39,"column":352,"offset":1509},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1158},"end":{"line":39,"column":352,"offset":1509},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"These built-in error subclasses inherit from the generic ","position":{"start":{"line":41,"column":1,"offset":1511},"end":{"line":41,"column":58,"offset":1568},"indent":[]}},{"type":"inlineCode","value":"ApolloError","position":{"start":{"line":41,"column":58,"offset":1568},"end":{"line":41,"column":71,"offset":1581},"indent":[]}},{"type":"text","value":" class, and they're all defined in ","position":{"start":{"line":41,"column":71,"offset":1581},"end":{"line":41,"column":106,"offset":1616},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-server-errors/src/index.ts","children":[{"type":"text","value":"the ","position":{"start":{"line":41,"column":107,"offset":1617},"end":{"line":41,"column":111,"offset":1621},"indent":[]}},{"type":"inlineCode","value":"apollo-server-errors","position":{"start":{"line":41,"column":111,"offset":1621},"end":{"line":41,"column":133,"offset":1643},"indent":[]}},{"type":"text","value":" package","position":{"start":{"line":41,"column":133,"offset":1643},"end":{"line":41,"column":141,"offset":1651},"indent":[]}}],"position":{"start":{"line":41,"column":106,"offset":1616},"end":{"line":41,"column":243,"offset":1753},"indent":[]}},{"type":"text","value":". You can also ","position":{"start":{"line":41,"column":243,"offset":1753},"end":{"line":41,"column":258,"offset":1768},"indent":[]}},{"type":"link","title":null,"url":"#custom-errors","children":[{"type":"text","value":"create your own custom errors and codes","position":{"start":{"line":41,"column":259,"offset":1769},"end":{"line":41,"column":298,"offset":1808},"indent":[]}}],"position":{"start":{"line":41,"column":258,"offset":1768},"end":{"line":41,"column":315,"offset":1825},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":41,"column":315,"offset":1825},"end":{"line":41,"column":316,"offset":1826},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1511},"end":{"line":41,"column":316,"offset":1826},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Error codes","position":{"start":{"line":43,"column":4,"offset":1831},"end":{"line":43,"column":15,"offset":1842},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1828},"end":{"line":43,"column":15,"offset":1842},"indent":[]}},{"type":"jsx","value":"<table class=\"field-table\">\n  <thead>\n    <tr>\n      <th>Code /<br/>Subclass</th>\n      <th>Description</th>\n    </tr>\n  </thead>","position":{"start":{"line":45,"column":1,"offset":1844},"end":{"line":51,"column":11,"offset":1973},"indent":[1,1,1,1,1,1]}},{"type":"jsx","value":"<tbody>","position":{"start":{"line":53,"column":1,"offset":1975},"end":{"line":53,"column":8,"offset":1982},"indent":[]}},{"type":"jsx","value":"<tr>\n<td>","position":{"start":{"line":55,"column":1,"offset":1984},"end":{"line":56,"column":5,"offset":1993},"indent":[1]}},{"type":"heading","depth":6,"children":[{"type":"inlineCode","value":"GRAPHQL_PARSE_FAILED","position":{"start":{"line":58,"column":8,"offset":2002},"end":{"line":58,"column":30,"offset":2024},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":1995},"end":{"line":58,"column":30,"offset":2024},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"SyntaxError","position":{"start":{"line":60,"column":1,"offset":2026},"end":{"line":60,"column":14,"offset":2039},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":2026},"end":{"line":60,"column":14,"offset":2039},"indent":[]}},{"type":"jsx","value":"</td>\n<td>","position":{"start":{"line":61,"column":1,"offset":2040},"end":{"line":62,"column":5,"offset":2050},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The GraphQL operation string contains a syntax error.","position":{"start":{"line":64,"column":1,"offset":2052},"end":{"line":64,"column":54,"offset":2105},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":2052},"end":{"line":64,"column":54,"offset":2105},"indent":[]}},{"type":"jsx","value":"</td>\n</tr>","position":{"start":{"line":65,"column":1,"offset":2106},"end":{"line":66,"column":6,"offset":2117},"indent":[1]}},{"type":"jsx","value":"<tr>\n<td>","position":{"start":{"line":68,"column":1,"offset":2119},"end":{"line":69,"column":5,"offset":2128},"indent":[1]}},{"type":"heading","depth":6,"children":[{"type":"inlineCode","value":"GRAPHQL_VALIDATION_FAILED","position":{"start":{"line":71,"column":8,"offset":2137},"end":{"line":71,"column":35,"offset":2164},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2130},"end":{"line":71,"column":35,"offset":2164},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"ValidationError","position":{"start":{"line":73,"column":1,"offset":2166},"end":{"line":73,"column":18,"offset":2183},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2166},"end":{"line":73,"column":18,"offset":2183},"indent":[]}},{"type":"jsx","value":"</td>\n<td>","position":{"start":{"line":74,"column":1,"offset":2184},"end":{"line":75,"column":5,"offset":2194},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The GraphQL operation is not valid against the server's schema.","position":{"start":{"line":77,"column":1,"offset":2196},"end":{"line":77,"column":64,"offset":2259},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":2196},"end":{"line":77,"column":64,"offset":2259},"indent":[]}},{"type":"jsx","value":"</td>\n</tr>","position":{"start":{"line":78,"column":1,"offset":2260},"end":{"line":79,"column":6,"offset":2271},"indent":[1]}},{"type":"jsx","value":"<tr>\n<td>","position":{"start":{"line":81,"column":1,"offset":2273},"end":{"line":82,"column":5,"offset":2282},"indent":[1]}},{"type":"heading","depth":6,"children":[{"type":"inlineCode","value":"BAD_USER_INPUT","position":{"start":{"line":84,"column":8,"offset":2291},"end":{"line":84,"column":24,"offset":2307},"indent":[]}}],"position":{"start":{"line":84,"column":1,"offset":2284},"end":{"line":84,"column":24,"offset":2307},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"UserInputError","position":{"start":{"line":86,"column":1,"offset":2309},"end":{"line":86,"column":17,"offset":2325},"indent":[]}}],"position":{"start":{"line":86,"column":1,"offset":2309},"end":{"line":86,"column":17,"offset":2325},"indent":[]}},{"type":"jsx","value":"</td>\n<td>","position":{"start":{"line":87,"column":1,"offset":2326},"end":{"line":88,"column":5,"offset":2336},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The GraphQL operation includes an invalid value for a field argument.","position":{"start":{"line":90,"column":1,"offset":2338},"end":{"line":90,"column":70,"offset":2407},"indent":[]}}],"position":{"start":{"line":90,"column":1,"offset":2338},"end":{"line":90,"column":70,"offset":2407},"indent":[]}},{"type":"jsx","value":"</td>\n</tr>","position":{"start":{"line":91,"column":1,"offset":2408},"end":{"line":92,"column":6,"offset":2419},"indent":[1]}},{"type":"jsx","value":"<tr>\n<td>","position":{"start":{"line":94,"column":1,"offset":2421},"end":{"line":95,"column":5,"offset":2430},"indent":[1]}},{"type":"heading","depth":6,"children":[{"type":"inlineCode","value":"UNAUTHENTICATED","position":{"start":{"line":97,"column":8,"offset":2439},"end":{"line":97,"column":25,"offset":2456},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":2432},"end":{"line":97,"column":25,"offset":2456},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"AuthenticationError","position":{"start":{"line":99,"column":1,"offset":2458},"end":{"line":99,"column":22,"offset":2479},"indent":[]}}],"position":{"start":{"line":99,"column":1,"offset":2458},"end":{"line":99,"column":22,"offset":2479},"indent":[]}},{"type":"jsx","value":"</td>\n<td>","position":{"start":{"line":100,"column":1,"offset":2480},"end":{"line":101,"column":5,"offset":2490},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The server failed to authenticate with a required data source, such as a REST API.","position":{"start":{"line":103,"column":1,"offset":2492},"end":{"line":103,"column":83,"offset":2574},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":2492},"end":{"line":103,"column":83,"offset":2574},"indent":[]}},{"type":"jsx","value":"</td>\n</tr>","position":{"start":{"line":104,"column":1,"offset":2575},"end":{"line":105,"column":6,"offset":2586},"indent":[1]}},{"type":"jsx","value":"<tr>\n<td>","position":{"start":{"line":107,"column":1,"offset":2588},"end":{"line":108,"column":5,"offset":2597},"indent":[1]}},{"type":"heading","depth":6,"children":[{"type":"inlineCode","value":"FORBIDDEN","position":{"start":{"line":110,"column":8,"offset":2606},"end":{"line":110,"column":19,"offset":2617},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":2599},"end":{"line":110,"column":19,"offset":2617},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"ForbiddenError","position":{"start":{"line":112,"column":1,"offset":2619},"end":{"line":112,"column":17,"offset":2635},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":2619},"end":{"line":112,"column":17,"offset":2635},"indent":[]}},{"type":"jsx","value":"</td>\n<td>","position":{"start":{"line":113,"column":1,"offset":2636},"end":{"line":114,"column":5,"offset":2646},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"The server was unauthorized to access a required data source, such as a REST API.","position":{"start":{"line":116,"column":1,"offset":2648},"end":{"line":116,"column":82,"offset":2729},"indent":[]}}],"position":{"start":{"line":116,"column":1,"offset":2648},"end":{"line":116,"column":82,"offset":2729},"indent":[]}},{"type":"jsx","value":"</td>\n</tr>","position":{"start":{"line":117,"column":1,"offset":2730},"end":{"line":118,"column":6,"offset":2741},"indent":[1]}},{"type":"jsx","value":"<tr>\n<td>","position":{"start":{"line":120,"column":1,"offset":2743},"end":{"line":121,"column":5,"offset":2752},"indent":[1]}},{"type":"heading","depth":6,"children":[{"type":"inlineCode","value":"PERSISTED_QUERY_NOT_FOUND","position":{"start":{"line":123,"column":8,"offset":2761},"end":{"line":123,"column":35,"offset":2788},"indent":[]}}],"position":{"start":{"line":123,"column":1,"offset":2754},"end":{"line":123,"column":35,"offset":2788},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"PersistedQueryNotFoundError","position":{"start":{"line":125,"column":1,"offset":2790},"end":{"line":125,"column":30,"offset":2819},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":2790},"end":{"line":125,"column":30,"offset":2819},"indent":[]}},{"type":"jsx","value":"</td>\n<td>","position":{"start":{"line":126,"column":1,"offset":2820},"end":{"line":127,"column":5,"offset":2830},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"A client sent the hash of a query string to execute via ","position":{"start":{"line":129,"column":1,"offset":2832},"end":{"line":129,"column":57,"offset":2888},"indent":[]}},{"type":"link","title":null,"url":"../performance/apq/","children":[{"type":"text","value":"automatic persisted queries","position":{"start":{"line":129,"column":58,"offset":2889},"end":{"line":129,"column":85,"offset":2916},"indent":[]}}],"position":{"start":{"line":129,"column":57,"offset":2888},"end":{"line":129,"column":107,"offset":2938},"indent":[]}},{"type":"text","value":", but the query was not in the APQ cache.","position":{"start":{"line":129,"column":107,"offset":2938},"end":{"line":129,"column":148,"offset":2979},"indent":[]}}],"position":{"start":{"line":129,"column":1,"offset":2832},"end":{"line":129,"column":148,"offset":2979},"indent":[]}},{"type":"jsx","value":"</td>\n</tr>","position":{"start":{"line":130,"column":1,"offset":2980},"end":{"line":131,"column":6,"offset":2991},"indent":[1]}},{"type":"jsx","value":"<tr>\n<td>","position":{"start":{"line":133,"column":1,"offset":2993},"end":{"line":134,"column":5,"offset":3002},"indent":[1]}},{"type":"heading","depth":6,"children":[{"type":"inlineCode","value":"PERSISTED_QUERY_NOT_SUPPORTED","position":{"start":{"line":136,"column":8,"offset":3011},"end":{"line":136,"column":39,"offset":3042},"indent":[]}}],"position":{"start":{"line":136,"column":1,"offset":3004},"end":{"line":136,"column":39,"offset":3042},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"PersistedQueryNotSupportedError","position":{"start":{"line":138,"column":1,"offset":3044},"end":{"line":138,"column":34,"offset":3077},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":3044},"end":{"line":138,"column":34,"offset":3077},"indent":[]}},{"type":"jsx","value":"</td>\n<td>","position":{"start":{"line":139,"column":1,"offset":3078},"end":{"line":140,"column":5,"offset":3088},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"A client sent the hash of a query string to execute via ","position":{"start":{"line":142,"column":1,"offset":3090},"end":{"line":142,"column":57,"offset":3146},"indent":[]}},{"type":"link","title":null,"url":"../performance/apq/","children":[{"type":"text","value":"automatic persisted queries","position":{"start":{"line":142,"column":58,"offset":3147},"end":{"line":142,"column":85,"offset":3174},"indent":[]}}],"position":{"start":{"line":142,"column":57,"offset":3146},"end":{"line":142,"column":107,"offset":3196},"indent":[]}},{"type":"text","value":", but the server has disabled APQ.","position":{"start":{"line":142,"column":107,"offset":3196},"end":{"line":142,"column":141,"offset":3230},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":3090},"end":{"line":142,"column":141,"offset":3230},"indent":[]}},{"type":"jsx","value":"</td>\n</tr>","position":{"start":{"line":143,"column":1,"offset":3231},"end":{"line":144,"column":6,"offset":3242},"indent":[1]}},{"type":"jsx","value":"<tr>\n<td>","position":{"start":{"line":146,"column":1,"offset":3244},"end":{"line":147,"column":5,"offset":3253},"indent":[1]}},{"type":"heading","depth":6,"children":[{"type":"inlineCode","value":"INTERNAL_SERVER_ERROR","position":{"start":{"line":149,"column":8,"offset":3262},"end":{"line":149,"column":31,"offset":3285},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":3255},"end":{"line":149,"column":31,"offset":3285},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"None","position":{"start":{"line":151,"column":1,"offset":3287},"end":{"line":151,"column":5,"offset":3291},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":3287},"end":{"line":151,"column":5,"offset":3291},"indent":[]}},{"type":"jsx","value":"</td>\n<td>","position":{"start":{"line":152,"column":1,"offset":3292},"end":{"line":153,"column":5,"offset":3302},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"An unspecified error occurred.","position":{"start":{"line":155,"column":1,"offset":3304},"end":{"line":155,"column":31,"offset":3334},"indent":[]}}],"position":{"start":{"line":155,"column":1,"offset":3304},"end":{"line":155,"column":31,"offset":3334},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This is the default error code returned by any ","position":{"start":{"line":157,"column":1,"offset":3336},"end":{"line":157,"column":48,"offset":3383},"indent":[]}},{"type":"inlineCode","value":"ApolloError","position":{"start":{"line":157,"column":48,"offset":3383},"end":{"line":157,"column":61,"offset":3396},"indent":[]}},{"type":"text","value":" instance that doesn't specify a different code.","position":{"start":{"line":157,"column":61,"offset":3396},"end":{"line":157,"column":109,"offset":3444},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":3336},"end":{"line":157,"column":109,"offset":3444},"indent":[]}},{"type":"jsx","value":"</td>\n</tr>","position":{"start":{"line":158,"column":1,"offset":3445},"end":{"line":159,"column":6,"offset":3456},"indent":[1]}},{"type":"jsx","value":"</tbody>\n</table>","position":{"start":{"line":161,"column":1,"offset":3458},"end":{"line":162,"column":9,"offset":3475},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Throwing errors","position":{"start":{"line":165,"column":4,"offset":3481},"end":{"line":165,"column":19,"offset":3496},"indent":[]}}],"position":{"start":{"line":165,"column":1,"offset":3478},"end":{"line":165,"column":19,"offset":3496},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Apollo Server throws errors of most built-in types automatically when applicable. For example, it throws a ","position":{"start":{"line":167,"column":1,"offset":3498},"end":{"line":167,"column":108,"offset":3605},"indent":[]}},{"type":"inlineCode","value":"ValidationError","position":{"start":{"line":167,"column":108,"offset":3605},"end":{"line":167,"column":125,"offset":3622},"indent":[]}},{"type":"text","value":" whenever an incoming operation isn't valid against the server's schema.","position":{"start":{"line":167,"column":125,"offset":3622},"end":{"line":167,"column":197,"offset":3694},"indent":[]}}],"position":{"start":{"line":167,"column":1,"offset":3498},"end":{"line":167,"column":197,"offset":3694},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Your resolvers can also throw errors in situations where Apollo Server doesn't do so automatically.","position":{"start":{"line":169,"column":1,"offset":3696},"end":{"line":169,"column":100,"offset":3795},"indent":[]}}],"position":{"start":{"line":169,"column":1,"offset":3696},"end":{"line":169,"column":100,"offset":3795},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"For example, this resolver throws a ","position":{"start":{"line":171,"column":1,"offset":3797},"end":{"line":171,"column":37,"offset":3833},"indent":[]}},{"type":"link","title":null,"url":"#bad_user_input","children":[{"type":"inlineCode","value":"UserInputError","position":{"start":{"line":171,"column":38,"offset":3834},"end":{"line":171,"column":54,"offset":3850},"indent":[]}}],"position":{"start":{"line":171,"column":37,"offset":3833},"end":{"line":171,"column":72,"offset":3868},"indent":[]}},{"type":"text","value":" if the integer value provided for a user's ID is less than ","position":{"start":{"line":171,"column":72,"offset":3868},"end":{"line":171,"column":132,"offset":3928},"indent":[]}},{"type":"inlineCode","value":"1","position":{"start":{"line":171,"column":132,"offset":3928},"end":{"line":171,"column":135,"offset":3931},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":171,"column":135,"offset":3931},"end":{"line":171,"column":136,"offset":3932},"indent":[]}}],"position":{"start":{"line":171,"column":1,"offset":3797},"end":{"line":171,"column":136,"offset":3932},"indent":[]}},{"type":"jsx","value":"<ExpansionPanel title=\"Click to expand\">","position":{"start":{"line":173,"column":1,"offset":3934},"end":{"line":173,"column":41,"offset":3974},"indent":[]}},{"type":"code","lang":"js{20-25}","meta":null,"value":"const {\n  ApolloServer,\n  gql,\n  UserInputError\n} = require('apollo-server');\n\nconst typeDefs = gql`\n  type Query {\n    userWithID(id: ID!): User\n  }\n\n  type User {\n    id: ID!\n    name: String!\n  }\n`;\n\nconst resolvers = {\n  Query: {\n    userWithID: (parent, args, context) => {\n      if (args.id < 1) {\n        throw new UserInputError('Invalid argument value');\n      }\n      // ...fetch correct user...\n    },\n  },\n};","position":{"start":{"line":175,"column":1,"offset":3976},"end":{"line":203,"column":4,"offset":4413},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"</ExpansionPanel>","position":{"start":{"line":205,"column":1,"offset":4415},"end":{"line":205,"column":18,"offset":4432},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If a resolver throws an error that is ","position":{"start":{"line":207,"column":1,"offset":4434},"end":{"line":207,"column":39,"offset":4472},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"not","position":{"start":{"line":207,"column":40,"offset":4473},"end":{"line":207,"column":43,"offset":4476},"indent":[]}}],"position":{"start":{"line":207,"column":39,"offset":4472},"end":{"line":207,"column":44,"offset":4477},"indent":[]}},{"type":"text","value":" an ","position":{"start":{"line":207,"column":44,"offset":4477},"end":{"line":207,"column":48,"offset":4481},"indent":[]}},{"type":"inlineCode","value":"ApolloError","position":{"start":{"line":207,"column":48,"offset":4481},"end":{"line":207,"column":61,"offset":4494},"indent":[]}},{"type":"text","value":" instance, that error is converted to a generic ","position":{"start":{"line":207,"column":61,"offset":4494},"end":{"line":207,"column":109,"offset":4542},"indent":[]}},{"type":"inlineCode","value":"ApolloError","position":{"start":{"line":207,"column":109,"offset":4542},"end":{"line":207,"column":122,"offset":4555},"indent":[]}},{"type":"text","value":" with an ","position":{"start":{"line":207,"column":122,"offset":4555},"end":{"line":207,"column":131,"offset":4564},"indent":[]}},{"type":"inlineCode","value":"extensions","position":{"start":{"line":207,"column":131,"offset":4564},"end":{"line":207,"column":143,"offset":4576},"indent":[]}},{"type":"text","value":" field that includes a ","position":{"start":{"line":207,"column":143,"offset":4576},"end":{"line":207,"column":166,"offset":4599},"indent":[]}},{"type":"inlineCode","value":"stacktrace","position":{"start":{"line":207,"column":166,"offset":4599},"end":{"line":207,"column":178,"offset":4611},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":207,"column":178,"offset":4611},"end":{"line":207,"column":183,"offset":4616},"indent":[]}},{"type":"inlineCode","value":"code","position":{"start":{"line":207,"column":183,"offset":4616},"end":{"line":207,"column":189,"offset":4622},"indent":[]}},{"type":"text","value":" (specifically ","position":{"start":{"line":207,"column":189,"offset":4622},"end":{"line":207,"column":204,"offset":4637},"indent":[]}},{"type":"link","title":null,"url":"#internal_server_error","children":[{"type":"inlineCode","value":"INTERNAL_SERVER_ERROR","position":{"start":{"line":207,"column":205,"offset":4638},"end":{"line":207,"column":228,"offset":4661},"indent":[]}}],"position":{"start":{"line":207,"column":204,"offset":4637},"end":{"line":207,"column":253,"offset":4686},"indent":[]}},{"type":"text","value":"), along with other relevant error details.","position":{"start":{"line":207,"column":253,"offset":4686},"end":{"line":207,"column":296,"offset":4729},"indent":[]}}],"position":{"start":{"line":207,"column":1,"offset":4434},"end":{"line":207,"column":296,"offset":4729},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Including custom error details","position":{"start":{"line":209,"column":5,"offset":4735},"end":{"line":209,"column":35,"offset":4765},"indent":[]}}],"position":{"start":{"line":209,"column":1,"offset":4731},"end":{"line":209,"column":35,"offset":4765},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Whenever you throw an ","position":{"start":{"line":211,"column":1,"offset":4767},"end":{"line":211,"column":23,"offset":4789},"indent":[]}},{"type":"inlineCode","value":"ApolloError","position":{"start":{"line":211,"column":23,"offset":4789},"end":{"line":211,"column":36,"offset":4802},"indent":[]}},{"type":"text","value":", you can add arbitrary fields to the error's ","position":{"start":{"line":211,"column":36,"offset":4802},"end":{"line":211,"column":82,"offset":4848},"indent":[]}},{"type":"inlineCode","value":"extensions","position":{"start":{"line":211,"column":82,"offset":4848},"end":{"line":211,"column":94,"offset":4860},"indent":[]}},{"type":"text","value":" object to provide additional context to the client. You specify these fields in an object you provide to the error's constructor.","position":{"start":{"line":211,"column":94,"offset":4860},"end":{"line":211,"column":224,"offset":4990},"indent":[]}}],"position":{"start":{"line":211,"column":1,"offset":4767},"end":{"line":211,"column":224,"offset":4990},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This example builds on the one above by adding the name of the GraphQL argument that was invalid:","position":{"start":{"line":213,"column":1,"offset":4992},"end":{"line":213,"column":98,"offset":5089},"indent":[]}}],"position":{"start":{"line":213,"column":1,"offset":4992},"end":{"line":213,"column":98,"offset":5089},"indent":[]}},{"type":"jsx","value":"<ExpansionPanel title=\"Click to expand\">","position":{"start":{"line":215,"column":1,"offset":5091},"end":{"line":215,"column":41,"offset":5131},"indent":[]}},{"type":"code","lang":"js{22-24}","meta":null,"value":"const {\n  ApolloServer,\n  gql,\n  UserInputError\n} = require('apollo-server');\n\nconst typeDefs = gql`\n  type Query {\n    userWithID(id: ID!): User\n  }\n\n  type User {\n    id: ID!\n    name: String!\n  }\n`;\n\nconst resolvers = {\n  Query: {\n    userWithID: (parent, args, context) => {\n      if (args.id < 1) {\n        throw new UserInputError('Invalid argument value', {\n          argumentName: 'id'\n        });\n      }\n      // ...fetch correct user...\n    },\n  },\n};","position":{"start":{"line":217,"column":1,"offset":5133},"end":{"line":247,"column":4,"offset":5612},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"</ExpansionPanel>","position":{"start":{"line":249,"column":1,"offset":5614},"end":{"line":249,"column":18,"offset":5631},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This results in a response like the following:","position":{"start":{"line":251,"column":1,"offset":5633},"end":{"line":251,"column":47,"offset":5679},"indent":[]}}],"position":{"start":{"line":251,"column":1,"offset":5633},"end":{"line":251,"column":47,"offset":5679},"indent":[]}},{"type":"jsx","value":"<ExpansionPanel title=\"Click to expand\">","position":{"start":{"line":253,"column":1,"offset":5681},"end":{"line":253,"column":41,"offset":5721},"indent":[]}},{"type":"code","lang":"json{15}","meta":null,"value":"{\n  \"errors\": [\n    {\n      \"message\": \"Invalid argument value\",\n      \"locations\": [\n        {\n          \"line\": 2,\n          \"column\": 3\n        }\n      ],\n      \"path\": [\n        \"userWithID\"\n      ],\n      \"extensions\": {\n        \"argumentName\": \"id\",\n        \"code\": \"BAD_USER_INPUT\",\n        \"exception\": {\n          \"argumentName\": \"id\",\n          \"stacktrace\": [\n            \"UserInputError: Invalid argument value\",\n            \"    at userWithID (/my-project/index.js:25:13)\",\n            \"    ...more lines...\",\n          ]\n        }\n      }\n    }\n  ]\n}","position":{"start":{"line":255,"column":1,"offset":5723},"end":{"line":284,"column":4,"offset":6303},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"jsx","value":"</ExpansionPanel>","position":{"start":{"line":286,"column":1,"offset":6305},"end":{"line":286,"column":18,"offset":6322},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Custom errors","position":{"start":{"line":288,"column":4,"offset":6327},"end":{"line":288,"column":17,"offset":6340},"indent":[]}}],"position":{"start":{"line":288,"column":1,"offset":6324},"end":{"line":288,"column":17,"offset":6340},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can create a custom error by defining your own subclass of ","position":{"start":{"line":290,"column":1,"offset":6342},"end":{"line":290,"column":64,"offset":6405},"indent":[]}},{"type":"inlineCode","value":"ApolloError","position":{"start":{"line":290,"column":64,"offset":6405},"end":{"line":290,"column":77,"offset":6418},"indent":[]}},{"type":"text","value":", or by initializing an ","position":{"start":{"line":290,"column":77,"offset":6418},"end":{"line":290,"column":101,"offset":6442},"indent":[]}},{"type":"inlineCode","value":"ApolloError","position":{"start":{"line":290,"column":101,"offset":6442},"end":{"line":290,"column":114,"offset":6455},"indent":[]}},{"type":"text","value":" object directly:","position":{"start":{"line":290,"column":114,"offset":6455},"end":{"line":290,"column":131,"offset":6472},"indent":[]}}],"position":{"start":{"line":290,"column":1,"offset":6342},"end":{"line":290,"column":131,"offset":6472},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Subclass with custom error code","position":{"start":{"line":292,"column":6,"offset":6479},"end":{"line":292,"column":37,"offset":6510},"indent":[]}}],"position":{"start":{"line":292,"column":1,"offset":6474},"end":{"line":292,"column":37,"offset":6510},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"import { ApolloError } from 'apollo-server-errors';\n\nexport class MyError extends ApolloError {\n  constructor(message: string) {\n    super(message, 'MY_ERROR_CODE');\n\n    Object.defineProperty(this, 'name', { value: 'MyError' });\n  }\n}\n\nthrow new MyError('My error message')","position":{"start":{"line":294,"column":1,"offset":6512},"end":{"line":306,"column":4,"offset":6796},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Direct initialization","position":{"start":{"line":308,"column":6,"offset":6803},"end":{"line":308,"column":27,"offset":6824},"indent":[]}}],"position":{"start":{"line":308,"column":1,"offset":6798},"end":{"line":308,"column":27,"offset":6824},"indent":[]}},{"type":"code","lang":"ts","meta":null,"value":"import { ApolloError } from 'apollo-server-errors';\n\nthrow new ApolloError('My error message', 'MY_ERROR_CODE', myCustomDetailsObject);","position":{"start":{"line":310,"column":1,"offset":6826},"end":{"line":314,"column":4,"offset":6971},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Omitting or including ","position":{"start":{"line":316,"column":4,"offset":6976},"end":{"line":316,"column":26,"offset":6998},"indent":[]}},{"type":"inlineCode","value":"stacktrace","position":{"start":{"line":316,"column":26,"offset":6998},"end":{"line":316,"column":38,"offset":7010},"indent":[]}}],"position":{"start":{"line":316,"column":1,"offset":6973},"end":{"line":316,"column":38,"offset":7010},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":318,"column":1,"offset":7012},"end":{"line":318,"column":5,"offset":7016},"indent":[]}},{"type":"inlineCode","value":"exception.stacktrace","position":{"start":{"line":318,"column":5,"offset":7016},"end":{"line":318,"column":27,"offset":7038},"indent":[]}},{"type":"text","value":" error field is useful while developing and debugging your server, but you probably don't want to expose it to clients in production.","position":{"start":{"line":318,"column":27,"offset":7038},"end":{"line":318,"column":160,"offset":7171},"indent":[]}}],"position":{"start":{"line":318,"column":1,"offset":7012},"end":{"line":318,"column":160,"offset":7171},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"By default, Apollo Server ","position":{"start":{"line":320,"column":1,"offset":7173},"end":{"line":320,"column":27,"offset":7199},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"omits","position":{"start":{"line":320,"column":28,"offset":7200},"end":{"line":320,"column":33,"offset":7205},"indent":[]}}],"position":{"start":{"line":320,"column":27,"offset":7199},"end":{"line":320,"column":34,"offset":7206},"indent":[]}},{"type":"text","value":" the ","position":{"start":{"line":320,"column":34,"offset":7206},"end":{"line":320,"column":39,"offset":7211},"indent":[]}},{"type":"inlineCode","value":"exception.stacktrace","position":{"start":{"line":320,"column":39,"offset":7211},"end":{"line":320,"column":61,"offset":7233},"indent":[]}},{"type":"text","value":" field if the ","position":{"start":{"line":320,"column":61,"offset":7233},"end":{"line":320,"column":75,"offset":7247},"indent":[]}},{"type":"inlineCode","value":"NODE_ENV","position":{"start":{"line":320,"column":75,"offset":7247},"end":{"line":320,"column":85,"offset":7257},"indent":[]}},{"type":"text","value":" environment variable is set to either ","position":{"start":{"line":320,"column":85,"offset":7257},"end":{"line":320,"column":124,"offset":7296},"indent":[]}},{"type":"inlineCode","value":"production","position":{"start":{"line":320,"column":124,"offset":7296},"end":{"line":320,"column":136,"offset":7308},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":320,"column":136,"offset":7308},"end":{"line":320,"column":140,"offset":7312},"indent":[]}},{"type":"inlineCode","value":"test","position":{"start":{"line":320,"column":140,"offset":7312},"end":{"line":320,"column":146,"offset":7318},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":320,"column":146,"offset":7318},"end":{"line":320,"column":147,"offset":7319},"indent":[]}}],"position":{"start":{"line":320,"column":1,"offset":7173},"end":{"line":320,"column":147,"offset":7319},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can override this default behavior by passing the ","position":{"start":{"line":322,"column":1,"offset":7321},"end":{"line":322,"column":55,"offset":7375},"indent":[]}},{"type":"inlineCode","value":"debug","position":{"start":{"line":322,"column":55,"offset":7375},"end":{"line":322,"column":62,"offset":7382},"indent":[]}},{"type":"text","value":" option to ","position":{"start":{"line":322,"column":62,"offset":7382},"end":{"line":322,"column":73,"offset":7393},"indent":[]}},{"type":"link","title":null,"url":"../api/apollo-server/#constructor","children":[{"type":"text","value":"the constructor of ","position":{"start":{"line":322,"column":74,"offset":7394},"end":{"line":322,"column":93,"offset":7413},"indent":[]}},{"type":"inlineCode","value":"ApolloServer","position":{"start":{"line":322,"column":93,"offset":7413},"end":{"line":322,"column":107,"offset":7427},"indent":[]}}],"position":{"start":{"line":322,"column":73,"offset":7393},"end":{"line":322,"column":143,"offset":7463},"indent":[]}},{"type":"text","value":". If ","position":{"start":{"line":322,"column":143,"offset":7463},"end":{"line":322,"column":148,"offset":7468},"indent":[]}},{"type":"inlineCode","value":"debug","position":{"start":{"line":322,"column":148,"offset":7468},"end":{"line":322,"column":155,"offset":7475},"indent":[]}},{"type":"text","value":" is ","position":{"start":{"line":322,"column":155,"offset":7475},"end":{"line":322,"column":159,"offset":7479},"indent":[]}},{"type":"inlineCode","value":"true","position":{"start":{"line":322,"column":159,"offset":7479},"end":{"line":322,"column":165,"offset":7485},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":322,"column":165,"offset":7485},"end":{"line":322,"column":167,"offset":7487},"indent":[]}},{"type":"inlineCode","value":"exception.stacktrace","position":{"start":{"line":322,"column":167,"offset":7487},"end":{"line":322,"column":189,"offset":7509},"indent":[]}},{"type":"text","value":" is always included. If it's ","position":{"start":{"line":322,"column":189,"offset":7509},"end":{"line":322,"column":218,"offset":7538},"indent":[]}},{"type":"inlineCode","value":"false","position":{"start":{"line":322,"column":218,"offset":7538},"end":{"line":322,"column":225,"offset":7545},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":322,"column":225,"offset":7545},"end":{"line":322,"column":227,"offset":7547},"indent":[]}},{"type":"inlineCode","value":"exception.stacktrace","position":{"start":{"line":322,"column":227,"offset":7547},"end":{"line":322,"column":249,"offset":7569},"indent":[]}},{"type":"text","value":" is always omitted.","position":{"start":{"line":322,"column":249,"offset":7569},"end":{"line":322,"column":268,"offset":7588},"indent":[]}}],"position":{"start":{"line":322,"column":1,"offset":7321},"end":{"line":322,"column":268,"offset":7588},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that when ","position":{"start":{"line":324,"column":1,"offset":7590},"end":{"line":324,"column":16,"offset":7605},"indent":[]}},{"type":"inlineCode","value":"exception.stacktrace","position":{"start":{"line":324,"column":16,"offset":7605},"end":{"line":324,"column":38,"offset":7627},"indent":[]}},{"type":"text","value":" is omitted, it's also unavailable to your application. To log error ","position":{"start":{"line":324,"column":38,"offset":7627},"end":{"line":324,"column":107,"offset":7696},"indent":[]}},{"type":"inlineCode","value":"stacktrace","position":{"start":{"line":324,"column":107,"offset":7696},"end":{"line":324,"column":119,"offset":7708},"indent":[]}},{"type":"text","value":"s without including them in responses to clients, see ","position":{"start":{"line":324,"column":119,"offset":7708},"end":{"line":324,"column":173,"offset":7762},"indent":[]}},{"type":"link","title":null,"url":"#masking-and-logging-errors","children":[{"type":"text","value":"Masking and logging errors","position":{"start":{"line":324,"column":174,"offset":7763},"end":{"line":324,"column":200,"offset":7789},"indent":[]}}],"position":{"start":{"line":324,"column":173,"offset":7762},"end":{"line":324,"column":230,"offset":7819},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":324,"column":230,"offset":7819},"end":{"line":324,"column":231,"offset":7820},"indent":[]}}],"position":{"start":{"line":324,"column":1,"offset":7590},"end":{"line":324,"column":231,"offset":7820},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Masking and logging errors","position":{"start":{"line":326,"column":4,"offset":7825},"end":{"line":326,"column":30,"offset":7851},"indent":[]}}],"position":{"start":{"line":326,"column":1,"offset":7822},"end":{"line":326,"column":30,"offset":7851},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can edit Apollo Server error details before they're passed to a client or reported to Apollo Studio. This enables you to omit sensitive or irrelevant data.","position":{"start":{"line":328,"column":1,"offset":7853},"end":{"line":328,"column":160,"offset":8012},"indent":[]}}],"position":{"start":{"line":328,"column":1,"offset":7853},"end":{"line":328,"column":160,"offset":8012},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"For client responses","position":{"start":{"line":330,"column":5,"offset":8018},"end":{"line":330,"column":25,"offset":8038},"indent":[]}}],"position":{"start":{"line":330,"column":1,"offset":8014},"end":{"line":330,"column":25,"offset":8038},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":332,"column":1,"offset":8040},"end":{"line":332,"column":5,"offset":8044},"indent":[]}},{"type":"inlineCode","value":"ApolloServer","position":{"start":{"line":332,"column":5,"offset":8044},"end":{"line":332,"column":19,"offset":8058},"indent":[]}},{"type":"text","value":" constructor accepts a ","position":{"start":{"line":332,"column":19,"offset":8058},"end":{"line":332,"column":42,"offset":8081},"indent":[]}},{"type":"inlineCode","value":"formatError","position":{"start":{"line":332,"column":42,"offset":8081},"end":{"line":332,"column":55,"offset":8094},"indent":[]}},{"type":"text","value":" function that is run on each error before it's passed back to the client. You can use this function to mask particular errors, as well as for logging.","position":{"start":{"line":332,"column":55,"offset":8094},"end":{"line":332,"column":206,"offset":8245},"indent":[]}}],"position":{"start":{"line":332,"column":1,"offset":8040},"end":{"line":332,"column":206,"offset":8245},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":334,"column":3,"offset":8249},"end":{"line":334,"column":7,"offset":8253},"indent":[]}},{"type":"inlineCode","value":"formatError","position":{"start":{"line":334,"column":7,"offset":8253},"end":{"line":334,"column":20,"offset":8266},"indent":[]}},{"type":"text","value":" function does ","position":{"start":{"line":334,"column":20,"offset":8266},"end":{"line":334,"column":35,"offset":8281},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"not","position":{"start":{"line":334,"column":36,"offset":8282},"end":{"line":334,"column":39,"offset":8285},"indent":[]}}],"position":{"start":{"line":334,"column":35,"offset":8281},"end":{"line":334,"column":40,"offset":8286},"indent":[]}},{"type":"text","value":" modify errors that are sent to Apollo Studio as part of metrics reporting. See ","position":{"start":{"line":334,"column":40,"offset":8286},"end":{"line":334,"column":120,"offset":8366},"indent":[]}},{"type":"link","title":null,"url":"#for-apollo-studio-reporting","children":[{"type":"text","value":"For Apollo Studio reporting","position":{"start":{"line":334,"column":121,"offset":8367},"end":{"line":334,"column":148,"offset":8394},"indent":[]}}],"position":{"start":{"line":334,"column":120,"offset":8366},"end":{"line":334,"column":179,"offset":8425},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":334,"column":179,"offset":8425},"end":{"line":334,"column":180,"offset":8426},"indent":[]}}],"position":{"start":{"line":334,"column":3,"offset":8249},"end":{"line":334,"column":180,"offset":8426},"indent":[]}}],"position":{"start":{"line":334,"column":1,"offset":8247},"end":{"line":334,"column":180,"offset":8426},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This example returns a more generic error whenever the original error's message begins with ","position":{"start":{"line":336,"column":1,"offset":8428},"end":{"line":336,"column":93,"offset":8520},"indent":[]}},{"type":"inlineCode","value":"Database Error: ","position":{"start":{"line":336,"column":93,"offset":8520},"end":{"line":336,"column":111,"offset":8538},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":336,"column":111,"offset":8538},"end":{"line":336,"column":112,"offset":8539},"indent":[]}}],"position":{"start":{"line":336,"column":1,"offset":8428},"end":{"line":336,"column":112,"offset":8539},"indent":[]}},{"type":"code","lang":"js{4-12}","meta":null,"value":"const server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  formatError: (err) => {\n    // Don't give the specific errors to the client.\n    if (err.message.startsWith('Database Error: ')) {\n      return new Error('Internal server error');\n    }\n\n    // Otherwise return the original error. The error can also\n    // be manipulated in other ways, as long as it's returned.\n    return err;\n  },\n});\n\nserver.listen().then(({ url }) => {\n  console.log(`🚀 Server ready at ${url}`);\n});","position":{"start":{"line":338,"column":1,"offset":8541},"end":{"line":357,"column":4,"offset":9040},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The error instance received by ","position":{"start":{"line":359,"column":1,"offset":9042},"end":{"line":359,"column":32,"offset":9073},"indent":[]}},{"type":"inlineCode","value":"formatError","position":{"start":{"line":359,"column":32,"offset":9073},"end":{"line":359,"column":45,"offset":9086},"indent":[]}},{"type":"text","value":" (a ","position":{"start":{"line":359,"column":45,"offset":9086},"end":{"line":359,"column":49,"offset":9090},"indent":[]}},{"type":"inlineCode","value":"GraphQLError","position":{"start":{"line":359,"column":49,"offset":9090},"end":{"line":359,"column":63,"offset":9104},"indent":[]}},{"type":"text","value":") contains an ","position":{"start":{"line":359,"column":63,"offset":9104},"end":{"line":359,"column":77,"offset":9118},"indent":[]}},{"type":"inlineCode","value":"originalError","position":{"start":{"line":359,"column":77,"offset":9118},"end":{"line":359,"column":92,"offset":9133},"indent":[]}},{"type":"text","value":" property, which represents the original error thrown in the resolver. You can use this property to obtain the ","position":{"start":{"line":359,"column":92,"offset":9133},"end":{"line":359,"column":203,"offset":9244},"indent":[]}},{"type":"inlineCode","value":"instanceof","position":{"start":{"line":359,"column":203,"offset":9244},"end":{"line":359,"column":215,"offset":9256},"indent":[]}},{"type":"text","value":" the error class, such as ","position":{"start":{"line":359,"column":215,"offset":9256},"end":{"line":359,"column":241,"offset":9282},"indent":[]}},{"type":"inlineCode","value":"AuthenticationError","position":{"start":{"line":359,"column":241,"offset":9282},"end":{"line":359,"column":262,"offset":9303},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":359,"column":262,"offset":9303},"end":{"line":359,"column":266,"offset":9307},"indent":[]}},{"type":"inlineCode","value":"ValidationError","position":{"start":{"line":359,"column":266,"offset":9307},"end":{"line":359,"column":283,"offset":9324},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":359,"column":283,"offset":9324},"end":{"line":359,"column":284,"offset":9325},"indent":[]}}],"position":{"start":{"line":359,"column":1,"offset":9042},"end":{"line":359,"column":284,"offset":9325},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"  formatError(err) {\n    if (err.originalError instanceof AuthenticationError) {\n      return new Error('Different authentication error message!');\n    }\n  },","position":{"start":{"line":361,"column":1,"offset":9327},"end":{"line":367,"column":4,"offset":9495},"indent":[1,1,1,1,1,1]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"To make context-specific adjustments to the error received by ","position":{"start":{"line":369,"column":3,"offset":9499},"end":{"line":369,"column":65,"offset":9561},"indent":[]}},{"type":"inlineCode","value":"formatError","position":{"start":{"line":369,"column":65,"offset":9561},"end":{"line":369,"column":78,"offset":9574},"indent":[]}},{"type":"text","value":" (such as localization or personalization), consider ","position":{"start":{"line":369,"column":78,"offset":9574},"end":{"line":369,"column":131,"offset":9627},"indent":[]}},{"type":"link","title":null,"url":"../integrations/plugins/","children":[{"type":"text","value":"creating a plugin","position":{"start":{"line":369,"column":132,"offset":9628},"end":{"line":369,"column":149,"offset":9645},"indent":[]}}],"position":{"start":{"line":369,"column":131,"offset":9627},"end":{"line":369,"column":176,"offset":9672},"indent":[]}},{"type":"text","value":" that uses the ","position":{"start":{"line":369,"column":176,"offset":9672},"end":{"line":369,"column":191,"offset":9687},"indent":[]}},{"type":"link","title":null,"url":"../integrations/plugins/#didencountererrors","children":[{"type":"inlineCode","value":"didEncounterErrors","position":{"start":{"line":369,"column":192,"offset":9688},"end":{"line":369,"column":212,"offset":9708},"indent":[]}},{"type":"text","value":" lifecycle event","position":{"start":{"line":369,"column":212,"offset":9708},"end":{"line":369,"column":228,"offset":9724},"indent":[]}}],"position":{"start":{"line":369,"column":191,"offset":9687},"end":{"line":369,"column":274,"offset":9770},"indent":[]}},{"type":"text","value":" to attach additional properties to the error. These properties can be accessed from ","position":{"start":{"line":369,"column":274,"offset":9770},"end":{"line":369,"column":359,"offset":9855},"indent":[]}},{"type":"inlineCode","value":"formatError","position":{"start":{"line":369,"column":359,"offset":9855},"end":{"line":369,"column":372,"offset":9868},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":369,"column":372,"offset":9868},"end":{"line":369,"column":373,"offset":9869},"indent":[]}}],"position":{"start":{"line":369,"column":3,"offset":9499},"end":{"line":369,"column":373,"offset":9869},"indent":[]}}],"position":{"start":{"line":369,"column":1,"offset":9497},"end":{"line":369,"column":373,"offset":9869},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"For Apollo Studio reporting","position":{"start":{"line":371,"column":5,"offset":9875},"end":{"line":371,"column":32,"offset":9902},"indent":[]}}],"position":{"start":{"line":371,"column":1,"offset":9871},"end":{"line":371,"column":32,"offset":9902},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can use Apollo Studio to analyze your server's error rates. If you connect Apollo Server to Studio, all errors are sent to Studio by default. If you ","position":{"start":{"line":373,"column":1,"offset":9904},"end":{"line":373,"column":154,"offset":10057},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"don't","position":{"start":{"line":373,"column":155,"offset":10058},"end":{"line":373,"column":160,"offset":10063},"indent":[]}}],"position":{"start":{"line":373,"column":154,"offset":10057},"end":{"line":373,"column":161,"offset":10064},"indent":[]}},{"type":"text","value":" want certain error information to be sent to Studio (either because the error is unimportant or because certain information is confidential), you can modify or redact errors entirely before they're transmitted.","position":{"start":{"line":373,"column":161,"offset":10064},"end":{"line":373,"column":372,"offset":10275},"indent":[]}}],"position":{"start":{"line":373,"column":1,"offset":9904},"end":{"line":373,"column":372,"offset":10275},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To accomplish this, you can provide a ","position":{"start":{"line":375,"column":1,"offset":10277},"end":{"line":375,"column":39,"offset":10315},"indent":[]}},{"type":"inlineCode","value":"rewriteError","position":{"start":{"line":375,"column":39,"offset":10315},"end":{"line":375,"column":53,"offset":10329},"indent":[]}},{"type":"text","value":" function to the ","position":{"start":{"line":375,"column":53,"offset":10329},"end":{"line":375,"column":70,"offset":10346},"indent":[]}},{"type":"link","title":null,"url":"../api/plugin/usage-reporting/","children":[{"type":"text","value":"usage reporting plugin","position":{"start":{"line":375,"column":71,"offset":10347},"end":{"line":375,"column":93,"offset":10369},"indent":[]}}],"position":{"start":{"line":375,"column":70,"offset":10346},"end":{"line":375,"column":126,"offset":10402},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":375,"column":126,"offset":10402},"end":{"line":375,"column":127,"offset":10403},"indent":[]}}],"position":{"start":{"line":375,"column":1,"offset":10277},"end":{"line":375,"column":127,"offset":10403},"indent":[]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"The usage reporting plugin is installed automatically with its default configuration if you provide an Apollo API key to Apollo Server. To define a custom ","position":{"start":{"line":377,"column":3,"offset":10407},"end":{"line":377,"column":158,"offset":10562},"indent":[]}},{"type":"inlineCode","value":"rewriteError","position":{"start":{"line":377,"column":158,"offset":10562},"end":{"line":377,"column":172,"offset":10576},"indent":[]}},{"type":"text","value":" function, you need to install the plugin explicitly with a custom configuration, as shown in examples below.","position":{"start":{"line":377,"column":172,"offset":10576},"end":{"line":377,"column":281,"offset":10685},"indent":[]}}],"position":{"start":{"line":377,"column":3,"offset":10407},"end":{"line":377,"column":281,"offset":10685},"indent":[]}}],"position":{"start":{"line":377,"column":1,"offset":10405},"end":{"line":377,"column":281,"offset":10685},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Your ","position":{"start":{"line":379,"column":1,"offset":10687},"end":{"line":379,"column":6,"offset":10692},"indent":[]}},{"type":"inlineCode","value":"rewriteError","position":{"start":{"line":379,"column":6,"offset":10692},"end":{"line":379,"column":20,"offset":10706},"indent":[]}},{"type":"text","value":" function is called for each error (a ","position":{"start":{"line":379,"column":20,"offset":10706},"end":{"line":379,"column":58,"offset":10744},"indent":[]}},{"type":"inlineCode","value":"GraphQLError","position":{"start":{"line":379,"column":58,"offset":10744},"end":{"line":379,"column":72,"offset":10758},"indent":[]}},{"type":"text","value":" or an ","position":{"start":{"line":379,"column":72,"offset":10758},"end":{"line":379,"column":79,"offset":10765},"indent":[]}},{"type":"inlineCode","value":"ApolloError","position":{"start":{"line":379,"column":79,"offset":10765},"end":{"line":379,"column":92,"offset":10778},"indent":[]}},{"type":"text","value":") to be reported to Studio. The error is provided as the function's first argument. The function can either:","position":{"start":{"line":379,"column":92,"offset":10778},"end":{"line":379,"column":200,"offset":10886},"indent":[]}}],"position":{"start":{"line":379,"column":1,"offset":10687},"end":{"line":379,"column":200,"offset":10886},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Return a modified form of the error (e.g., by changing the ","position":{"start":{"line":381,"column":3,"offset":10890},"end":{"line":381,"column":62,"offset":10949},"indent":[]}},{"type":"inlineCode","value":"err.message","position":{"start":{"line":381,"column":62,"offset":10949},"end":{"line":381,"column":75,"offset":10962},"indent":[]}},{"type":"text","value":" to remove potentially sensitive information)","position":{"start":{"line":381,"column":75,"offset":10962},"end":{"line":381,"column":120,"offset":11007},"indent":[]}}],"position":{"start":{"line":381,"column":3,"offset":10890},"end":{"line":381,"column":120,"offset":11007},"indent":[]}}],"position":{"start":{"line":381,"column":1,"offset":10888},"end":{"line":381,"column":120,"offset":11007},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Return ","position":{"start":{"line":382,"column":3,"offset":11010},"end":{"line":382,"column":10,"offset":11017},"indent":[]}},{"type":"inlineCode","value":"null","position":{"start":{"line":382,"column":10,"offset":11017},"end":{"line":382,"column":16,"offset":11023},"indent":[]}},{"type":"text","value":" to prevent the error from being reported entirely","position":{"start":{"line":382,"column":16,"offset":11023},"end":{"line":382,"column":66,"offset":11073},"indent":[]}}],"position":{"start":{"line":382,"column":3,"offset":11010},"end":{"line":382,"column":66,"offset":11073},"indent":[]}}],"position":{"start":{"line":382,"column":1,"offset":11008},"end":{"line":382,"column":66,"offset":11073},"indent":[]}}],"position":{"start":{"line":381,"column":1,"offset":10888},"end":{"line":382,"column":66,"offset":11073},"indent":[1]}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"For federated graphs","position":{"start":{"line":384,"column":4,"offset":11078},"end":{"line":384,"column":24,"offset":11098},"indent":[]}}],"position":{"start":{"line":384,"column":2,"offset":11076},"end":{"line":384,"column":26,"offset":11100},"indent":[]}},{"type":"text","value":", instead define ","position":{"start":{"line":384,"column":26,"offset":11100},"end":{"line":384,"column":43,"offset":11117},"indent":[]}},{"type":"inlineCode","value":"rewriteError","position":{"start":{"line":384,"column":43,"offset":11117},"end":{"line":384,"column":57,"offset":11131},"indent":[]}},{"type":"text","value":" in each subgraph's ","position":{"start":{"line":384,"column":57,"offset":11131},"end":{"line":384,"column":77,"offset":11151},"indent":[]}},{"type":"link","title":null,"url":"../api/plugin/inline-trace/#rewriteerror","children":[{"type":"text","value":"inline trace plugin","position":{"start":{"line":384,"column":78,"offset":11152},"end":{"line":384,"column":97,"offset":11171},"indent":[]}}],"position":{"start":{"line":384,"column":77,"offset":11151},"end":{"line":384,"column":140,"offset":11214},"indent":[]}},{"type":"text","value":". Do not define it in the gateway.","position":{"start":{"line":384,"column":140,"offset":11214},"end":{"line":384,"column":174,"offset":11248},"indent":[]}}],"position":{"start":{"line":384,"column":2,"offset":11076},"end":{"line":384,"column":174,"offset":11248},"indent":[]}}],"position":{"start":{"line":384,"column":1,"offset":11075},"end":{"line":384,"column":174,"offset":11248},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Example: Ignoring common low-severity errors","position":{"start":{"line":386,"column":6,"offset":11255},"end":{"line":386,"column":50,"offset":11299},"indent":[]}}],"position":{"start":{"line":386,"column":1,"offset":11250},"end":{"line":386,"column":50,"offset":11299},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Let's say our server is ","position":{"start":{"line":388,"column":1,"offset":11301},"end":{"line":388,"column":25,"offset":11325},"indent":[]}},{"type":"inlineCode","value":"throw","position":{"start":{"line":388,"column":25,"offset":11325},"end":{"line":388,"column":32,"offset":11332},"indent":[]}},{"type":"text","value":"ing an ","position":{"start":{"line":388,"column":32,"offset":11332},"end":{"line":388,"column":39,"offset":11339},"indent":[]}},{"type":"inlineCode","value":"AuthenticationError","position":{"start":{"line":388,"column":39,"offset":11339},"end":{"line":388,"column":60,"offset":11360},"indent":[]}},{"type":"text","value":" whenever an incorrect password is provided. We can avoid reporting these errors to Apollo Studio by defining ","position":{"start":{"line":388,"column":60,"offset":11360},"end":{"line":388,"column":170,"offset":11470},"indent":[]}},{"type":"inlineCode","value":"rewriteError","position":{"start":{"line":388,"column":170,"offset":11470},"end":{"line":388,"column":184,"offset":11484},"indent":[]}},{"type":"text","value":", like so:","position":{"start":{"line":388,"column":184,"offset":11484},"end":{"line":388,"column":194,"offset":11494},"indent":[]}}],"position":{"start":{"line":388,"column":1,"offset":11301},"end":{"line":388,"column":194,"offset":11494},"indent":[]}},{"type":"code","lang":"js{7-17}","meta":null,"value":"const { ApolloServer, AuthenticationError } = require(\"apollo-server\");\nconst { ApolloServerPluginUsageReporting } = require(\"apollo-server-core\");\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  plugins: [\n    ApolloServerPluginUsageReporting({\n      rewriteError(err) {\n        // Return `null` to avoid reporting `AuthenticationError`s\n        if (err instanceof AuthenticationError) {\n          return null;\n        }\n\n        // All other errors will be reported.\n        return err;\n      }\n    }),\n  ],\n});","position":{"start":{"line":390,"column":1,"offset":11496},"end":{"line":410,"column":4,"offset":12038},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This example configuration ensures that any ","position":{"start":{"line":412,"column":1,"offset":12040},"end":{"line":412,"column":45,"offset":12084},"indent":[]}},{"type":"inlineCode","value":"AuthenticationError","position":{"start":{"line":412,"column":45,"offset":12084},"end":{"line":412,"column":66,"offset":12105},"indent":[]}},{"type":"text","value":" that's thrown within a resolver is only reported to the client, and never sent to Apollo Studio. All other errors are transmitted to Studio normally.","position":{"start":{"line":412,"column":66,"offset":12105},"end":{"line":412,"column":216,"offset":12255},"indent":[]}}],"position":{"start":{"line":412,"column":1,"offset":12040},"end":{"line":412,"column":216,"offset":12255},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Example: Filtering errors based on other properties","position":{"start":{"line":414,"column":6,"offset":12262},"end":{"line":414,"column":57,"offset":12313},"indent":[]}}],"position":{"start":{"line":414,"column":1,"offset":12257},"end":{"line":414,"column":57,"offset":12313},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"When generating an error (e.g., ","position":{"start":{"line":416,"column":1,"offset":12315},"end":{"line":416,"column":33,"offset":12347},"indent":[]}},{"type":"inlineCode","value":"new ApolloError(\"Failure!\")","position":{"start":{"line":416,"column":33,"offset":12347},"end":{"line":416,"column":62,"offset":12376},"indent":[]}},{"type":"text","value":"), the error's ","position":{"start":{"line":416,"column":62,"offset":12376},"end":{"line":416,"column":77,"offset":12391},"indent":[]}},{"type":"inlineCode","value":"message","position":{"start":{"line":416,"column":77,"offset":12391},"end":{"line":416,"column":86,"offset":12400},"indent":[]}},{"type":"text","value":" is the most common property (in this case it's ","position":{"start":{"line":416,"column":86,"offset":12400},"end":{"line":416,"column":134,"offset":12448},"indent":[]}},{"type":"inlineCode","value":"Failure!","position":{"start":{"line":416,"column":134,"offset":12448},"end":{"line":416,"column":144,"offset":12458},"indent":[]}},{"type":"text","value":"). However, any number of properties can be attached to the error (such as a ","position":{"start":{"line":416,"column":144,"offset":12458},"end":{"line":416,"column":221,"offset":12535},"indent":[]}},{"type":"inlineCode","value":"code","position":{"start":{"line":416,"column":221,"offset":12535},"end":{"line":416,"column":227,"offset":12541},"indent":[]}},{"type":"text","value":" property).","position":{"start":{"line":416,"column":227,"offset":12541},"end":{"line":416,"column":238,"offset":12552},"indent":[]}}],"position":{"start":{"line":416,"column":1,"offset":12315},"end":{"line":416,"column":238,"offset":12552},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We can check these properties when determining whether an error should be reported to Apollo Studio using the ","position":{"start":{"line":418,"column":1,"offset":12554},"end":{"line":418,"column":111,"offset":12664},"indent":[]}},{"type":"inlineCode","value":"rewriteError","position":{"start":{"line":418,"column":111,"offset":12664},"end":{"line":418,"column":125,"offset":12678},"indent":[]}},{"type":"text","value":" function as follows:","position":{"start":{"line":418,"column":125,"offset":12678},"end":{"line":418,"column":146,"offset":12699},"indent":[]}}],"position":{"start":{"line":418,"column":1,"offset":12554},"end":{"line":418,"column":146,"offset":12699},"indent":[]}},{"type":"code","lang":"js{7-17}","meta":null,"value":"const { ApolloServer } = require(\"apollo-server\");\nconst { ApolloServerPluginUsageReporting } = require(\"apollo-server-core\");\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  plugins: [\n    ApolloServerPluginUsageReporting({\n      rewriteError(err) {\n        // Using a more stable, known error property (e.g. `err.code`) would be\n        // more defensive, however checking the `message` might serve most needs!\n        if (err.message && err.message.startsWith(\"Known error message\")) {\n          return null;\n        }\n\n        // All other errors should still be reported!\n        return err;\n      }\n    }),\n  ],\n});","position":{"start":{"line":420,"column":1,"offset":12701},"end":{"line":441,"column":4,"offset":13351},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"This example configuration ensures that any error that starts with ","position":{"start":{"line":443,"column":1,"offset":13353},"end":{"line":443,"column":68,"offset":13420},"indent":[]}},{"type":"inlineCode","value":"Known error message","position":{"start":{"line":443,"column":68,"offset":13420},"end":{"line":443,"column":89,"offset":13441},"indent":[]}},{"type":"text","value":" is not transmitted to Apollo Studio, but all other errors are sent as normal.","position":{"start":{"line":443,"column":89,"offset":13441},"end":{"line":443,"column":167,"offset":13519},"indent":[]}}],"position":{"start":{"line":443,"column":1,"offset":13353},"end":{"line":443,"column":167,"offset":13519},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Example: Redacting the error message","position":{"start":{"line":445,"column":6,"offset":13526},"end":{"line":445,"column":42,"offset":13562},"indent":[]}}],"position":{"start":{"line":445,"column":1,"offset":13521},"end":{"line":445,"column":42,"offset":13562},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If it is necessary to change an error prior to reporting it to Apollo Studio (for example, if there is personally identifiable information in the error ","position":{"start":{"line":447,"column":1,"offset":13564},"end":{"line":447,"column":153,"offset":13716},"indent":[]}},{"type":"inlineCode","value":"message","position":{"start":{"line":447,"column":153,"offset":13716},"end":{"line":447,"column":162,"offset":13725},"indent":[]}},{"type":"text","value":"), the ","position":{"start":{"line":447,"column":162,"offset":13725},"end":{"line":447,"column":169,"offset":13732},"indent":[]}},{"type":"inlineCode","value":"rewriteError","position":{"start":{"line":447,"column":169,"offset":13732},"end":{"line":447,"column":183,"offset":13746},"indent":[]}},{"type":"text","value":" function can also help.","position":{"start":{"line":447,"column":183,"offset":13746},"end":{"line":447,"column":207,"offset":13770},"indent":[]}}],"position":{"start":{"line":447,"column":1,"offset":13564},"end":{"line":447,"column":207,"offset":13770},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Consider an example where the error contains a piece of information like an API key:","position":{"start":{"line":449,"column":1,"offset":13772},"end":{"line":449,"column":85,"offset":13856},"indent":[]}}],"position":{"start":{"line":449,"column":1,"offset":13772},"end":{"line":449,"column":85,"offset":13856},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"throw new ApolloError(\"The x-api-key:12345 doesn't have sufficient privileges.\");","position":{"start":{"line":451,"column":1,"offset":13858},"end":{"line":453,"column":4,"offset":13949},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":455,"column":1,"offset":13951},"end":{"line":455,"column":5,"offset":13955},"indent":[]}},{"type":"inlineCode","value":"rewriteError","position":{"start":{"line":455,"column":5,"offset":13955},"end":{"line":455,"column":19,"offset":13969},"indent":[]}},{"type":"text","value":" function can ensure that such information is not sent to Apollo Studio and potentially revealed outside its intended scope:","position":{"start":{"line":455,"column":19,"offset":13969},"end":{"line":455,"column":143,"offset":14093},"indent":[]}}],"position":{"start":{"line":455,"column":1,"offset":13951},"end":{"line":455,"column":143,"offset":14093},"indent":[]}},{"type":"code","lang":"js{7-13}","meta":null,"value":"const { ApolloServer } = require(\"apollo-server\");\nconst { ApolloServerPluginUsageReporting } = require(\"apollo-server-core\");\nconst server = new ApolloServer({\n  typeDefs,\n  resolvers,\n  plugins: [\n    ApolloServerPluginUsageReporting({\n      rewriteError(err) {\n        // Make sure that a specific pattern is removed from all error messages.\n        err.message = err.message.replace(/x-api-key:[A-Z0-9-]+/, \"REDACTED\");\n        return err;\n      }\n    }),\n  ],\n});","position":{"start":{"line":457,"column":1,"offset":14095},"end":{"line":473,"column":4,"offset":14579},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"In this case, the error above is reported to Apollo Studio as:","position":{"start":{"line":475,"column":1,"offset":14581},"end":{"line":475,"column":63,"offset":14643},"indent":[]}}],"position":{"start":{"line":475,"column":1,"offset":14581},"end":{"line":475,"column":63,"offset":14643},"indent":[]}},{"type":"code","lang":null,"meta":null,"value":"The REDACTED doesn't have sufficient privileges.","position":{"start":{"line":477,"column":1,"offset":14645},"end":{"line":479,"column":4,"offset":14701},"indent":[1,1]}},{"type":"export","value":"export const _frontmatter = {\"title\":\"Error handling\",\"description\":\"Making errors actionable on the client and server\"}","position":{"start":{"line":482,"column":1,"offset":14704},"end":{"line":482,"column":121,"offset":14824},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":482,"column":121,"offset":14824}}},"scopeImports":["import {ExpansionPanel} from 'gatsby-theme-apollo-docs';","import * as React from 'react'"],"scopeIdentifiers":["ExpansionPanel","React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Error handling\",\n  \"description\": \"Making errors actionable on the client and server\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Whenever Apollo Server encounters errors while processing a GraphQL operation, its response to the client includes an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"errors\"), \" array that contains each error that occurred. Each error in the array has an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"extensions\"), \" field that provides additional useful information, including an error \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"code\"), \" and (while in development mode) an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"exception.stacktrace\"), \".\"), mdx(\"p\", null, \"Here's an example error response caused by misspelling the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"__typename\"), \" field in a query:\"), mdx(ExpansionPanel, {\n    title: \"Click to expand\",\n    mdxType: \"ExpansionPanel\"\n  }, mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"json\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-json line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"errors\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"message\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Cannot query field \\\\\\\"__typenam\\\\\\\" on type \\\\\\\"Query\\\\\\\".\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"locations\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"line\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"column\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"extensions\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"code\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"GRAPHQL_VALIDATION_FAILED\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"exception\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"stacktrace\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"GraphQLError: Cannot query field \\\\\\\"__typenam\\\\\\\" on type \\\\\\\"Query\\\\\\\".\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"    at Object.Field (/my_project/node_modules/graphql/validation/rules/FieldsOnCorrectTypeRule.js:48:31)\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"    ...additional lines...\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }))))), mdx(\"p\", null, \"To help with debugging, Apollo Server defines error subclasses that represent different types of errors that can occur while handling a GraphQL operation (such as \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"SyntaxError\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ValidationError\"), \"). These subclasses each return a different \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#error-codes\"\n  }, \"error code\"), \", which enables requesting clients to respond differently to different error types.\"), mdx(\"p\", null, \"These built-in error subclasses inherit from the generic \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloError\"), \" class, and they're all defined in \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-server-errors/src/index.ts\"\n  }, \"the \", mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"apollo-server-errors\"), \" package\"), \". You can also \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#custom-errors\"\n  }, \"create your own custom errors and codes\"), \".\"), mdx(\"h2\", {\n    \"id\": \"error-codes\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#error-codes\",\n    \"aria-label\": \"error codes permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Error codes\"), mdx(\"table\", {\n    className: \"field-table\"\n  }, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"th\", null, \"Code /\", mdx(\"br\", null), \"Subclass\"), mdx(\"th\", null, \"Description\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, mdx(\"h6\", {\n    \"id\": \"graphql_parse_failed\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h6\",\n    \"href\": \"#graphql_parse_failed\",\n    \"aria-label\": \"graphql_parse_failed permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h6\",\n    \"className\": \"language-text\"\n  }, \"GRAPHQL_PARSE_FAILED\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"SyntaxError\"))), mdx(\"td\", null, mdx(\"p\", null, \"The GraphQL operation string contains a syntax error.\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"h6\", {\n    \"id\": \"graphql_validation_failed\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h6\",\n    \"href\": \"#graphql_validation_failed\",\n    \"aria-label\": \"graphql_validation_failed permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h6\",\n    \"className\": \"language-text\"\n  }, \"GRAPHQL_VALIDATION_FAILED\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ValidationError\"))), mdx(\"td\", null, mdx(\"p\", null, \"The GraphQL operation is not valid against the server's schema.\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"h6\", {\n    \"id\": \"bad_user_input\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h6\",\n    \"href\": \"#bad_user_input\",\n    \"aria-label\": \"bad_user_input permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h6\",\n    \"className\": \"language-text\"\n  }, \"BAD_USER_INPUT\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"UserInputError\"))), mdx(\"td\", null, mdx(\"p\", null, \"The GraphQL operation includes an invalid value for a field argument.\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"h6\", {\n    \"id\": \"unauthenticated\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h6\",\n    \"href\": \"#unauthenticated\",\n    \"aria-label\": \"unauthenticated permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h6\",\n    \"className\": \"language-text\"\n  }, \"UNAUTHENTICATED\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"AuthenticationError\"))), mdx(\"td\", null, mdx(\"p\", null, \"The server failed to authenticate with a required data source, such as a REST API.\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"h6\", {\n    \"id\": \"forbidden\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h6\",\n    \"href\": \"#forbidden\",\n    \"aria-label\": \"forbidden permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h6\",\n    \"className\": \"language-text\"\n  }, \"FORBIDDEN\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ForbiddenError\"))), mdx(\"td\", null, mdx(\"p\", null, \"The server was unauthorized to access a required data source, such as a REST API.\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"h6\", {\n    \"id\": \"persisted_query_not_found\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h6\",\n    \"href\": \"#persisted_query_not_found\",\n    \"aria-label\": \"persisted_query_not_found permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h6\",\n    \"className\": \"language-text\"\n  }, \"PERSISTED_QUERY_NOT_FOUND\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"PersistedQueryNotFoundError\"))), mdx(\"td\", null, mdx(\"p\", null, \"A client sent the hash of a query string to execute via \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v2/performance/apq/\"\n  }, \"automatic persisted queries\"), \", but the query was not in the APQ cache.\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"h6\", {\n    \"id\": \"persisted_query_not_supported\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h6\",\n    \"href\": \"#persisted_query_not_supported\",\n    \"aria-label\": \"persisted_query_not_supported permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h6\",\n    \"className\": \"language-text\"\n  }, \"PERSISTED_QUERY_NOT_SUPPORTED\")), mdx(\"p\", null, mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"PersistedQueryNotSupportedError\"))), mdx(\"td\", null, mdx(\"p\", null, \"A client sent the hash of a query string to execute via \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v2/performance/apq/\"\n  }, \"automatic persisted queries\"), \", but the server has disabled APQ.\"))), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"h6\", {\n    \"id\": \"internal_server_error\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h6\",\n    \"href\": \"#internal_server_error\",\n    \"aria-label\": \"internal_server_error permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), mdx(\"code\", {\n    parentName: \"h6\",\n    \"className\": \"language-text\"\n  }, \"INTERNAL_SERVER_ERROR\")), mdx(\"p\", null, \"None\")), mdx(\"td\", null, mdx(\"p\", null, \"An unspecified error occurred.\"), mdx(\"p\", null, \"This is the default error code returned by any \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloError\"), \" instance that doesn't specify a different code.\"))))), mdx(\"h2\", {\n    \"id\": \"throwing-errors\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#throwing-errors\",\n    \"aria-label\": \"throwing errors permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Throwing errors\"), mdx(\"p\", null, \"Apollo Server throws errors of most built-in types automatically when applicable. For example, it throws a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ValidationError\"), \" whenever an incoming operation isn't valid against the server's schema.\"), mdx(\"p\", null, \"Your resolvers can also throw errors in situations where Apollo Server doesn't do so automatically.\"), mdx(\"p\", null, \"For example, this resolver throws a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#bad_user_input\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"UserInputError\")), \" if the integer value provided for a user's ID is less than \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"1\"), \":\"), mdx(ExpansionPanel, {\n    title: \"Click to expand\",\n    mdxType: \"ExpansionPanel\"\n  }, mdx(\"div\", {\n    \"className\": \"gatsby-highlight has-highlighted-lines\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  ApolloServer\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  gql\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  UserInputError\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-server'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" typeDefs \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" gql\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"  type Query {\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"    userWithID(id: ID!): User\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"  }\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"  type User {\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"    id: ID!\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"    name: String!\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"  }\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" resolvers \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"Query\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-variable function\"\n  }, \"userWithID\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token parameter\"\n  }, \"parent\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" args\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" context\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"args\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"id \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"<\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"throw\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name\"\n  }, \"UserInputError\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"'Invalid argument value'\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// ...fetch correct user...\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\")), \"  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }))))), mdx(\"p\", null, \"If a resolver throws an error that is \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not\"), \" an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloError\"), \" instance, that error is converted to a generic \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloError\"), \" with an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"extensions\"), \" field that includes a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"stacktrace\"), \" and \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"code\"), \" (specifically \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#internal_server_error\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"INTERNAL_SERVER_ERROR\")), \"), along with other relevant error details.\"), mdx(\"h3\", {\n    \"id\": \"including-custom-error-details\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#including-custom-error-details\",\n    \"aria-label\": \"including custom error details permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Including custom error details\"), mdx(\"p\", null, \"Whenever you throw an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloError\"), \", you can add arbitrary fields to the error's \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"extensions\"), \" object to provide additional context to the client. You specify these fields in an object you provide to the error's constructor.\"), mdx(\"p\", null, \"This example builds on the one above by adding the name of the GraphQL argument that was invalid:\"), mdx(ExpansionPanel, {\n    title: \"Click to expand\",\n    mdxType: \"ExpansionPanel\"\n  }, mdx(\"div\", {\n    \"className\": \"gatsby-highlight has-highlighted-lines\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  ApolloServer\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  gql\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  UserInputError\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-server'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" typeDefs \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" gql\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"  type Query {\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"    userWithID(id: ID!): User\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"  }\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"  type User {\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"    id: ID!\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"    name: String!\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"  }\"), \"\\n\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" resolvers \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"Query\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function-variable function\"\n  }, \"userWithID\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"parent\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" args\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" context\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"args\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"id \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"<\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"throw\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name\"\n  }, \"UserInputError\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"'Invalid argument value'\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"          \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token literal-property property\"\n  }, \"argumentName\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"'id'\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), \"      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token comment\"\n  }, \"// ...fetch correct user...\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }))))), mdx(\"p\", null, \"This results in a response like the following:\"), mdx(ExpansionPanel, {\n    title: \"Click to expand\",\n    mdxType: \"ExpansionPanel\"\n  }, mdx(\"div\", {\n    \"className\": \"gatsby-highlight has-highlighted-lines\",\n    \"data-language\": \"json\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-json line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"errors\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"message\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"Invalid argument value\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"locations\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"line\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"column\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"3\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"path\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"userWithID\\\"\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"extensions\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token property\"\n  }, \"\\\"argumentName\\\"\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"\\\"id\\\"\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\")), \"        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"code\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"BAD_USER_INPUT\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"exception\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"argumentName\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"id\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token property\"\n  }, \"\\\"stacktrace\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"UserInputError: Invalid argument value\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"    at userWithID (/my-project/index.js:25:13)\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n            \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"    ...more lines...\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n          \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n        \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }))))), mdx(\"h2\", {\n    \"id\": \"custom-errors\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#custom-errors\",\n    \"aria-label\": \"custom errors permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Custom errors\"), mdx(\"p\", null, \"You can create a custom error by defining your own subclass of \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloError\"), \", or by initializing an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloError\"), \" object directly:\"), mdx(\"h4\", {\n    \"id\": \"subclass-with-custom-error-code\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#subclass-with-custom-error-code\",\n    \"aria-label\": \"subclass with custom error code permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Subclass with custom error code\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"ts\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-ts line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloError \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"from\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-server-errors'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"export\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"class\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"MyError\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"extends\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloError\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"constructor\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"message\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token builtin\"\n  }, \"string\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"super\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"message\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'MY_ERROR_CODE'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n    Object\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"defineProperty\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"this\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'name'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" value\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'MyError'\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"throw\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"MyError\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'My error message'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h4\", {\n    \"id\": \"direct-initialization\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#direct-initialization\",\n    \"aria-label\": \"direct initialization permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Direct initialization\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"ts\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-ts line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"import\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloError \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"from\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'apollo-server-errors'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"throw\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloError\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'My error message'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'MY_ERROR_CODE'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" myCustomDetailsObject\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"h2\", {\n    \"id\": \"omitting-or-including-stacktrace\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#omitting-or-including-stacktrace\",\n    \"aria-label\": \"omitting or including stacktrace permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Omitting or including \", mdx(\"code\", {\n    parentName: \"h2\",\n    \"className\": \"language-text\"\n  }, \"stacktrace\")), mdx(\"p\", null, \"The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"exception.stacktrace\"), \" error field is useful while developing and debugging your server, but you probably don't want to expose it to clients in production.\"), mdx(\"p\", null, \"By default, Apollo Server \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"omits\"), \" the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"exception.stacktrace\"), \" field if the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"NODE_ENV\"), \" environment variable is set to either \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"production\"), \" or \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"test\"), \".\"), mdx(\"p\", null, \"You can override this default behavior by passing the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"debug\"), \" option to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v2/api/apollo-server/#constructor\"\n  }, \"the constructor of \", mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"ApolloServer\")), \". If \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"debug\"), \" is \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"true\"), \", \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"exception.stacktrace\"), \" is always included. If it's \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"false\"), \", \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"exception.stacktrace\"), \" is always omitted.\"), mdx(\"p\", null, \"Note that when \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"exception.stacktrace\"), \" is omitted, it's also unavailable to your application. To log error \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"stacktrace\"), \"s without including them in responses to clients, see \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#masking-and-logging-errors\"\n  }, \"Masking and logging errors\"), \".\"), mdx(\"h2\", {\n    \"id\": \"masking-and-logging-errors\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#masking-and-logging-errors\",\n    \"aria-label\": \"masking and logging errors permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Masking and logging errors\"), mdx(\"p\", null, \"You can edit Apollo Server error details before they're passed to a client or reported to Apollo Studio. This enables you to omit sensitive or irrelevant data.\"), mdx(\"h3\", {\n    \"id\": \"for-client-responses\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#for-client-responses\",\n    \"aria-label\": \"for client responses permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"For client responses\"), mdx(\"p\", null, \"The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloServer\"), \" constructor accepts a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"formatError\"), \" function that is run on each error before it's passed back to the client. You can use this function to mask particular errors, as well as for logging.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"formatError\"), \" function does \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not\"), \" modify errors that are sent to Apollo Studio as part of metrics reporting. See \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#for-apollo-studio-reporting\"\n  }, \"For Apollo Studio reporting\"), \".\")), mdx(\"p\", null, \"This example returns a more generic error whenever the original error's message begins with \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Database Error: \"), \":\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight has-highlighted-lines\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" server \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloServer\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  typeDefs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  resolvers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"  \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function-variable function\"\n  }, \"formatError\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token parameter\"\n  }, \"err\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// Don't give the specific errors to the client.\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"message\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"startsWith\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"'Database Error: '\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name\"\n  }, \"Error\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"'Internal server error'\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// Otherwise return the original error. The error can also\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// be manipulated in other ways, as long as it's returned.\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), \"  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\\nserver\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"listen\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"then\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" url \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=>\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  console\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"log\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token template-string\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"\\uD83D\\uDE80 Server ready at \"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"${\"), \"url\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token interpolation-punctuation punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token template-punctuation string\"\n  }, \"`\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"The error instance received by \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"formatError\"), \" (a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"GraphQLError\"), \") contains an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"originalError\"), \" property, which represents the original error thrown in the resolver. You can use this property to obtain the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"instanceof\"), \" the error class, such as \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"AuthenticationError\"), \" or \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ValidationError\"), \":\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"formatError\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token parameter\"\n  }, \"err\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"err\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"originalError \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"instanceof\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"AuthenticationError\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n      \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"Error\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'Different authentication error message!'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"To make context-specific adjustments to the error received by \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"formatError\"), \" (such as localization or personalization), consider \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v2/integrations/plugins/\"\n  }, \"creating a plugin\"), \" that uses the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v2/integrations/plugins/#didencountererrors\"\n  }, mdx(\"code\", {\n    parentName: \"a\",\n    \"className\": \"language-text\"\n  }, \"didEncounterErrors\"), \" lifecycle event\"), \" to attach additional properties to the error. These properties can be accessed from \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"formatError\"), \".\")), mdx(\"h3\", {\n    \"id\": \"for-apollo-studio-reporting\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#for-apollo-studio-reporting\",\n    \"aria-label\": \"for apollo studio reporting permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"For Apollo Studio reporting\"), mdx(\"p\", null, \"You can use Apollo Studio to analyze your server's error rates. If you connect Apollo Server to Studio, all errors are sent to Studio by default. If you \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"don't\"), \" want certain error information to be sent to Studio (either because the error is unimportant or because certain information is confidential), you can modify or redact errors entirely before they're transmitted.\"), mdx(\"p\", null, \"To accomplish this, you can provide a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"rewriteError\"), \" function to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v2/api/plugin/usage-reporting/\"\n  }, \"usage reporting plugin\"), \".\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"The usage reporting plugin is installed automatically with its default configuration if you provide an Apollo API key to Apollo Server. To define a custom \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"rewriteError\"), \" function, you need to install the plugin explicitly with a custom configuration, as shown in examples below.\")), mdx(\"p\", null, \"Your \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"rewriteError\"), \" function is called for each error (a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"GraphQLError\"), \" or an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"ApolloError\"), \") to be reported to Studio. The error is provided as the function's first argument. The function can either:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Return a modified form of the error (e.g., by changing the \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"err.message\"), \" to remove potentially sensitive information)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Return \", mdx(\"code\", {\n    parentName: \"li\",\n    \"className\": \"language-text\"\n  }, \"null\"), \" to prevent the error from being reported entirely\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"For federated graphs\"), \", instead define \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"rewriteError\"), \" in each subgraph's \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/v2/api/plugin/inline-trace/#rewriteerror\"\n  }, \"inline trace plugin\"), \". Do not define it in the gateway.\")), mdx(\"h4\", {\n    \"id\": \"example-ignoring-common-low-severity-errors\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#example-ignoring-common-low-severity-errors\",\n    \"aria-label\": \"example ignoring common low severity errors permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Example: Ignoring common low-severity errors\"), mdx(\"p\", null, \"Let's say our server is \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"throw\"), \"ing an \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"AuthenticationError\"), \" whenever an incorrect password is provided. We can avoid reporting these errors to Apollo Studio by defining \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"rewriteError\"), \", like so:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight has-highlighted-lines\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloServer\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" AuthenticationError \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"apollo-server\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloServerPluginUsageReporting \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"apollo-server-core\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" server \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloServer\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  typeDefs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  resolvers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"plugins\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"ApolloServerPluginUsageReporting\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"rewriteError\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token parameter\"\n  }, \"err\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// Return `null` to avoid reporting `AuthenticationError`s\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"err \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"instanceof\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token class-name\"\n  }, \"AuthenticationError\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"          \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"null\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// All other errors will be reported.\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\")), \"  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"This example configuration ensures that any \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"AuthenticationError\"), \" that's thrown within a resolver is only reported to the client, and never sent to Apollo Studio. All other errors are transmitted to Studio normally.\"), mdx(\"h4\", {\n    \"id\": \"example-filtering-errors-based-on-other-properties\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#example-filtering-errors-based-on-other-properties\",\n    \"aria-label\": \"example filtering errors based on other properties permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Example: Filtering errors based on other properties\"), mdx(\"p\", null, \"When generating an error (e.g., \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"new ApolloError(\\\"Failure!\\\")\"), \"), the error's \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"message\"), \" is the most common property (in this case it's \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Failure!\"), \"). However, any number of properties can be attached to the error (such as a \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"code\"), \" property).\"), mdx(\"p\", null, \"We can check these properties when determining whether an error should be reported to Apollo Studio using the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"rewriteError\"), \" function as follows:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight has-highlighted-lines\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloServer \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"apollo-server\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloServerPluginUsageReporting \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"apollo-server-core\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" server \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloServer\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  typeDefs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  resolvers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"plugins\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"ApolloServerPluginUsageReporting\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"rewriteError\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token parameter\"\n  }, \"err\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// Using a more stable, known error property (e.g. `err.code`) would be\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// more defensive, however checking the `message` might serve most needs!\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"if\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), \"err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"message \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"&&\"), \" err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"message\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"startsWith\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"\\\"Known error message\\\"\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"          \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"null\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// All other errors should still be reported!\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), \"    \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"This example configuration ensures that any error that starts with \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"Known error message\"), \" is not transmitted to Apollo Studio, but all other errors are sent as normal.\"), mdx(\"h4\", {\n    \"id\": \"example-redacting-the-error-message\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"href\": \"#example-redacting-the-error-message\",\n    \"aria-label\": \"example redacting the error message permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Example: Redacting the error message\"), mdx(\"p\", null, \"If it is necessary to change an error prior to reporting it to Apollo Studio (for example, if there is personally identifiable information in the error \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"message\"), \"), the \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"rewriteError\"), \" function can also help.\"), mdx(\"p\", null, \"Consider an example where the error contains a piece of information like an API key:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"throw\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloError\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"The x-api-key:12345 doesn't have sufficient privileges.\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"The \", mdx(\"code\", {\n    parentName: \"p\",\n    \"className\": \"language-text\"\n  }, \"rewriteError\"), \" function can ensure that such information is not sent to Apollo Studio and potentially revealed outside its intended scope:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight has-highlighted-lines\",\n    \"data-language\": \"js\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-js line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloServer \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"apollo-server\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \" ApolloServerPluginUsageReporting \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"require\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"\\\"apollo-server-core\\\"\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"const\"), \" server \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"new\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token class-name\"\n  }, \"ApolloServer\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"{\"), \"\\n  typeDefs\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  resolvers\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token literal-property property\"\n  }, \"plugins\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \":\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"[\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"ApolloServerPluginUsageReporting\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"rewriteError\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token parameter\"\n  }, \"err\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"{\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token comment\"\n  }, \"// Make sure that a specific pattern is removed from all error messages.\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"message \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"message\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \".\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token function\"\n  }, \"replace\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token regex\"\n  }, mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token regex-delimiter\"\n  }, \"/\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token regex-source language-regex\"\n  }, \"x-api-key:[A-Z0-9-]+\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token regex-delimiter\"\n  }, \"/\")), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token string\"\n  }, \"\\\"REDACTED\\\"\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"        \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token keyword\"\n  }, \"return\"), \" err\", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\")), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"gatsby-highlight-code-line\"\n  }, \"    \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"token punctuation\"\n  }, \",\")), \"  \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"]\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \"\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"}\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \";\")), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  }), mdx(\"span\", {\n    parentName: \"span\"\n  })))), mdx(\"p\", null, \"In this case, the error above is reported to Apollo Studio as:\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"text\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"style\": {\n      \"counterReset\": \"linenumber NaN\"\n    },\n    \"className\": \"language-text line-numbers\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-text\"\n  }, \"The REDACTED doesn't have sufficient privileges.\"), mdx(\"span\", {\n    parentName: \"pre\",\n    \"aria-hidden\": \"true\",\n    \"className\": \"line-numbers-rows\",\n    \"style\": {\n      \"whiteSpace\": \"normal\",\n      \"width\": \"auto\",\n      \"left\": \"0\"\n    }\n  }, mdx(\"span\", {\n    parentName: \"span\"\n  })))));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport {ExpansionPanel} from 'gatsby-theme-apollo-docs';\nexport const _frontmatter = {\n  \"title\": \"Error handling\",\n  \"description\": \"Making errors actionable on the client and server\"\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <p>{`Whenever Apollo Server encounters errors while processing a GraphQL operation, its response to the client includes an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`errors`}</code>{` array that contains each error that occurred. Each error in the array has an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`extensions`}</code>{` field that provides additional useful information, including an error `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`code`}</code>{` and (while in development mode) an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`exception.stacktrace`}</code>{`.`}</p>\n    <p>{`Here's an example error response caused by misspelling the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`__typename`}</code>{` field in a query:`}</p>\n    <ExpansionPanel title=\"Click to expand\" mdxType=\"ExpansionPanel\">\n      <div {...{\n        \"className\": \"gatsby-highlight\",\n        \"data-language\": \"json\"\n      }}><pre parentName=\"div\" {...{\n          \"style\": {\n            \"counterReset\": \"linenumber NaN\"\n          },\n          \"className\": \"language-json line-numbers\"\n        }}><code parentName=\"pre\" {...{\n            \"className\": \"language-json\"\n          }}><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"errors\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`[`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"message\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"Cannot query field \\\\\"__typenam\\\\\" on type \\\\\"Query\\\\\".\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"locations\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`[`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"line\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token number\"\n            }}>{`1`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"column\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token number\"\n            }}>{`2`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`]`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"extensions\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"code\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"GRAPHQL_VALIDATION_FAILED\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"exception\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"stacktrace\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`[`}</span>{`\n            `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"GraphQLError: Cannot query field \\\\\"__typenam\\\\\" on type \\\\\"Query\\\\\".\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"    at Object.Field (/my_project/node_modules/graphql/validation/rules/FieldsOnCorrectTypeRule.js:48:31)\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"    ...additional lines...\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`]`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`]`}</span>{`\n`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></code><span parentName=\"pre\" {...{\n            \"aria-hidden\": \"true\",\n            \"className\": \"line-numbers-rows\",\n            \"style\": {\n              \"whiteSpace\": \"normal\",\n              \"width\": \"auto\",\n              \"left\": \"0\"\n            }\n          }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    </ExpansionPanel>\n    <p>{`To help with debugging, Apollo Server defines error subclasses that represent different types of errors that can occur while handling a GraphQL operation (such as `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`SyntaxError`}</code>{` and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ValidationError`}</code>{`). These subclasses each return a different `}<a parentName=\"p\" {...{\n        \"href\": \"#error-codes\"\n      }}>{`error code`}</a>{`, which enables requesting clients to respond differently to different error types.`}</p>\n    <p>{`These built-in error subclasses inherit from the generic `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloError`}</code>{` class, and they're all defined in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-server-errors/src/index.ts\"\n      }}>{`the `}<code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`apollo-server-errors`}</code>{` package`}</a>{`. You can also `}<a parentName=\"p\" {...{\n        \"href\": \"#custom-errors\"\n      }}>{`create your own custom errors and codes`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"error-codes\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#error-codes\",\n        \"aria-label\": \"error codes permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Error codes`}</h2>\n    <table class=\"field-table\">\n  <thead>\n    <tr>\n      <th>Code /<br />Subclass</th>\n      <th>Description</th>\n    </tr>\n  </thead>\n      <tbody>\n        <tr>\n          <td>\n            <h6 {...{\n              \"id\": \"graphql_parse_failed\",\n              \"style\": {\n                \"position\": \"relative\"\n              }\n            }}><a parentName=\"h6\" {...{\n                \"href\": \"#graphql_parse_failed\",\n                \"aria-label\": \"graphql_parse_failed permalink\",\n                \"className\": \"anchor before\"\n              }}><svg parentName=\"a\" {...{\n                  \"aria-hidden\": \"true\",\n                  \"focusable\": \"false\",\n                  \"height\": \"16\",\n                  \"version\": \"1.1\",\n                  \"viewBox\": \"0 0 16 16\",\n                  \"width\": \"16\"\n                }}><path parentName=\"svg\" {...{\n                    \"fillRule\": \"evenodd\",\n                    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n                  }}></path></svg></a><code parentName=\"h6\" {...{\n                \"className\": \"language-text\"\n              }}>{`GRAPHQL_PARSE_FAILED`}</code></h6>\n            <p><code parentName=\"p\" {...{\n                \"className\": \"language-text\"\n              }}>{`SyntaxError`}</code></p>\n          </td>\n          <td>\n            <p>{`The GraphQL operation string contains a syntax error.`}</p>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <h6 {...{\n              \"id\": \"graphql_validation_failed\",\n              \"style\": {\n                \"position\": \"relative\"\n              }\n            }}><a parentName=\"h6\" {...{\n                \"href\": \"#graphql_validation_failed\",\n                \"aria-label\": \"graphql_validation_failed permalink\",\n                \"className\": \"anchor before\"\n              }}><svg parentName=\"a\" {...{\n                  \"aria-hidden\": \"true\",\n                  \"focusable\": \"false\",\n                  \"height\": \"16\",\n                  \"version\": \"1.1\",\n                  \"viewBox\": \"0 0 16 16\",\n                  \"width\": \"16\"\n                }}><path parentName=\"svg\" {...{\n                    \"fillRule\": \"evenodd\",\n                    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n                  }}></path></svg></a><code parentName=\"h6\" {...{\n                \"className\": \"language-text\"\n              }}>{`GRAPHQL_VALIDATION_FAILED`}</code></h6>\n            <p><code parentName=\"p\" {...{\n                \"className\": \"language-text\"\n              }}>{`ValidationError`}</code></p>\n          </td>\n          <td>\n            <p>{`The GraphQL operation is not valid against the server's schema.`}</p>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <h6 {...{\n              \"id\": \"bad_user_input\",\n              \"style\": {\n                \"position\": \"relative\"\n              }\n            }}><a parentName=\"h6\" {...{\n                \"href\": \"#bad_user_input\",\n                \"aria-label\": \"bad_user_input permalink\",\n                \"className\": \"anchor before\"\n              }}><svg parentName=\"a\" {...{\n                  \"aria-hidden\": \"true\",\n                  \"focusable\": \"false\",\n                  \"height\": \"16\",\n                  \"version\": \"1.1\",\n                  \"viewBox\": \"0 0 16 16\",\n                  \"width\": \"16\"\n                }}><path parentName=\"svg\" {...{\n                    \"fillRule\": \"evenodd\",\n                    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n                  }}></path></svg></a><code parentName=\"h6\" {...{\n                \"className\": \"language-text\"\n              }}>{`BAD_USER_INPUT`}</code></h6>\n            <p><code parentName=\"p\" {...{\n                \"className\": \"language-text\"\n              }}>{`UserInputError`}</code></p>\n          </td>\n          <td>\n            <p>{`The GraphQL operation includes an invalid value for a field argument.`}</p>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <h6 {...{\n              \"id\": \"unauthenticated\",\n              \"style\": {\n                \"position\": \"relative\"\n              }\n            }}><a parentName=\"h6\" {...{\n                \"href\": \"#unauthenticated\",\n                \"aria-label\": \"unauthenticated permalink\",\n                \"className\": \"anchor before\"\n              }}><svg parentName=\"a\" {...{\n                  \"aria-hidden\": \"true\",\n                  \"focusable\": \"false\",\n                  \"height\": \"16\",\n                  \"version\": \"1.1\",\n                  \"viewBox\": \"0 0 16 16\",\n                  \"width\": \"16\"\n                }}><path parentName=\"svg\" {...{\n                    \"fillRule\": \"evenodd\",\n                    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n                  }}></path></svg></a><code parentName=\"h6\" {...{\n                \"className\": \"language-text\"\n              }}>{`UNAUTHENTICATED`}</code></h6>\n            <p><code parentName=\"p\" {...{\n                \"className\": \"language-text\"\n              }}>{`AuthenticationError`}</code></p>\n          </td>\n          <td>\n            <p>{`The server failed to authenticate with a required data source, such as a REST API.`}</p>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <h6 {...{\n              \"id\": \"forbidden\",\n              \"style\": {\n                \"position\": \"relative\"\n              }\n            }}><a parentName=\"h6\" {...{\n                \"href\": \"#forbidden\",\n                \"aria-label\": \"forbidden permalink\",\n                \"className\": \"anchor before\"\n              }}><svg parentName=\"a\" {...{\n                  \"aria-hidden\": \"true\",\n                  \"focusable\": \"false\",\n                  \"height\": \"16\",\n                  \"version\": \"1.1\",\n                  \"viewBox\": \"0 0 16 16\",\n                  \"width\": \"16\"\n                }}><path parentName=\"svg\" {...{\n                    \"fillRule\": \"evenodd\",\n                    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n                  }}></path></svg></a><code parentName=\"h6\" {...{\n                \"className\": \"language-text\"\n              }}>{`FORBIDDEN`}</code></h6>\n            <p><code parentName=\"p\" {...{\n                \"className\": \"language-text\"\n              }}>{`ForbiddenError`}</code></p>\n          </td>\n          <td>\n            <p>{`The server was unauthorized to access a required data source, such as a REST API.`}</p>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <h6 {...{\n              \"id\": \"persisted_query_not_found\",\n              \"style\": {\n                \"position\": \"relative\"\n              }\n            }}><a parentName=\"h6\" {...{\n                \"href\": \"#persisted_query_not_found\",\n                \"aria-label\": \"persisted_query_not_found permalink\",\n                \"className\": \"anchor before\"\n              }}><svg parentName=\"a\" {...{\n                  \"aria-hidden\": \"true\",\n                  \"focusable\": \"false\",\n                  \"height\": \"16\",\n                  \"version\": \"1.1\",\n                  \"viewBox\": \"0 0 16 16\",\n                  \"width\": \"16\"\n                }}><path parentName=\"svg\" {...{\n                    \"fillRule\": \"evenodd\",\n                    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n                  }}></path></svg></a><code parentName=\"h6\" {...{\n                \"className\": \"language-text\"\n              }}>{`PERSISTED_QUERY_NOT_FOUND`}</code></h6>\n            <p><code parentName=\"p\" {...{\n                \"className\": \"language-text\"\n              }}>{`PersistedQueryNotFoundError`}</code></p>\n          </td>\n          <td>\n            <p>{`A client sent the hash of a query string to execute via `}<a parentName=\"p\" {...{\n                \"href\": \"/v2/performance/apq/\"\n              }}>{`automatic persisted queries`}</a>{`, but the query was not in the APQ cache.`}</p>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <h6 {...{\n              \"id\": \"persisted_query_not_supported\",\n              \"style\": {\n                \"position\": \"relative\"\n              }\n            }}><a parentName=\"h6\" {...{\n                \"href\": \"#persisted_query_not_supported\",\n                \"aria-label\": \"persisted_query_not_supported permalink\",\n                \"className\": \"anchor before\"\n              }}><svg parentName=\"a\" {...{\n                  \"aria-hidden\": \"true\",\n                  \"focusable\": \"false\",\n                  \"height\": \"16\",\n                  \"version\": \"1.1\",\n                  \"viewBox\": \"0 0 16 16\",\n                  \"width\": \"16\"\n                }}><path parentName=\"svg\" {...{\n                    \"fillRule\": \"evenodd\",\n                    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n                  }}></path></svg></a><code parentName=\"h6\" {...{\n                \"className\": \"language-text\"\n              }}>{`PERSISTED_QUERY_NOT_SUPPORTED`}</code></h6>\n            <p><code parentName=\"p\" {...{\n                \"className\": \"language-text\"\n              }}>{`PersistedQueryNotSupportedError`}</code></p>\n          </td>\n          <td>\n            <p>{`A client sent the hash of a query string to execute via `}<a parentName=\"p\" {...{\n                \"href\": \"/v2/performance/apq/\"\n              }}>{`automatic persisted queries`}</a>{`, but the server has disabled APQ.`}</p>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <h6 {...{\n              \"id\": \"internal_server_error\",\n              \"style\": {\n                \"position\": \"relative\"\n              }\n            }}><a parentName=\"h6\" {...{\n                \"href\": \"#internal_server_error\",\n                \"aria-label\": \"internal_server_error permalink\",\n                \"className\": \"anchor before\"\n              }}><svg parentName=\"a\" {...{\n                  \"aria-hidden\": \"true\",\n                  \"focusable\": \"false\",\n                  \"height\": \"16\",\n                  \"version\": \"1.1\",\n                  \"viewBox\": \"0 0 16 16\",\n                  \"width\": \"16\"\n                }}><path parentName=\"svg\" {...{\n                    \"fillRule\": \"evenodd\",\n                    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n                  }}></path></svg></a><code parentName=\"h6\" {...{\n                \"className\": \"language-text\"\n              }}>{`INTERNAL_SERVER_ERROR`}</code></h6>\n            <p>{`None`}</p>\n          </td>\n          <td>\n            <p>{`An unspecified error occurred.`}</p>\n            <p>{`This is the default error code returned by any `}<code parentName=\"p\" {...{\n                \"className\": \"language-text\"\n              }}>{`ApolloError`}</code>{` instance that doesn't specify a different code.`}</p>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"throwing-errors\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#throwing-errors\",\n        \"aria-label\": \"throwing errors permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Throwing errors`}</h2>\n    <p>{`Apollo Server throws errors of most built-in types automatically when applicable. For example, it throws a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ValidationError`}</code>{` whenever an incoming operation isn't valid against the server's schema.`}</p>\n    <p>{`Your resolvers can also throw errors in situations where Apollo Server doesn't do so automatically.`}</p>\n    <p>{`For example, this resolver throws a `}<a parentName=\"p\" {...{\n        \"href\": \"#bad_user_input\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`UserInputError`}</code></a>{` if the integer value provided for a user's ID is less than `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`1`}</code>{`:`}</p>\n    <ExpansionPanel title=\"Click to expand\" mdxType=\"ExpansionPanel\">\n      <div {...{\n        \"className\": \"gatsby-highlight has-highlighted-lines\",\n        \"data-language\": \"js\"\n      }}><pre parentName=\"div\" {...{\n          \"style\": {\n            \"counterReset\": \"linenumber NaN\"\n          },\n          \"className\": \"language-js line-numbers\"\n        }}><code parentName=\"pre\" {...{\n            \"className\": \"language-js\"\n          }}><span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n  ApolloServer`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n  gql`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n  UserInputError\n`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`require`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`'apollo-server'`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`const`}</span>{` typeDefs `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` gql`}<span parentName=\"code\" {...{\n              \"className\": \"token template-string\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}></span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`  type Query {`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`    userWithID(id: ID!): User`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`  }`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}></span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`  type User {`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`    id: ID!`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`    name: String!`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`  }`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}></span><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span></span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`const`}</span>{` resolvers `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token literal-property property\"\n            }}>{`Query`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n`}<span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`    `}<span parentName=\"span\" {...{\n                \"className\": \"token function-variable function\"\n              }}>{`userWithID`}</span><span parentName=\"span\" {...{\n                \"className\": \"token operator\"\n              }}>{`:`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`(`}</span><span parentName=\"span\" {...{\n                \"className\": \"token parameter\"\n              }}>{`parent`}<span parentName=\"span\" {...{\n                  \"className\": \"token punctuation\"\n                }}>{`,`}</span>{` args`}<span parentName=\"span\" {...{\n                  \"className\": \"token punctuation\"\n                }}>{`,`}</span>{` context`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token operator\"\n              }}>{`=>`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`{`}</span></span><span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`      `}<span parentName=\"span\" {...{\n                \"className\": \"token keyword\"\n              }}>{`if`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`(`}</span>{`args`}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`.`}</span>{`id `}<span parentName=\"span\" {...{\n                \"className\": \"token operator\"\n              }}>{`<`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token number\"\n              }}>{`1`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`{`}</span></span><span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`        `}<span parentName=\"span\" {...{\n                \"className\": \"token keyword\"\n              }}>{`throw`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token keyword\"\n              }}>{`new`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token class-name\"\n              }}>{`UserInputError`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`(`}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`'Invalid argument value'`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`)`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`;`}</span></span><span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`      `}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`}`}</span></span><span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`      `}<span parentName=\"span\" {...{\n                \"className\": \"token comment\"\n              }}>{`// ...fetch correct user...`}</span></span><span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`    `}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`}`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`,`}</span></span>{`  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></code><span parentName=\"pre\" {...{\n            \"aria-hidden\": \"true\",\n            \"className\": \"line-numbers-rows\",\n            \"style\": {\n              \"whiteSpace\": \"normal\",\n              \"width\": \"auto\",\n              \"left\": \"0\"\n            }\n          }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    </ExpansionPanel>\n    <p>{`If a resolver throws an error that is `}<em parentName=\"p\">{`not`}</em>{` an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloError`}</code>{` instance, that error is converted to a generic `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloError`}</code>{` with an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`extensions`}</code>{` field that includes a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`stacktrace`}</code>{` and `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`code`}</code>{` (specifically `}<a parentName=\"p\" {...{\n        \"href\": \"#internal_server_error\"\n      }}><code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`INTERNAL_SERVER_ERROR`}</code></a>{`), along with other relevant error details.`}</p>\n    <h3 {...{\n      \"id\": \"including-custom-error-details\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#including-custom-error-details\",\n        \"aria-label\": \"including custom error details permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Including custom error details`}</h3>\n    <p>{`Whenever you throw an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloError`}</code>{`, you can add arbitrary fields to the error's `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`extensions`}</code>{` object to provide additional context to the client. You specify these fields in an object you provide to the error's constructor.`}</p>\n    <p>{`This example builds on the one above by adding the name of the GraphQL argument that was invalid:`}</p>\n    <ExpansionPanel title=\"Click to expand\" mdxType=\"ExpansionPanel\">\n      <div {...{\n        \"className\": \"gatsby-highlight has-highlighted-lines\",\n        \"data-language\": \"js\"\n      }}><pre parentName=\"div\" {...{\n          \"style\": {\n            \"counterReset\": \"linenumber NaN\"\n          },\n          \"className\": \"language-js line-numbers\"\n        }}><code parentName=\"pre\" {...{\n            \"className\": \"language-js\"\n          }}><span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n  ApolloServer`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n  gql`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n  UserInputError\n`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token function\"\n            }}>{`require`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`'apollo-server'`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`const`}</span>{` typeDefs `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` gql`}<span parentName=\"code\" {...{\n              \"className\": \"token template-string\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}></span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`  type Query {`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`    userWithID(id: ID!): User`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`  }`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}></span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`  type User {`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`    id: ID!`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`    name: String!`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`  }`}</span>{`\n`}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}></span><span parentName=\"span\" {...{\n                \"className\": \"token template-punctuation string\"\n              }}>{`\\``}</span></span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`const`}</span>{` resolvers `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token literal-property property\"\n            }}>{`Query`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token function-variable function\"\n            }}>{`userWithID`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"code\" {...{\n              \"className\": \"token parameter\"\n            }}>{`parent`}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`,`}</span>{` args`}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`,`}</span>{` context`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token keyword\"\n            }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`args`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span>{`id `}<span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`<`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token number\"\n            }}>{`1`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n`}<span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`        `}<span parentName=\"span\" {...{\n                \"className\": \"token keyword\"\n              }}>{`throw`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token keyword\"\n              }}>{`new`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token class-name\"\n              }}>{`UserInputError`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`(`}</span><span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`'Invalid argument value'`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`,`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`{`}</span></span><span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`          `}<span parentName=\"span\" {...{\n                \"className\": \"token literal-property property\"\n              }}>{`argumentName`}</span><span parentName=\"span\" {...{\n                \"className\": \"token operator\"\n              }}>{`:`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`'id'`}</span></span><span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`        `}<span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`}`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`)`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`;`}</span></span>{`      `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token comment\"\n            }}>{`// ...fetch correct user...`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></code><span parentName=\"pre\" {...{\n            \"aria-hidden\": \"true\",\n            \"className\": \"line-numbers-rows\",\n            \"style\": {\n              \"whiteSpace\": \"normal\",\n              \"width\": \"auto\",\n              \"left\": \"0\"\n            }\n          }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    </ExpansionPanel>\n    <p>{`This results in a response like the following:`}</p>\n    <ExpansionPanel title=\"Click to expand\" mdxType=\"ExpansionPanel\">\n      <div {...{\n        \"className\": \"gatsby-highlight has-highlighted-lines\",\n        \"data-language\": \"json\"\n      }}><pre parentName=\"div\" {...{\n          \"style\": {\n            \"counterReset\": \"linenumber NaN\"\n          },\n          \"className\": \"language-json line-numbers\"\n        }}><code parentName=\"pre\" {...{\n            \"className\": \"language-json\"\n          }}><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"errors\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`[`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"message\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"Invalid argument value\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"locations\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`[`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"line\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token number\"\n            }}>{`2`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"column\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token number\"\n            }}>{`3`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`]`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"path\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`[`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"userWithID\"`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`]`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"extensions\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n`}<span parentName=\"code\" {...{\n              \"className\": \"gatsby-highlight-code-line\"\n            }}>{`        `}<span parentName=\"span\" {...{\n                \"className\": \"token property\"\n              }}>{`\"argumentName\"`}</span><span parentName=\"span\" {...{\n                \"className\": \"token operator\"\n              }}>{`:`}</span>{` `}<span parentName=\"span\" {...{\n                \"className\": \"token string\"\n              }}>{`\"id\"`}</span><span parentName=\"span\" {...{\n                \"className\": \"token punctuation\"\n              }}>{`,`}</span></span>{`        `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"code\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"BAD_USER_INPUT\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"exception\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"argumentName\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"id\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token property\"\n            }}>{`\"stacktrace\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`[`}</span>{`\n            `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"UserInputError: Invalid argument value\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"    at userWithID (/my-project/index.js:25:13)\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n            `}<span parentName=\"code\" {...{\n              \"className\": \"token string\"\n            }}>{`\"    ...more lines...\"`}</span><span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{`\n          `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`]`}</span>{`\n        `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n      `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n    `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span>{`\n  `}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`]`}</span>{`\n`}<span parentName=\"code\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></code><span parentName=\"pre\" {...{\n            \"aria-hidden\": \"true\",\n            \"className\": \"line-numbers-rows\",\n            \"style\": {\n              \"whiteSpace\": \"normal\",\n              \"width\": \"auto\",\n              \"left\": \"0\"\n            }\n          }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    </ExpansionPanel>\n    <h2 {...{\n      \"id\": \"custom-errors\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#custom-errors\",\n        \"aria-label\": \"custom errors permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Custom errors`}</h2>\n    <p>{`You can create a custom error by defining your own subclass of `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloError`}</code>{`, or by initializing an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloError`}</code>{` object directly:`}</p>\n    <h4 {...{\n      \"id\": \"subclass-with-custom-error-code\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#subclass-with-custom-error-code\",\n        \"aria-label\": \"subclass with custom error code permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Subclass with custom error code`}</h4>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"ts\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-ts line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-ts\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`import`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloError `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`from`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'apollo-server-errors'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`export`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`class`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`MyError`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`extends`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloError`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`constructor`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`message`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token builtin\"\n          }}>{`string`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`super`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`message`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'MY_ERROR_CODE'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n    Object`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`defineProperty`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`this`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'name'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` value`}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'MyError'`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`throw`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`MyError`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'My error message'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h4 {...{\n      \"id\": \"direct-initialization\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#direct-initialization\",\n        \"aria-label\": \"direct initialization permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Direct initialization`}</h4>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"ts\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-ts line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-ts\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`import`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloError `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`from`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'apollo-server-errors'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`throw`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloError`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'My error message'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'MY_ERROR_CODE'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` myCustomDetailsObject`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <h2 {...{\n      \"id\": \"omitting-or-including-stacktrace\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#omitting-or-including-stacktrace\",\n        \"aria-label\": \"omitting or including stacktrace permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Omitting or including `}<code parentName=\"h2\" {...{\n        \"className\": \"language-text\"\n      }}>{`stacktrace`}</code></h2>\n    <p>{`The `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`exception.stacktrace`}</code>{` error field is useful while developing and debugging your server, but you probably don't want to expose it to clients in production.`}</p>\n    <p>{`By default, Apollo Server `}<em parentName=\"p\">{`omits`}</em>{` the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`exception.stacktrace`}</code>{` field if the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`NODE_ENV`}</code>{` environment variable is set to either `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`production`}</code>{` or `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`test`}</code>{`.`}</p>\n    <p>{`You can override this default behavior by passing the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`debug`}</code>{` option to `}<a parentName=\"p\" {...{\n        \"href\": \"/v2/api/apollo-server/#constructor\"\n      }}>{`the constructor of `}<code parentName=\"a\" {...{\n          \"className\": \"language-text\"\n        }}>{`ApolloServer`}</code></a>{`. If `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`debug`}</code>{` is `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`true`}</code>{`, `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`exception.stacktrace`}</code>{` is always included. If it's `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`false`}</code>{`, `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`exception.stacktrace`}</code>{` is always omitted.`}</p>\n    <p>{`Note that when `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`exception.stacktrace`}</code>{` is omitted, it's also unavailable to your application. To log error `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`stacktrace`}</code>{`s without including them in responses to clients, see `}<a parentName=\"p\" {...{\n        \"href\": \"#masking-and-logging-errors\"\n      }}>{`Masking and logging errors`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"masking-and-logging-errors\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h2\" {...{\n        \"href\": \"#masking-and-logging-errors\",\n        \"aria-label\": \"masking and logging errors permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Masking and logging errors`}</h2>\n    <p>{`You can edit Apollo Server error details before they're passed to a client or reported to Apollo Studio. This enables you to omit sensitive or irrelevant data.`}</p>\n    <h3 {...{\n      \"id\": \"for-client-responses\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#for-client-responses\",\n        \"aria-label\": \"for client responses permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`For client responses`}</h3>\n    <p>{`The `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloServer`}</code>{` constructor accepts a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`formatError`}</code>{` function that is run on each error before it's passed back to the client. You can use this function to mask particular errors, as well as for logging.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`The `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`formatError`}</code>{` function does `}<em parentName=\"p\">{`not`}</em>{` modify errors that are sent to Apollo Studio as part of metrics reporting. See `}<a parentName=\"p\" {...{\n          \"href\": \"#for-apollo-studio-reporting\"\n        }}>{`For Apollo Studio reporting`}</a>{`.`}</p>\n    </blockquote>\n    <p>{`This example returns a more generic error whenever the original error's message begins with `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Database Error: `}</code>{`:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight has-highlighted-lines\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` server `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloServer`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  typeDefs`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  resolvers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`  `}<span parentName=\"span\" {...{\n              \"className\": \"token function-variable function\"\n            }}>{`formatError`}</span><span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`:`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token parameter\"\n            }}>{`err`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`=>`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// Don't give the specific errors to the client.`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`if`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span>{`message`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span><span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`startsWith`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token string\"\n            }}>{`'Database Error: '`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`new`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token class-name\"\n            }}>{`Error`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token string\"\n            }}>{`'Internal server error'`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// Otherwise return the original error. The error can also`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// be manipulated in other ways, as long as it's returned.`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span>{`  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n\nserver`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`listen`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`then`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span>{` url `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=>`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  console`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span><span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`log`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token template-string\"\n          }}><span parentName=\"span\" {...{\n              \"className\": \"token template-punctuation string\"\n            }}>{`\\``}</span><span parentName=\"span\" {...{\n              \"className\": \"token string\"\n            }}>{`🚀 Server ready at `}</span><span parentName=\"span\" {...{\n              \"className\": \"token interpolation\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token interpolation-punctuation punctuation\"\n              }}>{`\\${`}</span>{`url`}<span parentName=\"span\" {...{\n                \"className\": \"token interpolation-punctuation punctuation\"\n              }}>{`}`}</span></span><span parentName=\"span\" {...{\n              \"className\": \"token template-punctuation string\"\n            }}>{`\\``}</span></span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`The error instance received by `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`formatError`}</code>{` (a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`GraphQLError`}</code>{`) contains an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`originalError`}</code>{` property, which represents the original error thrown in the resolver. You can use this property to obtain the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`instanceof`}</code>{` the error class, such as `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`AuthenticationError`}</code>{` or `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ValidationError`}</code>{`:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}>{`  `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`formatError`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token parameter\"\n          }}>{`err`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`if`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span>{`err`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`.`}</span>{`originalError `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`instanceof`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`AuthenticationError`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n      `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`return`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`Error`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`'Different authentication error message!'`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <blockquote>\n      <p parentName=\"blockquote\">{`To make context-specific adjustments to the error received by `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`formatError`}</code>{` (such as localization or personalization), consider `}<a parentName=\"p\" {...{\n          \"href\": \"/v2/integrations/plugins/\"\n        }}>{`creating a plugin`}</a>{` that uses the `}<a parentName=\"p\" {...{\n          \"href\": \"/v2/integrations/plugins/#didencountererrors\"\n        }}><code parentName=\"a\" {...{\n            \"className\": \"language-text\"\n          }}>{`didEncounterErrors`}</code>{` lifecycle event`}</a>{` to attach additional properties to the error. These properties can be accessed from `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`formatError`}</code>{`.`}</p>\n    </blockquote>\n    <h3 {...{\n      \"id\": \"for-apollo-studio-reporting\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h3\" {...{\n        \"href\": \"#for-apollo-studio-reporting\",\n        \"aria-label\": \"for apollo studio reporting permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`For Apollo Studio reporting`}</h3>\n    <p>{`You can use Apollo Studio to analyze your server's error rates. If you connect Apollo Server to Studio, all errors are sent to Studio by default. If you `}<em parentName=\"p\">{`don't`}</em>{` want certain error information to be sent to Studio (either because the error is unimportant or because certain information is confidential), you can modify or redact errors entirely before they're transmitted.`}</p>\n    <p>{`To accomplish this, you can provide a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`rewriteError`}</code>{` function to the `}<a parentName=\"p\" {...{\n        \"href\": \"/v2/api/plugin/usage-reporting/\"\n      }}>{`usage reporting plugin`}</a>{`.`}</p>\n    <blockquote>\n      <p parentName=\"blockquote\">{`The usage reporting plugin is installed automatically with its default configuration if you provide an Apollo API key to Apollo Server. To define a custom `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`rewriteError`}</code>{` function, you need to install the plugin explicitly with a custom configuration, as shown in examples below.`}</p>\n    </blockquote>\n    <p>{`Your `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`rewriteError`}</code>{` function is called for each error (a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`GraphQLError`}</code>{` or an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`ApolloError`}</code>{`) to be reported to Studio. The error is provided as the function's first argument. The function can either:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Return a modified form of the error (e.g., by changing the `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`err.message`}</code>{` to remove potentially sensitive information)`}</li>\n      <li parentName=\"ul\">{`Return `}<code parentName=\"li\" {...{\n          \"className\": \"language-text\"\n        }}>{`null`}</code>{` to prevent the error from being reported entirely`}</li>\n    </ul>\n    <blockquote>\n      <p parentName=\"blockquote\"><strong parentName=\"p\">{`For federated graphs`}</strong>{`, instead define `}<code parentName=\"p\" {...{\n          \"className\": \"language-text\"\n        }}>{`rewriteError`}</code>{` in each subgraph's `}<a parentName=\"p\" {...{\n          \"href\": \"/v2/api/plugin/inline-trace/#rewriteerror\"\n        }}>{`inline trace plugin`}</a>{`. Do not define it in the gateway.`}</p>\n    </blockquote>\n    <h4 {...{\n      \"id\": \"example-ignoring-common-low-severity-errors\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#example-ignoring-common-low-severity-errors\",\n        \"aria-label\": \"example ignoring common low severity errors permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Example: Ignoring common low-severity errors`}</h4>\n    <p>{`Let's say our server is `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`throw`}</code>{`ing an `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`AuthenticationError`}</code>{` whenever an incorrect password is provided. We can avoid reporting these errors to Apollo Studio by defining `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`rewriteError`}</code>{`, like so:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight has-highlighted-lines\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloServer`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{` AuthenticationError `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"apollo-server\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloServerPluginUsageReporting `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"apollo-server-core\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` server `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloServer`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  typeDefs`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  resolvers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`plugins`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`ApolloServerPluginUsageReporting`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`rewriteError`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token parameter\"\n            }}>{`err`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// Return \\`null\\` to avoid reporting \\`AuthenticationError\\`s`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`if`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`err `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`instanceof`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token class-name\"\n            }}>{`AuthenticationError`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`          `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`null`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// All other errors will be reported.`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span></span>{`  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`This example configuration ensures that any `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`AuthenticationError`}</code>{` that's thrown within a resolver is only reported to the client, and never sent to Apollo Studio. All other errors are transmitted to Studio normally.`}</p>\n    <h4 {...{\n      \"id\": \"example-filtering-errors-based-on-other-properties\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#example-filtering-errors-based-on-other-properties\",\n        \"aria-label\": \"example filtering errors based on other properties permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Example: Filtering errors based on other properties`}</h4>\n    <p>{`When generating an error (e.g., `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`new ApolloError(\"Failure!\")`}</code>{`), the error's `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`message`}</code>{` is the most common property (in this case it's `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Failure!`}</code>{`). However, any number of properties can be attached to the error (such as a `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`code`}</code>{` property).`}</p>\n    <p>{`We can check these properties when determining whether an error should be reported to Apollo Studio using the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`rewriteError`}</code>{` function as follows:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight has-highlighted-lines\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloServer `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"apollo-server\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloServerPluginUsageReporting `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"apollo-server-core\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` server `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloServer`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  typeDefs`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  resolvers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`plugins`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`ApolloServerPluginUsageReporting`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`rewriteError`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token parameter\"\n            }}>{`err`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// Using a more stable, known error property (e.g. \\`err.code\\`) would be`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// more defensive, however checking the \\`message\\` might serve most needs!`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`if`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span>{`err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span>{`message `}<span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`&&`}</span>{` err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span>{`message`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span><span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`startsWith`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token string\"\n            }}>{`\"Known error message\"`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`          `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`null`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// All other errors should still be reported!`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span>{`    `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`This example configuration ensures that any error that starts with `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`Known error message`}</code>{` is not transmitted to Apollo Studio, but all other errors are sent as normal.`}</p>\n    <h4 {...{\n      \"id\": \"example-redacting-the-error-message\",\n      \"style\": {\n        \"position\": \"relative\"\n      }\n    }}><a parentName=\"h4\" {...{\n        \"href\": \"#example-redacting-the-error-message\",\n        \"aria-label\": \"example redacting the error message permalink\",\n        \"className\": \"anchor before\"\n      }}><svg parentName=\"a\" {...{\n          \"aria-hidden\": \"true\",\n          \"focusable\": \"false\",\n          \"height\": \"16\",\n          \"version\": \"1.1\",\n          \"viewBox\": \"0 0 16 16\",\n          \"width\": \"16\"\n        }}><path parentName=\"svg\" {...{\n            \"fillRule\": \"evenodd\",\n            \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n          }}></path></svg></a>{`Example: Redacting the error message`}</h4>\n    <p>{`If it is necessary to change an error prior to reporting it to Apollo Studio (for example, if there is personally identifiable information in the error `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`message`}</code>{`), the `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`rewriteError`}</code>{` function can also help.`}</p>\n    <p>{`Consider an example where the error contains a piece of information like an API key:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`throw`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloError`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"The x-api-key:12345 doesn't have sufficient privileges.\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span></span></pre></div>\n    <p>{`The `}<code parentName=\"p\" {...{\n        \"className\": \"language-text\"\n      }}>{`rewriteError`}</code>{` function can ensure that such information is not sent to Apollo Studio and potentially revealed outside its intended scope:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight has-highlighted-lines\",\n      \"data-language\": \"js\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-js line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-js\"\n        }}><span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloServer `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"apollo-server\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{` ApolloServerPluginUsageReporting `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token function\"\n          }}>{`require`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token string\"\n          }}>{`\"apollo-server-core\"`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`const`}</span>{` server `}<span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`=`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token keyword\"\n          }}>{`new`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token class-name\"\n          }}>{`ApolloServer`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`(`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`{`}</span>{`\n  typeDefs`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  resolvers`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n  `}<span parentName=\"code\" {...{\n            \"className\": \"token literal-property property\"\n          }}>{`plugins`}</span><span parentName=\"code\" {...{\n            \"className\": \"token operator\"\n          }}>{`:`}</span>{` `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`[`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`ApolloServerPluginUsageReporting`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`rewriteError`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token parameter\"\n            }}>{`err`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`{`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token comment\"\n            }}>{`// Make sure that a specific pattern is removed from all error messages.`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span>{`message `}<span parentName=\"span\" {...{\n              \"className\": \"token operator\"\n            }}>{`=`}</span>{` err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span>{`message`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`.`}</span><span parentName=\"span\" {...{\n              \"className\": \"token function\"\n            }}>{`replace`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`(`}</span><span parentName=\"span\" {...{\n              \"className\": \"token regex\"\n            }}><span parentName=\"span\" {...{\n                \"className\": \"token regex-delimiter\"\n              }}>{`/`}</span><span parentName=\"span\" {...{\n                \"className\": \"token regex-source language-regex\"\n              }}>{`x-api-key:[A-Z0-9-]+`}</span><span parentName=\"span\" {...{\n                \"className\": \"token regex-delimiter\"\n              }}>{`/`}</span></span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span>{` `}<span parentName=\"span\" {...{\n              \"className\": \"token string\"\n            }}>{`\"REDACTED\"`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`        `}<span parentName=\"span\" {...{\n              \"className\": \"token keyword\"\n            }}>{`return`}</span>{` err`}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`;`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`      `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span></span><span parentName=\"code\" {...{\n            \"className\": \"gatsby-highlight-code-line\"\n          }}>{`    `}<span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`}`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`)`}</span><span parentName=\"span\" {...{\n              \"className\": \"token punctuation\"\n            }}>{`,`}</span></span>{`  `}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`]`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`,`}</span>{`\n`}<span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`}`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`)`}</span><span parentName=\"code\" {...{\n            \"className\": \"token punctuation\"\n          }}>{`;`}</span></code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span><span parentName=\"span\"></span></span></pre></div>\n    <p>{`In this case, the error above is reported to Apollo Studio as:`}</p>\n    <div {...{\n      \"className\": \"gatsby-highlight\",\n      \"data-language\": \"text\"\n    }}><pre parentName=\"div\" {...{\n        \"style\": {\n          \"counterReset\": \"linenumber NaN\"\n        },\n        \"className\": \"language-text line-numbers\"\n      }}><code parentName=\"pre\" {...{\n          \"className\": \"language-text\"\n        }}>{`The REDACTED doesn't have sufficient privileges.`}</code><span parentName=\"pre\" {...{\n          \"aria-hidden\": \"true\",\n          \"className\": \"line-numbers-rows\",\n          \"style\": {\n            \"whiteSpace\": \"normal\",\n            \"width\": \"auto\",\n            \"left\": \"0\"\n          }\n        }}><span parentName=\"span\"></span></span></pre></div>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}