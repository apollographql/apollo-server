{"expireTime":9007200901521028000,"key":"transformer-remark-markdown-ast-f13be1f11bb33cee5056833f3c3794f0-gatsby-remark-autolink-headersgatsby-remark-copy-linked-filesgatsby-remark-mermaidgatsby-remark-code-titlesgatsby-remark-prismjsgatsby-remark-rewrite-relative-linksgatsby-remark-check-links-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":"Apollo Server enables you to define cache control settings (","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":61,"offset":61}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":2,"column":61,"offset":61},"end":{"line":2,"column":69,"offset":69}}},{"type":"text","value":" and ","position":{"start":{"line":2,"column":69,"offset":69},"end":{"line":2,"column":74,"offset":74}}},{"type":"html","value":"<code class=\"language-text\">scope</code>","position":{"start":{"line":2,"column":74,"offset":74},"end":{"line":2,"column":81,"offset":81}}},{"type":"text","value":") for each field in your schema:","position":{"start":{"line":2,"column":81,"offset":81},"end":{"line":2,"column":113,"offset":113}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":113,"offset":113}}},{"type":"html","lang":"graphql{5,7}","meta":null,"value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Post</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">ID</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">title</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span>\n  <span class=\"token attr-name\">author</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Author</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token attr-name\">votes</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Int</span> <span class=\"token directive function\">@cacheControl</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">maxAge</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></span>  <span class=\"token attr-name\">comments</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Comment</span><span class=\"token punctuation\">]</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token attr-name\">readByCurrentUser</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Boolean</span><span class=\"token operator\">!</span> <span class=\"token directive function\">@cacheControl</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">maxAge</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">scope</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">PRIVATE</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":4,"column":1,"offset":115},"end":{"line":13,"column":4,"offset":324}}},{"type":"paragraph","children":[{"type":"text","value":"When Apollo Server resolves an operation, it calculates the result's correct cache behavior based on the ","position":{"start":{"line":15,"column":2,"offset":327},"end":{"line":15,"column":107,"offset":432}}},{"type":"emphasis","children":[{"type":"text","value":"most restrictive","position":{"start":{"line":15,"column":108,"offset":433},"end":{"line":15,"column":124,"offset":449}}}],"position":{"start":{"line":15,"column":107,"offset":432},"end":{"line":15,"column":125,"offset":450}}},{"type":"text","value":" settings among the result's fields. You can then use this calculation to support any form of cache implementation you want, such as by providing it to your CDN via a ","position":{"start":{"line":15,"column":125,"offset":450},"end":{"line":15,"column":292,"offset":617}}},{"type":"html","value":"<code class=\"language-text\">Cache-Control</code>","position":{"start":{"line":15,"column":292,"offset":617},"end":{"line":15,"column":307,"offset":632}}},{"type":"text","value":" header.","position":{"start":{"line":15,"column":307,"offset":632},"end":{"line":15,"column":315,"offset":640}}}],"position":{"start":{"line":15,"column":2,"offset":327},"end":{"line":15,"column":315,"offset":640}}},{"type":"paragraph","children":[{"type":"text","value":"You can define field-level cache settings ","position":{"start":{"line":17,"column":1,"offset":642},"end":{"line":17,"column":43,"offset":684}}},{"type":"link","title":null,"url":"#in-your-schema-static","children":[{"type":"text","value":"statically in your schema definition","position":{"start":{"line":17,"column":44,"offset":685},"end":{"line":17,"column":80,"offset":721}}}],"position":{"start":{"line":17,"column":43,"offset":684},"end":{"line":17,"column":105,"offset":746}}},{"type":"text","value":" (as shown above) or ","position":{"start":{"line":17,"column":105,"offset":746},"end":{"line":17,"column":126,"offset":767}}},{"type":"link","title":null,"url":"#in-your-resolvers-dynamic","children":[{"type":"text","value":"dynamically in your resolvers","position":{"start":{"line":17,"column":127,"offset":768},"end":{"line":17,"column":156,"offset":797}}}],"position":{"start":{"line":17,"column":126,"offset":767},"end":{"line":17,"column":185,"offset":826}}},{"type":"text","value":".","position":{"start":{"line":17,"column":185,"offset":826},"end":{"line":17,"column":186,"offset":827}}}],"position":{"start":{"line":17,"column":1,"offset":642},"end":{"line":17,"column":186,"offset":827}}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#field-settings","title":null,"children":[],"data":{"hProperties":{"aria-label":"field settings permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Field settings","position":{"start":{"line":19,"column":4,"offset":832},"end":{"line":19,"column":18,"offset":846}}}],"position":{"start":{"line":19,"column":1,"offset":829},"end":{"line":19,"column":18,"offset":846}},"data":{"id":"field-settings","htmlAttributes":{"id":"field-settings"},"hProperties":{"id":"field-settings","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"When caching operation results, it's important to understand:","position":{"start":{"line":21,"column":1,"offset":848},"end":{"line":21,"column":62,"offset":909}}}],"position":{"start":{"line":21,"column":1,"offset":848},"end":{"line":21,"column":62,"offset":909}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Which fields of your schema can be cached safely","position":{"start":{"line":23,"column":3,"offset":913},"end":{"line":23,"column":51,"offset":961}}}],"position":{"start":{"line":23,"column":3,"offset":913},"end":{"line":23,"column":51,"offset":961}}}],"position":{"start":{"line":23,"column":1,"offset":911},"end":{"line":23,"column":51,"offset":961}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"How long a cached value should remain valid","position":{"start":{"line":24,"column":3,"offset":964},"end":{"line":24,"column":46,"offset":1007}}}],"position":{"start":{"line":24,"column":3,"offset":964},"end":{"line":24,"column":46,"offset":1007}}}],"position":{"start":{"line":24,"column":1,"offset":962},"end":{"line":24,"column":46,"offset":1007}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Whether a cached value is global or user-specific","position":{"start":{"line":25,"column":3,"offset":1010},"end":{"line":25,"column":52,"offset":1059}}}],"position":{"start":{"line":25,"column":3,"offset":1010},"end":{"line":25,"column":52,"offset":1059}}}],"position":{"start":{"line":25,"column":1,"offset":1008},"end":{"line":25,"column":52,"offset":1059}}}],"position":{"start":{"line":23,"column":1,"offset":911},"end":{"line":25,"column":52,"offset":1059}}},{"type":"paragraph","children":[{"type":"text","value":"These details can vary significantly, even among the fields of a single object type. You can specify these details statically in your schema definition or dynamically in your resolvers.","position":{"start":{"line":27,"column":1,"offset":1061},"end":{"line":27,"column":186,"offset":1246}}}],"position":{"start":{"line":27,"column":1,"offset":1061},"end":{"line":27,"column":186,"offset":1246}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#in-your-schema-static","title":null,"children":[],"data":{"hProperties":{"aria-label":"in your schema static permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"In your schema (static)","position":{"start":{"line":29,"column":5,"offset":1252},"end":{"line":29,"column":28,"offset":1275}}}],"position":{"start":{"line":29,"column":1,"offset":1248},"end":{"line":29,"column":28,"offset":1275}},"data":{"id":"in-your-schema-static","htmlAttributes":{"id":"in-your-schema-static"},"hProperties":{"id":"in-your-schema-static","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"Apollo Server defines the ","position":{"start":{"line":31,"column":1,"offset":1277},"end":{"line":31,"column":27,"offset":1303}}},{"type":"html","value":"<code class=\"language-text\">@cacheControl</code>","position":{"start":{"line":31,"column":27,"offset":1303},"end":{"line":31,"column":42,"offset":1318}}},{"type":"text","value":" directive, which you can use in your schema to define caching behavior either for a ","position":{"start":{"line":31,"column":42,"offset":1318},"end":{"line":31,"column":127,"offset":1403}}},{"type":"link","title":null,"url":"#field-level-definitions","children":[{"type":"text","value":"single field","position":{"start":{"line":31,"column":128,"offset":1404},"end":{"line":31,"column":140,"offset":1416}}}],"position":{"start":{"line":31,"column":127,"offset":1403},"end":{"line":31,"column":167,"offset":1443}}},{"type":"text","value":", or for ","position":{"start":{"line":31,"column":167,"offset":1443},"end":{"line":31,"column":176,"offset":1452}}},{"type":"emphasis","children":[{"type":"text","value":"all","position":{"start":{"line":31,"column":177,"offset":1453},"end":{"line":31,"column":180,"offset":1456}}}],"position":{"start":{"line":31,"column":176,"offset":1452},"end":{"line":31,"column":181,"offset":1457}}},{"type":"text","value":" fields that return a particular ","position":{"start":{"line":31,"column":181,"offset":1457},"end":{"line":31,"column":214,"offset":1490}}},{"type":"link","title":null,"url":"#type-level-definitions","children":[{"type":"text","value":"type","position":{"start":{"line":31,"column":215,"offset":1491},"end":{"line":31,"column":219,"offset":1495}}}],"position":{"start":{"line":31,"column":214,"offset":1490},"end":{"line":31,"column":245,"offset":1521}}},{"type":"text","value":".","position":{"start":{"line":31,"column":245,"offset":1521},"end":{"line":31,"column":246,"offset":1522}}}],"position":{"start":{"line":31,"column":1,"offset":1277},"end":{"line":31,"column":246,"offset":1522}}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":33,"column":1,"offset":1524},"end":{"line":33,"column":5,"offset":1528}}},{"type":"html","value":"<code class=\"language-text\">@cacheControl</code>","position":{"start":{"line":33,"column":5,"offset":1528},"end":{"line":33,"column":20,"offset":1543}}},{"type":"text","value":" directive accepts the following arguments:","position":{"start":{"line":33,"column":20,"offset":1543},"end":{"line":33,"column":63,"offset":1586}}}],"position":{"start":{"line":33,"column":1,"offset":1524},"end":{"line":33,"column":63,"offset":1586}}},{"type":"table","align":[null,null],"children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Name","position":{"start":{"line":35,"column":3,"offset":1590},"end":{"line":35,"column":7,"offset":1594}}}],"position":{"start":{"line":35,"column":1,"offset":1588},"end":{"line":35,"column":9,"offset":1596}}},{"type":"tableCell","children":[{"type":"text","value":"Description","position":{"start":{"line":35,"column":10,"offset":1597},"end":{"line":35,"column":21,"offset":1608}}}],"position":{"start":{"line":35,"column":9,"offset":1596},"end":{"line":35,"column":23,"offset":1610}}}],"position":{"start":{"line":35,"column":1,"offset":1588},"end":{"line":35,"column":23,"offset":1610}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":37,"column":3,"offset":1636},"end":{"line":37,"column":11,"offset":1644}}}],"position":{"start":{"line":37,"column":1,"offset":1634},"end":{"line":37,"column":13,"offset":1646}}},{"type":"tableCell","children":[{"type":"text","value":"The maximum amount of time the field's cached value is valid, in seconds. The default value is ","position":{"start":{"line":37,"column":14,"offset":1647},"end":{"line":37,"column":109,"offset":1742}}},{"type":"html","value":"<code class=\"language-text\">0</code>","position":{"start":{"line":37,"column":109,"offset":1742},"end":{"line":37,"column":112,"offset":1745}}},{"type":"text","value":", but you can ","position":{"start":{"line":37,"column":112,"offset":1745},"end":{"line":37,"column":126,"offset":1759}}},{"type":"link","title":null,"url":"#setting-the-default-maxage","children":[{"type":"text","value":"set a different default","position":{"start":{"line":37,"column":127,"offset":1760},"end":{"line":37,"column":150,"offset":1783}}}],"position":{"start":{"line":37,"column":126,"offset":1759},"end":{"line":37,"column":180,"offset":1813}}},{"type":"text","value":".","position":{"start":{"line":37,"column":180,"offset":1813},"end":{"line":37,"column":181,"offset":1814}}}],"position":{"start":{"line":37,"column":13,"offset":1646},"end":{"line":37,"column":183,"offset":1816}}}],"position":{"start":{"line":37,"column":1,"offset":1634},"end":{"line":37,"column":183,"offset":1816}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"html","value":"<code class=\"language-text\">scope</code>","position":{"start":{"line":38,"column":3,"offset":1819},"end":{"line":38,"column":10,"offset":1826}}}],"position":{"start":{"line":38,"column":1,"offset":1817},"end":{"line":38,"column":12,"offset":1828}}},{"type":"tableCell","children":[{"type":"text","value":"If ","position":{"start":{"line":38,"column":13,"offset":1829},"end":{"line":38,"column":16,"offset":1832}}},{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":38,"column":16,"offset":1832},"end":{"line":38,"column":25,"offset":1841}}},{"type":"text","value":", the field's value is specific to a single user. The default value is ","position":{"start":{"line":38,"column":25,"offset":1841},"end":{"line":38,"column":96,"offset":1912}}},{"type":"html","value":"<code class=\"language-text\">PUBLIC</code>","position":{"start":{"line":38,"column":96,"offset":1912},"end":{"line":38,"column":104,"offset":1920}}},{"type":"text","value":". See also ","position":{"start":{"line":38,"column":104,"offset":1920},"end":{"line":38,"column":115,"offset":1931}}},{"type":"link","title":null,"url":"#identifying-users-for-private-responses","children":[{"type":"text","value":"Identifying users for ","position":{"start":{"line":38,"column":116,"offset":1932},"end":{"line":38,"column":138,"offset":1954}}},{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":38,"column":138,"offset":1954},"end":{"line":38,"column":147,"offset":1963}}},{"type":"text","value":" responses","position":{"start":{"line":38,"column":147,"offset":1963},"end":{"line":38,"column":157,"offset":1973}}}],"position":{"start":{"line":38,"column":115,"offset":1931},"end":{"line":38,"column":200,"offset":2016}}},{"type":"text","value":".","position":{"start":{"line":38,"column":200,"offset":2016},"end":{"line":38,"column":201,"offset":2017}}}],"position":{"start":{"line":38,"column":12,"offset":1828},"end":{"line":38,"column":203,"offset":2019}}}],"position":{"start":{"line":38,"column":1,"offset":1817},"end":{"line":38,"column":203,"offset":2019}}}],"position":{"start":{"line":35,"column":1,"offset":1588},"end":{"line":38,"column":203,"offset":2019}}},{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":40,"column":1,"offset":2021},"end":{"line":40,"column":5,"offset":2025}}},{"type":"html","value":"<code class=\"language-text\">@cacheControl</code>","position":{"start":{"line":40,"column":5,"offset":2025},"end":{"line":40,"column":20,"offset":2040}}},{"type":"text","value":" for fields that should always be cached with the same settings. If caching settings might change at runtime, instead use the ","position":{"start":{"line":40,"column":20,"offset":2040},"end":{"line":40,"column":146,"offset":2166}}},{"type":"link","title":null,"url":"#in-your-resolvers-dynamic","children":[{"type":"text","value":"dynamic method","position":{"start":{"line":40,"column":147,"offset":2167},"end":{"line":40,"column":161,"offset":2181}}}],"position":{"start":{"line":40,"column":146,"offset":2166},"end":{"line":40,"column":190,"offset":2210}}},{"type":"text","value":".","position":{"start":{"line":40,"column":190,"offset":2210},"end":{"line":40,"column":191,"offset":2211}}}],"position":{"start":{"line":40,"column":1,"offset":2021},"end":{"line":40,"column":191,"offset":2211}}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Important:","position":{"start":{"line":42,"column":5,"offset":2217},"end":{"line":42,"column":15,"offset":2227}}}],"position":{"start":{"line":42,"column":3,"offset":2215},"end":{"line":42,"column":17,"offset":2229}}},{"type":"text","value":" Apollo Server assigns each GraphQL response a ","position":{"start":{"line":42,"column":17,"offset":2229},"end":{"line":42,"column":64,"offset":2276}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":42,"column":64,"offset":2276},"end":{"line":42,"column":72,"offset":2284}}},{"type":"text","value":" equal to the ","position":{"start":{"line":42,"column":72,"offset":2284},"end":{"line":42,"column":86,"offset":2298}}},{"type":"emphasis","children":[{"type":"text","value":"lowest","position":{"start":{"line":42,"column":87,"offset":2299},"end":{"line":42,"column":93,"offset":2305}}}],"position":{"start":{"line":42,"column":86,"offset":2298},"end":{"line":42,"column":94,"offset":2306}}},{"type":"text","value":" ","position":{"start":{"line":42,"column":94,"offset":2306},"end":{"line":42,"column":95,"offset":2307}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":42,"column":95,"offset":2307},"end":{"line":42,"column":103,"offset":2315}}},{"type":"text","value":" among included fields. If any field has a ","position":{"start":{"line":42,"column":103,"offset":2315},"end":{"line":42,"column":146,"offset":2358}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":42,"column":146,"offset":2358},"end":{"line":42,"column":154,"offset":2366}}},{"type":"text","value":" of ","position":{"start":{"line":42,"column":154,"offset":2366},"end":{"line":42,"column":158,"offset":2370}}},{"type":"html","value":"<code class=\"language-text\">0</code>","position":{"start":{"line":42,"column":158,"offset":2370},"end":{"line":42,"column":161,"offset":2373}}},{"type":"text","value":", the response will not be cached at all.","position":{"start":{"line":42,"column":161,"offset":2373},"end":{"line":42,"column":202,"offset":2414}}}],"position":{"start":{"line":42,"column":3,"offset":2215},"end":{"line":42,"column":202,"offset":2414}}},{"type":"paragraph","children":[{"type":"text","value":"Similarly, Apollo Server sets a response's ","position":{"start":{"line":44,"column":3,"offset":2419},"end":{"line":44,"column":46,"offset":2462}}},{"type":"html","value":"<code class=\"language-text\">scope</code>","position":{"start":{"line":44,"column":46,"offset":2462},"end":{"line":44,"column":53,"offset":2469}}},{"type":"text","value":" to ","position":{"start":{"line":44,"column":53,"offset":2469},"end":{"line":44,"column":57,"offset":2473}}},{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":44,"column":57,"offset":2473},"end":{"line":44,"column":66,"offset":2482}}},{"type":"text","value":" if ","position":{"start":{"line":44,"column":66,"offset":2482},"end":{"line":44,"column":70,"offset":2486}}},{"type":"emphasis","children":[{"type":"text","value":"any","position":{"start":{"line":44,"column":71,"offset":2487},"end":{"line":44,"column":74,"offset":2490}}}],"position":{"start":{"line":44,"column":70,"offset":2486},"end":{"line":44,"column":75,"offset":2491}}},{"type":"text","value":" included field is ","position":{"start":{"line":44,"column":75,"offset":2491},"end":{"line":44,"column":94,"offset":2510}}},{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":44,"column":94,"offset":2510},"end":{"line":44,"column":103,"offset":2519}}},{"type":"text","value":".","position":{"start":{"line":44,"column":103,"offset":2519},"end":{"line":44,"column":104,"offset":2520}}}],"position":{"start":{"line":44,"column":3,"offset":2419},"end":{"line":44,"column":104,"offset":2520}}}],"position":{"start":{"line":42,"column":1,"offset":2213},"end":{"line":44,"column":104,"offset":2520}}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#field-level-definitions","title":null,"children":[],"data":{"hProperties":{"aria-label":"field level definitions permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Field-level definitions","position":{"start":{"line":46,"column":6,"offset":2527},"end":{"line":46,"column":29,"offset":2550}}}],"position":{"start":{"line":46,"column":1,"offset":2522},"end":{"line":46,"column":29,"offset":2550}},"data":{"id":"field-level-definitions","htmlAttributes":{"id":"field-level-definitions"},"hProperties":{"id":"field-level-definitions","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"This example defines cache control settings for two fields of the ","position":{"start":{"line":48,"column":1,"offset":2552},"end":{"line":48,"column":67,"offset":2618}}},{"type":"html","value":"<code class=\"language-text\">Post</code>","position":{"start":{"line":48,"column":67,"offset":2618},"end":{"line":48,"column":73,"offset":2624}}},{"type":"text","value":" type: ","position":{"start":{"line":48,"column":73,"offset":2624},"end":{"line":48,"column":80,"offset":2631}}},{"type":"html","value":"<code class=\"language-text\">votes</code>","position":{"start":{"line":48,"column":80,"offset":2631},"end":{"line":48,"column":87,"offset":2638}}},{"type":"text","value":" and ","position":{"start":{"line":48,"column":87,"offset":2638},"end":{"line":48,"column":92,"offset":2643}}},{"type":"html","value":"<code class=\"language-text\">readByCurrentUser</code>","position":{"start":{"line":48,"column":92,"offset":2643},"end":{"line":48,"column":111,"offset":2662}}},{"type":"text","value":":","position":{"start":{"line":48,"column":111,"offset":2662},"end":{"line":48,"column":112,"offset":2663}}}],"position":{"start":{"line":48,"column":1,"offset":2552},"end":{"line":48,"column":112,"offset":2663}}},{"type":"html","value":"<div class=\"gatsby-code-title\">schema.graphql</div>"},{"type":"html","lang":"graphql{5,7}","meta":null,"value":"<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Post</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">ID</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">title</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span>\n  <span class=\"token attr-name\">author</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Author</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token attr-name\">votes</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Int</span> <span class=\"token directive function\">@cacheControl</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">maxAge</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></span>  <span class=\"token attr-name\">comments</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Comment</span><span class=\"token punctuation\">]</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token attr-name\">readByCurrentUser</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Boolean</span><span class=\"token operator\">!</span> <span class=\"token directive function\">@cacheControl</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">maxAge</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">scope</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">PRIVATE</span><span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":50,"column":1,"offset":2665},"end":{"line":59,"column":4,"offset":2895}}},{"type":"paragraph","children":[{"type":"text","value":"In this example:","position":{"start":{"line":61,"column":1,"offset":2897},"end":{"line":61,"column":17,"offset":2913}}}],"position":{"start":{"line":61,"column":1,"offset":2897},"end":{"line":61,"column":17,"offset":2913}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The value of a ","position":{"start":{"line":63,"column":3,"offset":2917},"end":{"line":63,"column":18,"offset":2932}}},{"type":"html","value":"<code class=\"language-text\">Post</code>","position":{"start":{"line":63,"column":18,"offset":2932},"end":{"line":63,"column":24,"offset":2938}}},{"type":"text","value":"'s ","position":{"start":{"line":63,"column":24,"offset":2938},"end":{"line":63,"column":27,"offset":2941}}},{"type":"html","value":"<code class=\"language-text\">votes</code>","position":{"start":{"line":63,"column":27,"offset":2941},"end":{"line":63,"column":34,"offset":2948}}},{"type":"text","value":" field is cached for a maximum of 30 seconds.","position":{"start":{"line":63,"column":34,"offset":2948},"end":{"line":63,"column":79,"offset":2993}}}],"position":{"start":{"line":63,"column":3,"offset":2917},"end":{"line":63,"column":79,"offset":2993}}}],"position":{"start":{"line":63,"column":1,"offset":2915},"end":{"line":63,"column":79,"offset":2993}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The value of a ","position":{"start":{"line":64,"column":3,"offset":2996},"end":{"line":64,"column":18,"offset":3011}}},{"type":"html","value":"<code class=\"language-text\">Post</code>","position":{"start":{"line":64,"column":18,"offset":3011},"end":{"line":64,"column":24,"offset":3017}}},{"type":"text","value":"'s ","position":{"start":{"line":64,"column":24,"offset":3017},"end":{"line":64,"column":27,"offset":3020}}},{"type":"html","value":"<code class=\"language-text\">readByCurrentUser</code>","position":{"start":{"line":64,"column":27,"offset":3020},"end":{"line":64,"column":46,"offset":3039}}},{"type":"text","value":" field is cached for a maximum of 10 seconds, and its visibility is restricted to a single user.","position":{"start":{"line":64,"column":46,"offset":3039},"end":{"line":64,"column":142,"offset":3135}}}],"position":{"start":{"line":64,"column":3,"offset":2996},"end":{"line":64,"column":142,"offset":3135}}}],"position":{"start":{"line":64,"column":1,"offset":2994},"end":{"line":64,"column":142,"offset":3135}}}],"position":{"start":{"line":63,"column":1,"offset":2915},"end":{"line":64,"column":142,"offset":3135}}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#type-level-definitions","title":null,"children":[],"data":{"hProperties":{"aria-label":"type level definitions permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Type-level definitions","position":{"start":{"line":66,"column":6,"offset":3142},"end":{"line":66,"column":28,"offset":3164}}}],"position":{"start":{"line":66,"column":1,"offset":3137},"end":{"line":66,"column":28,"offset":3164}},"data":{"id":"type-level-definitions","htmlAttributes":{"id":"type-level-definitions"},"hProperties":{"id":"type-level-definitions","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"This example defines cache control settings for ","position":{"start":{"line":68,"column":1,"offset":3166},"end":{"line":68,"column":49,"offset":3214}}},{"type":"emphasis","children":[{"type":"text","value":"all","position":{"start":{"line":68,"column":50,"offset":3215},"end":{"line":68,"column":53,"offset":3218}}}],"position":{"start":{"line":68,"column":49,"offset":3214},"end":{"line":68,"column":54,"offset":3219}}},{"type":"text","value":" schema fields that return a ","position":{"start":{"line":68,"column":54,"offset":3219},"end":{"line":68,"column":83,"offset":3248}}},{"type":"html","value":"<code class=\"language-text\">Post</code>","position":{"start":{"line":68,"column":83,"offset":3248},"end":{"line":68,"column":89,"offset":3254}}},{"type":"text","value":" object:","position":{"start":{"line":68,"column":89,"offset":3254},"end":{"line":68,"column":97,"offset":3262}}}],"position":{"start":{"line":68,"column":1,"offset":3166},"end":{"line":68,"column":97,"offset":3262}}},{"type":"html","value":"<div class=\"gatsby-code-title\">schema.graphql</div>"},{"type":"html","lang":"graphql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Post</span> <span class=\"token directive function\">@cacheControl</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">maxAge</span><span class=\"token punctuation\">:</span> <span class=\"token number\">240</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Int</span><span class=\"token operator\">!</span>\n  <span class=\"token attr-name\">title</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span>\n  <span class=\"token attr-name\">author</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Author</span>\n  <span class=\"token attr-name\">votes</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Int</span>\n  <span class=\"token attr-name\">comments</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token class-name\">Comment</span><span class=\"token punctuation\">]</span>\n  <span class=\"token attr-name\">readByCurrentUser</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Boolean</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":70,"column":1,"offset":3264},"end":{"line":79,"column":4,"offset":3449}}},{"type":"paragraph","children":[{"type":"text","value":"If another object type in this schema includes a field of type ","position":{"start":{"line":81,"column":1,"offset":3451},"end":{"line":81,"column":64,"offset":3514}}},{"type":"html","value":"<code class=\"language-text\">Post</code>","position":{"start":{"line":81,"column":64,"offset":3514},"end":{"line":81,"column":70,"offset":3520}}},{"type":"text","value":" (or a list of ","position":{"start":{"line":81,"column":70,"offset":3520},"end":{"line":81,"column":85,"offset":3535}}},{"type":"html","value":"<code class=\"language-text\">Post</code>","position":{"start":{"line":81,"column":85,"offset":3535},"end":{"line":81,"column":91,"offset":3541}}},{"type":"text","value":"s), that field's value is cached for a maximum of 240 seconds:","position":{"start":{"line":81,"column":91,"offset":3541},"end":{"line":81,"column":153,"offset":3603}}}],"position":{"start":{"line":81,"column":1,"offset":3451},"end":{"line":81,"column":153,"offset":3603}}},{"type":"html","value":"<div class=\"gatsby-code-title\">schema.graphql</div>"},{"type":"html","lang":"graphql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Comment</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">post</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Post</span><span class=\"token operator\">!</span> <span class=\"token comment\"># Cached for up to 240 seconds</span>\n  <span class=\"token attr-name\">body</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":83,"column":1,"offset":3605},"end":{"line":88,"column":4,"offset":3718}}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note that ","position":{"start":{"line":90,"column":3,"offset":3722},"end":{"line":90,"column":13,"offset":3732}}},{"type":"link","title":null,"url":"#field-level-definitions","children":[{"type":"text","value":"field-level settings","position":{"start":{"line":90,"column":14,"offset":3733},"end":{"line":90,"column":34,"offset":3753}}}],"position":{"start":{"line":90,"column":13,"offset":3732},"end":{"line":90,"column":61,"offset":3780}}},{"type":"text","value":" override type-level settings.","position":{"start":{"line":90,"column":61,"offset":3780},"end":{"line":90,"column":91,"offset":3810}}}],"position":{"start":{"line":90,"column":1,"offset":3720},"end":{"line":90,"column":93,"offset":3812}}},{"type":"text","value":" In the following case, ","position":{"start":{"line":90,"column":93,"offset":3812},"end":{"line":90,"column":117,"offset":3836}}},{"type":"html","value":"<code class=\"language-text\">Comment.post</code>","position":{"start":{"line":90,"column":117,"offset":3836},"end":{"line":90,"column":131,"offset":3850}}},{"type":"text","value":" is cached for a maximum of 120 seconds, ","position":{"start":{"line":90,"column":131,"offset":3850},"end":{"line":90,"column":172,"offset":3891}}},{"type":"emphasis","children":[{"type":"text","value":"not","position":{"start":{"line":90,"column":173,"offset":3892},"end":{"line":90,"column":176,"offset":3895}}}],"position":{"start":{"line":90,"column":172,"offset":3891},"end":{"line":90,"column":177,"offset":3896}}},{"type":"text","value":" 240 seconds:","position":{"start":{"line":90,"column":177,"offset":3896},"end":{"line":90,"column":190,"offset":3909}}}],"position":{"start":{"line":90,"column":1,"offset":3720},"end":{"line":90,"column":190,"offset":3909}}},{"type":"html","value":"<div class=\"gatsby-code-title\">schema.graphql</div>"},{"type":"html","lang":"graphql","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Comment</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">post</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Post</span><span class=\"token operator\">!</span> <span class=\"token directive function\">@cacheControl</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">maxAge</span><span class=\"token punctuation\">:</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span>\n  <span class=\"token attr-name\">body</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":92,"column":1,"offset":3911},"end":{"line":97,"column":4,"offset":4020}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#in-your-resolvers-dynamic","title":null,"children":[],"data":{"hProperties":{"aria-label":"in your resolvers dynamic permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"In your resolvers (dynamic)","position":{"start":{"line":99,"column":5,"offset":4026},"end":{"line":99,"column":32,"offset":4053}}}],"position":{"start":{"line":99,"column":1,"offset":4022},"end":{"line":99,"column":32,"offset":4053}},"data":{"id":"in-your-resolvers-dynamic","htmlAttributes":{"id":"in-your-resolvers-dynamic"},"hProperties":{"id":"in-your-resolvers-dynamic","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"You can decide how to cache a particular field's result ","position":{"start":{"line":101,"column":1,"offset":4055},"end":{"line":101,"column":57,"offset":4111}}},{"type":"emphasis","children":[{"type":"text","value":"while","position":{"start":{"line":101,"column":58,"offset":4112},"end":{"line":101,"column":63,"offset":4117}}}],"position":{"start":{"line":101,"column":57,"offset":4111},"end":{"line":101,"column":64,"offset":4118}}},{"type":"text","value":" you're resolving it. To support this, Apollo Server provides a ","position":{"start":{"line":101,"column":64,"offset":4118},"end":{"line":101,"column":128,"offset":4182}}},{"type":"html","value":"<code class=\"language-text\">cacheControl</code>","position":{"start":{"line":101,"column":128,"offset":4182},"end":{"line":101,"column":142,"offset":4196}}},{"type":"text","value":" object in the ","position":{"start":{"line":101,"column":142,"offset":4196},"end":{"line":101,"column":157,"offset":4211}}},{"type":"link","title":null,"url":"/v2/data/resolvers/#resolver-arguments","children":[{"type":"html","value":"<code class=\"language-text\">info</code>","position":{"start":{"line":101,"column":158,"offset":4212},"end":{"line":101,"column":164,"offset":4218}}},{"type":"text","value":" parameter","position":{"start":{"line":101,"column":164,"offset":4218},"end":{"line":101,"column":174,"offset":4228}}}],"position":{"start":{"line":101,"column":157,"offset":4211},"end":{"line":101,"column":214,"offset":4268}}},{"type":"text","value":" that's passed to every resolver.","position":{"start":{"line":101,"column":214,"offset":4268},"end":{"line":101,"column":247,"offset":4301}}}],"position":{"start":{"line":101,"column":1,"offset":4055},"end":{"line":101,"column":247,"offset":4301}}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":103,"column":1,"offset":4303},"end":{"line":103,"column":5,"offset":4307}}},{"type":"html","value":"<code class=\"language-text\">cacheControl</code>","position":{"start":{"line":103,"column":5,"offset":4307},"end":{"line":103,"column":19,"offset":4321}}},{"type":"text","value":" object includes a ","position":{"start":{"line":103,"column":19,"offset":4321},"end":{"line":103,"column":38,"offset":4340}}},{"type":"html","value":"<code class=\"language-text\">setCacheHint</code>","position":{"start":{"line":103,"column":38,"offset":4340},"end":{"line":103,"column":52,"offset":4354}}},{"type":"text","value":" method, which you call like so:","position":{"start":{"line":103,"column":52,"offset":4354},"end":{"line":103,"column":84,"offset":4386}}}],"position":{"start":{"line":103,"column":1,"offset":4303},"end":{"line":103,"column":84,"offset":4386}}},{"type":"html","lang":"javascript","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> resolvers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">Query</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">post</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">,</span> info</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      info<span class=\"token punctuation\">.</span>cacheControl<span class=\"token punctuation\">.</span><span class=\"token function\">setCacheHint</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">maxAge</span><span class=\"token operator\">:</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">scope</span><span class=\"token operator\">:</span> <span class=\"token string\">'PRIVATE'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">find</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":106,"column":1,"offset":4389},"end":{"line":115,"column":4,"offset":4591}}},{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":117,"column":1,"offset":4593},"end":{"line":117,"column":5,"offset":4597}}},{"type":"html","value":"<code class=\"language-text\">setCacheHint</code>","position":{"start":{"line":117,"column":5,"offset":4597},"end":{"line":117,"column":19,"offset":4611}}},{"type":"text","value":" method accepts an object with the same fields as ","position":{"start":{"line":117,"column":19,"offset":4611},"end":{"line":117,"column":69,"offset":4661}}},{"type":"link","title":null,"url":"#in-your-schema-static","children":[{"type":"text","value":"the ","position":{"start":{"line":117,"column":70,"offset":4662},"end":{"line":117,"column":74,"offset":4666}}},{"type":"html","value":"<code class=\"language-text\">@cacheControl</code>","position":{"start":{"line":117,"column":74,"offset":4666},"end":{"line":117,"column":89,"offset":4681}}},{"type":"text","value":" directive","position":{"start":{"line":117,"column":89,"offset":4681},"end":{"line":117,"column":99,"offset":4691}}}],"position":{"start":{"line":117,"column":69,"offset":4661},"end":{"line":117,"column":124,"offset":4716}}},{"type":"text","value":".","position":{"start":{"line":117,"column":124,"offset":4716},"end":{"line":117,"column":125,"offset":4717}}}],"position":{"start":{"line":117,"column":1,"offset":4593},"end":{"line":117,"column":125,"offset":4717}}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"If you're using TypeScript,","position":{"start":{"line":119,"column":5,"offset":4723},"end":{"line":119,"column":32,"offset":4750}}}],"position":{"start":{"line":119,"column":3,"offset":4721},"end":{"line":119,"column":34,"offset":4752}}},{"type":"text","value":" you need to add the following ","position":{"start":{"line":119,"column":34,"offset":4752},"end":{"line":119,"column":65,"offset":4783}}},{"type":"html","value":"<code class=\"language-text\">import</code>","position":{"start":{"line":119,"column":65,"offset":4783},"end":{"line":119,"column":73,"offset":4791}}},{"type":"text","value":" statement to indicate that the ","position":{"start":{"line":119,"column":73,"offset":4791},"end":{"line":119,"column":105,"offset":4823}}},{"type":"html","value":"<code class=\"language-text\">info</code>","position":{"start":{"line":119,"column":105,"offset":4823},"end":{"line":119,"column":111,"offset":4829}}},{"type":"text","value":" parameter includes a ","position":{"start":{"line":119,"column":111,"offset":4829},"end":{"line":119,"column":133,"offset":4851}}},{"type":"html","value":"<code class=\"language-text\">cacheControl</code>","position":{"start":{"line":119,"column":133,"offset":4851},"end":{"line":119,"column":147,"offset":4865}}},{"type":"text","value":" field:","position":{"start":{"line":119,"column":147,"offset":4865},"end":{"line":119,"column":154,"offset":4872}}}],"position":{"start":{"line":119,"column":3,"offset":4721},"end":{"line":119,"column":154,"offset":4872}}},{"type":"html","lang":"javascript","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token string\">'apollo-cache-control'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","position":{"start":{"line":121,"column":3,"offset":4877},"end":{"line":123,"column":6,"offset":4929}}}],"position":{"start":{"line":119,"column":1,"offset":4719},"end":{"line":123,"column":6,"offset":4929}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#default-maxage","title":null,"children":[],"data":{"hProperties":{"aria-label":"default maxage permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Default ","position":{"start":{"line":125,"column":5,"offset":4935},"end":{"line":125,"column":13,"offset":4943}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":125,"column":13,"offset":4943},"end":{"line":125,"column":21,"offset":4951}}}],"position":{"start":{"line":125,"column":1,"offset":4931},"end":{"line":125,"column":21,"offset":4951}},"data":{"id":"default-maxage","htmlAttributes":{"id":"default-maxage"},"hProperties":{"id":"default-maxage","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"By default, the following schema fields have a ","position":{"start":{"line":127,"column":1,"offset":4953},"end":{"line":127,"column":48,"offset":5000}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":127,"column":48,"offset":5000},"end":{"line":127,"column":56,"offset":5008}}},{"type":"text","value":" of ","position":{"start":{"line":127,"column":56,"offset":5008},"end":{"line":127,"column":60,"offset":5012}}},{"type":"html","value":"<code class=\"language-text\">0</code>","position":{"start":{"line":127,"column":60,"offset":5012},"end":{"line":127,"column":63,"offset":5015}}},{"type":"text","value":" (meaning their values are ","position":{"start":{"line":127,"column":63,"offset":5015},"end":{"line":127,"column":90,"offset":5042}}},{"type":"emphasis","children":[{"type":"text","value":"not","position":{"start":{"line":127,"column":91,"offset":5043},"end":{"line":127,"column":94,"offset":5046}}}],"position":{"start":{"line":127,"column":90,"offset":5042},"end":{"line":127,"column":95,"offset":5047}}},{"type":"text","value":" cached unless you specify otherwise):","position":{"start":{"line":127,"column":95,"offset":5047},"end":{"line":127,"column":133,"offset":5085}}}],"position":{"start":{"line":127,"column":1,"offset":4953},"end":{"line":127,"column":133,"offset":5085}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"All ","position":{"start":{"line":129,"column":3,"offset":5089},"end":{"line":129,"column":7,"offset":5093}}},{"type":"strong","children":[{"type":"text","value":"root fields","position":{"start":{"line":129,"column":9,"offset":5095},"end":{"line":129,"column":20,"offset":5106}}}],"position":{"start":{"line":129,"column":7,"offset":5093},"end":{"line":129,"column":22,"offset":5108}}},{"type":"text","value":" (i.e., the fields of the ","position":{"start":{"line":129,"column":22,"offset":5108},"end":{"line":129,"column":48,"offset":5134}}},{"type":"html","value":"<code class=\"language-text\">Query</code>","position":{"start":{"line":129,"column":48,"offset":5134},"end":{"line":129,"column":55,"offset":5141}}},{"type":"text","value":" and ","position":{"start":{"line":129,"column":55,"offset":5141},"end":{"line":129,"column":60,"offset":5146}}},{"type":"html","value":"<code class=\"language-text\">Mutation</code>","position":{"start":{"line":129,"column":60,"offset":5146},"end":{"line":129,"column":70,"offset":5156}}},{"type":"text","value":" objects)","position":{"start":{"line":129,"column":70,"offset":5156},"end":{"line":129,"column":79,"offset":5165}}}],"position":{"start":{"line":129,"column":3,"offset":5089},"end":{"line":129,"column":79,"offset":5165}}}],"position":{"start":{"line":129,"column":1,"offset":5087},"end":{"line":129,"column":79,"offset":5165}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Fields that return an object or interface type","position":{"start":{"line":130,"column":3,"offset":5168},"end":{"line":130,"column":49,"offset":5214}}}],"position":{"start":{"line":130,"column":3,"offset":5168},"end":{"line":130,"column":49,"offset":5214}}}],"position":{"start":{"line":130,"column":1,"offset":5166},"end":{"line":130,"column":49,"offset":5214}}}],"position":{"start":{"line":129,"column":1,"offset":5087},"end":{"line":130,"column":49,"offset":5214}}},{"type":"paragraph","children":[{"type":"text","value":"Scalar fields inherit their default cache behavior (including ","position":{"start":{"line":132,"column":1,"offset":5216},"end":{"line":132,"column":63,"offset":5278}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":132,"column":63,"offset":5278},"end":{"line":132,"column":71,"offset":5286}}},{"type":"text","value":") from their parent object type. This enables you to define cache behavior for ","position":{"start":{"line":132,"column":71,"offset":5286},"end":{"line":132,"column":150,"offset":5365}}},{"type":"emphasis","children":[{"type":"text","value":"most","position":{"start":{"line":132,"column":151,"offset":5366},"end":{"line":132,"column":155,"offset":5370}}}],"position":{"start":{"line":132,"column":150,"offset":5365},"end":{"line":132,"column":156,"offset":5371}}},{"type":"text","value":" scalars at the ","position":{"start":{"line":132,"column":156,"offset":5371},"end":{"line":132,"column":172,"offset":5387}}},{"type":"link","title":null,"url":"#type-level-definitions","children":[{"type":"text","value":"type level","position":{"start":{"line":132,"column":173,"offset":5388},"end":{"line":132,"column":183,"offset":5398}}}],"position":{"start":{"line":132,"column":172,"offset":5387},"end":{"line":132,"column":209,"offset":5424}}},{"type":"text","value":", while overriding that behavior in individual cases at the ","position":{"start":{"line":132,"column":209,"offset":5424},"end":{"line":132,"column":269,"offset":5484}}},{"type":"link","title":null,"url":"#field-level-definitions","children":[{"type":"text","value":"field level","position":{"start":{"line":132,"column":270,"offset":5485},"end":{"line":132,"column":281,"offset":5496}}}],"position":{"start":{"line":132,"column":269,"offset":5484},"end":{"line":132,"column":308,"offset":5523}}},{"type":"text","value":".","position":{"start":{"line":132,"column":308,"offset":5523},"end":{"line":132,"column":309,"offset":5524}}}],"position":{"start":{"line":132,"column":1,"offset":5216},"end":{"line":132,"column":309,"offset":5524}}},{"type":"paragraph","children":[{"type":"text","value":"As a result of these defaults, ","position":{"start":{"line":134,"column":1,"offset":5526},"end":{"line":134,"column":32,"offset":5557}}},{"type":"strong","children":[{"type":"text","value":"no schema fields are cached by default","position":{"start":{"line":134,"column":34,"offset":5559},"end":{"line":134,"column":72,"offset":5597}}}],"position":{"start":{"line":134,"column":32,"offset":5557},"end":{"line":134,"column":74,"offset":5599}}},{"type":"text","value":".","position":{"start":{"line":134,"column":74,"offset":5599},"end":{"line":134,"column":75,"offset":5600}}}],"position":{"start":{"line":134,"column":1,"offset":5526},"end":{"line":134,"column":75,"offset":5600}}},{"type":"heading","depth":4,"children":[{"type":"link","url":"#setting-the-default-maxage","title":null,"children":[],"data":{"hProperties":{"aria-label":"setting the default maxage permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Setting the default ","position":{"start":{"line":136,"column":6,"offset":5607},"end":{"line":136,"column":26,"offset":5627}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":136,"column":26,"offset":5627},"end":{"line":136,"column":34,"offset":5635}}}],"position":{"start":{"line":136,"column":1,"offset":5602},"end":{"line":136,"column":34,"offset":5635}},"data":{"id":"setting-the-default-maxage","htmlAttributes":{"id":"setting-the-default-maxage"},"hProperties":{"id":"setting-the-default-maxage","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"You can set a default ","position":{"start":{"line":138,"column":1,"offset":5637},"end":{"line":138,"column":23,"offset":5659}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":138,"column":23,"offset":5659},"end":{"line":138,"column":31,"offset":5667}}},{"type":"text","value":" (instead of ","position":{"start":{"line":138,"column":31,"offset":5667},"end":{"line":138,"column":44,"offset":5680}}},{"type":"html","value":"<code class=\"language-text\">0</code>","position":{"start":{"line":138,"column":44,"offset":5680},"end":{"line":138,"column":47,"offset":5683}}},{"type":"text","value":") that's applied to every field that doesn't specify a different value.","position":{"start":{"line":138,"column":47,"offset":5683},"end":{"line":138,"column":118,"offset":5754}}}],"position":{"start":{"line":138,"column":1,"offset":5637},"end":{"line":138,"column":118,"offset":5754}}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"You should identify and address all exceptions to your default ","position":{"start":{"line":140,"column":3,"offset":5758},"end":{"line":140,"column":66,"offset":5821}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":140,"column":66,"offset":5821},"end":{"line":140,"column":74,"offset":5829}}},{"type":"text","value":" before you enable it in production, but this is a great way to get started with cache control.","position":{"start":{"line":140,"column":74,"offset":5829},"end":{"line":140,"column":169,"offset":5924}}}],"position":{"start":{"line":140,"column":3,"offset":5758},"end":{"line":140,"column":169,"offset":5924}}}],"position":{"start":{"line":140,"column":1,"offset":5756},"end":{"line":140,"column":169,"offset":5924}}},{"type":"paragraph","children":[{"type":"text","value":"Set your default ","position":{"start":{"line":142,"column":1,"offset":5926},"end":{"line":142,"column":18,"offset":5943}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":142,"column":18,"offset":5943},"end":{"line":142,"column":26,"offset":5951}}},{"type":"text","value":" in the ","position":{"start":{"line":142,"column":26,"offset":5951},"end":{"line":142,"column":34,"offset":5959}}},{"type":"html","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":142,"column":34,"offset":5959},"end":{"line":142,"column":48,"offset":5973}}},{"type":"text","value":" constructor, like so:","position":{"start":{"line":142,"column":48,"offset":5973},"end":{"line":142,"column":70,"offset":5995}}}],"position":{"start":{"line":142,"column":1,"offset":5926},"end":{"line":142,"column":70,"offset":5995}}},{"type":"html","lang":"javascript","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...other options...</span>\n  <span class=\"token literal-property property\">cacheControl</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">defaultMaxAge</span><span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 5 seconds</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":144,"column":1,"offset":5997},"end":{"line":151,"column":4,"offset":6136}}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#caching-with-a-cdn","title":null,"children":[],"data":{"hProperties":{"aria-label":"caching with a cdn permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Caching with a CDN","position":{"start":{"line":153,"column":4,"offset":6141},"end":{"line":153,"column":22,"offset":6159}}}],"position":{"start":{"line":153,"column":1,"offset":6138},"end":{"line":153,"column":22,"offset":6159}},"data":{"id":"caching-with-a-cdn","htmlAttributes":{"id":"caching-with-a-cdn"},"hProperties":{"id":"caching-with-a-cdn","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"Whenever Apollo Server sends an operation response that has a non-zero ","position":{"start":{"line":155,"column":1,"offset":6161},"end":{"line":155,"column":72,"offset":6232}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":155,"column":72,"offset":6232},"end":{"line":155,"column":80,"offset":6240}}},{"type":"text","value":", it includes a ","position":{"start":{"line":155,"column":80,"offset":6240},"end":{"line":155,"column":96,"offset":6256}}},{"type":"html","value":"<code class=\"language-text\">Cache-Control</code>","position":{"start":{"line":155,"column":96,"offset":6256},"end":{"line":155,"column":111,"offset":6271}}},{"type":"text","value":" HTTP header that describes the response's cache policy.","position":{"start":{"line":155,"column":111,"offset":6271},"end":{"line":155,"column":167,"offset":6327}}}],"position":{"start":{"line":155,"column":1,"offset":6161},"end":{"line":155,"column":167,"offset":6327}}},{"type":"paragraph","children":[{"type":"text","value":"The header has this format:","position":{"start":{"line":157,"column":1,"offset":6329},"end":{"line":157,"column":28,"offset":6356}}}],"position":{"start":{"line":157,"column":1,"offset":6329},"end":{"line":157,"column":28,"offset":6356}}},{"type":"html","lang":null,"meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Cache-Control: max-age=60, private</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","position":{"start":{"line":159,"column":1,"offset":6358},"end":{"line":161,"column":4,"offset":6400}}},{"type":"paragraph","children":[{"type":"text","value":"If you run Apollo Server behind a CDN or another caching proxy, you can configure it to use this header's value to cache responses appropriately. See your CDN's documentation for details (for example, here's the ","position":{"start":{"line":163,"column":1,"offset":6402},"end":{"line":163,"column":213,"offset":6614}}},{"type":"link","title":null,"url":"https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Expiration.html#expiration-individual-objects","children":[{"type":"text","value":"documentation for Amazon CloudFront","position":{"start":{"line":163,"column":214,"offset":6615},"end":{"line":163,"column":249,"offset":6650}}}],"position":{"start":{"line":163,"column":213,"offset":6614},"end":{"line":163,"column":364,"offset":6765}}},{"type":"text","value":").","position":{"start":{"line":163,"column":364,"offset":6765},"end":{"line":163,"column":366,"offset":6767}}}],"position":{"start":{"line":163,"column":1,"offset":6402},"end":{"line":163,"column":366,"offset":6767}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#using-get-requests","title":null,"children":[],"data":{"hProperties":{"aria-label":"using get requests permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Using GET requests","position":{"start":{"line":165,"column":5,"offset":6773},"end":{"line":165,"column":23,"offset":6791}}}],"position":{"start":{"line":165,"column":1,"offset":6769},"end":{"line":165,"column":23,"offset":6791}},"data":{"id":"using-get-requests","htmlAttributes":{"id":"using-get-requests"},"hProperties":{"id":"using-get-requests","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"Because CDNs and caching proxies only cache GET requests (not POST requests, which Apollo Client sends for all operations by default), we recommend enabling ","position":{"start":{"line":167,"column":1,"offset":6793},"end":{"line":167,"column":158,"offset":6950}}},{"type":"link","title":null,"url":"/v2/performance/apq/","children":[{"type":"text","value":"automatic persisted queries","position":{"start":{"line":167,"column":159,"offset":6951},"end":{"line":167,"column":186,"offset":6978}}}],"position":{"start":{"line":167,"column":158,"offset":6950},"end":{"line":167,"column":195,"offset":6987}}},{"type":"text","value":" and the ","position":{"start":{"line":167,"column":195,"offset":6987},"end":{"line":167,"column":204,"offset":6996}}},{"type":"link","title":null,"url":"/v2/performance/apq/","children":[{"type":"html","value":"<code class=\"language-text\">useGETForHashedQueries</code>","position":{"start":{"line":167,"column":205,"offset":6997},"end":{"line":167,"column":229,"offset":7021}}},{"type":"text","value":" option","position":{"start":{"line":167,"column":229,"offset":7021},"end":{"line":167,"column":236,"offset":7028}}}],"position":{"start":{"line":167,"column":204,"offset":6996},"end":{"line":167,"column":245,"offset":7037}}},{"type":"text","value":" in Apollo Client.","position":{"start":{"line":167,"column":245,"offset":7037},"end":{"line":167,"column":263,"offset":7055}}}],"position":{"start":{"line":167,"column":1,"offset":6793},"end":{"line":167,"column":263,"offset":7055}}},{"type":"paragraph","children":[{"type":"text","value":"Alternatively, you can set the ","position":{"start":{"line":169,"column":1,"offset":7057},"end":{"line":169,"column":32,"offset":7088}}},{"type":"html","value":"<code class=\"language-text\">useGETForQueries</code>","position":{"start":{"line":169,"column":32,"offset":7088},"end":{"line":169,"column":50,"offset":7106}}},{"type":"text","value":" option of ","position":{"start":{"line":169,"column":50,"offset":7106},"end":{"line":169,"column":61,"offset":7117}}},{"type":"link","title":null,"url":"https://www.apollographql.com/docs/react/api/link/apollo-link-http","children":[{"type":"text","value":"HttpLink","position":{"start":{"line":169,"column":62,"offset":7118},"end":{"line":169,"column":70,"offset":7126}}}],"position":{"start":{"line":169,"column":61,"offset":7117},"end":{"line":169,"column":139,"offset":7195}}},{"type":"text","value":" in your ","position":{"start":{"line":169,"column":139,"offset":7195},"end":{"line":169,"column":148,"offset":7204}}},{"type":"html","value":"<code class=\"language-text\">ApolloClient</code>","position":{"start":{"line":169,"column":148,"offset":7204},"end":{"line":169,"column":162,"offset":7218}}},{"type":"text","value":" instance, but ","position":{"start":{"line":169,"column":162,"offset":7218},"end":{"line":169,"column":177,"offset":7233}}},{"type":"strong","children":[{"type":"text","value":"this is less secure","position":{"start":{"line":169,"column":179,"offset":7235},"end":{"line":169,"column":198,"offset":7254}}}],"position":{"start":{"line":169,"column":177,"offset":7233},"end":{"line":169,"column":200,"offset":7256}}},{"type":"text","value":" because your query string and GraphQL variables are sent as plaintext URL query parameters.","position":{"start":{"line":169,"column":200,"offset":7256},"end":{"line":169,"column":292,"offset":7348}}}],"position":{"start":{"line":169,"column":1,"offset":7057},"end":{"line":169,"column":292,"offset":7348}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#disabling-cache-control","title":null,"children":[],"data":{"hProperties":{"aria-label":"disabling cache control permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Disabling ","position":{"start":{"line":171,"column":5,"offset":7354},"end":{"line":171,"column":15,"offset":7364}}},{"type":"html","value":"<code class=\"language-text\">Cache-Control</code>","position":{"start":{"line":171,"column":15,"offset":7364},"end":{"line":171,"column":30,"offset":7379}}}],"position":{"start":{"line":171,"column":1,"offset":7350},"end":{"line":171,"column":30,"offset":7379}},"data":{"id":"disabling-cache-control","htmlAttributes":{"id":"disabling-cache-control"},"hProperties":{"id":"disabling-cache-control","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"You can prevent Apollo Server from setting ","position":{"start":{"line":173,"column":1,"offset":7381},"end":{"line":173,"column":44,"offset":7424}}},{"type":"html","value":"<code class=\"language-text\">Cache-Control</code>","position":{"start":{"line":173,"column":44,"offset":7424},"end":{"line":173,"column":59,"offset":7439}}},{"type":"text","value":" headers by setting ","position":{"start":{"line":173,"column":59,"offset":7439},"end":{"line":173,"column":79,"offset":7459}}},{"type":"html","value":"<code class=\"language-text\">calculateHttpHeaders</code>","position":{"start":{"line":173,"column":79,"offset":7459},"end":{"line":173,"column":101,"offset":7481}}},{"type":"text","value":" to ","position":{"start":{"line":173,"column":101,"offset":7481},"end":{"line":173,"column":105,"offset":7485}}},{"type":"html","value":"<code class=\"language-text\">false</code>","position":{"start":{"line":173,"column":105,"offset":7485},"end":{"line":173,"column":112,"offset":7492}}},{"type":"text","value":" in the ","position":{"start":{"line":173,"column":112,"offset":7492},"end":{"line":173,"column":120,"offset":7500}}},{"type":"html","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":173,"column":120,"offset":7500},"end":{"line":173,"column":134,"offset":7514}}},{"type":"text","value":" constructor:","position":{"start":{"line":173,"column":134,"offset":7514},"end":{"line":173,"column":147,"offset":7527}}}],"position":{"start":{"line":173,"column":1,"offset":7381},"end":{"line":173,"column":147,"offset":7527}}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...other options...</span>\n  <span class=\"token literal-property property\">cacheControl</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">calculateHttpHeaders</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":175,"column":1,"offset":7529},"end":{"line":182,"column":4,"offset":7658}}},{"type":"heading","depth":2,"children":[{"type":"link","url":"#caching-with-responsecacheplugin-advanced","title":null,"children":[],"data":{"hProperties":{"aria-label":"caching with responsecacheplugin advanced permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Caching with ","position":{"start":{"line":186,"column":4,"offset":7665},"end":{"line":186,"column":17,"offset":7678}}},{"type":"html","value":"<code class=\"language-text\">responseCachePlugin</code>","position":{"start":{"line":186,"column":17,"offset":7678},"end":{"line":186,"column":38,"offset":7699}}},{"type":"text","value":" (advanced)","position":{"start":{"line":186,"column":38,"offset":7699},"end":{"line":186,"column":49,"offset":7710}}}],"position":{"start":{"line":186,"column":1,"offset":7662},"end":{"line":186,"column":49,"offset":7710}},"data":{"id":"caching-with-responsecacheplugin-advanced","htmlAttributes":{"id":"caching-with-responsecacheplugin-advanced"},"hProperties":{"id":"caching-with-responsecacheplugin-advanced","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"You can cache Apollo Server query responses in stores like Redis, Memcached, or Apollo Server's in-memory cache.","position":{"start":{"line":188,"column":1,"offset":7712},"end":{"line":188,"column":113,"offset":7824}}}],"position":{"start":{"line":188,"column":1,"offset":7712},"end":{"line":188,"column":113,"offset":7824}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#in-memory-cache-setup","title":null,"children":[],"data":{"hProperties":{"aria-label":"in memory cache setup permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"In-memory cache setup","position":{"start":{"line":190,"column":5,"offset":7830},"end":{"line":190,"column":26,"offset":7851}}}],"position":{"start":{"line":190,"column":1,"offset":7826},"end":{"line":190,"column":26,"offset":7851}},"data":{"id":"in-memory-cache-setup","htmlAttributes":{"id":"in-memory-cache-setup"},"hProperties":{"id":"in-memory-cache-setup","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"To set up your in-memory response cache, you first import the ","position":{"start":{"line":192,"column":1,"offset":7853},"end":{"line":192,"column":63,"offset":7915}}},{"type":"html","value":"<code class=\"language-text\">responseCachePlugin</code>","position":{"start":{"line":192,"column":63,"offset":7915},"end":{"line":192,"column":84,"offset":7936}}},{"type":"text","value":" and provide it to the ","position":{"start":{"line":192,"column":84,"offset":7936},"end":{"line":192,"column":107,"offset":7959}}},{"type":"html","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":192,"column":107,"offset":7959},"end":{"line":192,"column":121,"offset":7973}}},{"type":"text","value":" constructor:","position":{"start":{"line":192,"column":121,"offset":7973},"end":{"line":192,"column":134,"offset":7986}}}],"position":{"start":{"line":192,"column":1,"offset":7853},"end":{"line":192,"column":134,"offset":7986}}},{"type":"html","lang":"javascript","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> responseCachePlugin <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-plugin-response-cache'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...other options...</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">responseCachePlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":194,"column":1,"offset":7988},"end":{"line":201,"column":4,"offset":8176}}},{"type":"paragraph","children":[{"type":"text","value":"On initialization, this plugin automatically begins caching responses according to ","position":{"start":{"line":203,"column":1,"offset":8178},"end":{"line":203,"column":84,"offset":8261}}},{"type":"link","title":null,"url":"#in-your-schema-static","children":[{"type":"text","value":"field settings","position":{"start":{"line":203,"column":85,"offset":8262},"end":{"line":203,"column":99,"offset":8276}}}],"position":{"start":{"line":203,"column":84,"offset":8261},"end":{"line":203,"column":124,"offset":8301}}},{"type":"text","value":".","position":{"start":{"line":203,"column":124,"offset":8301},"end":{"line":203,"column":125,"offset":8302}}}],"position":{"start":{"line":203,"column":1,"offset":8178},"end":{"line":203,"column":125,"offset":8302}}},{"type":"paragraph","children":[{"type":"text","value":"The plugin uses the same in-memory LRU cache as Apollo Server's other features. For environments with multiple server instances, you might instead want to use a shared cache backend, such as ","position":{"start":{"line":205,"column":1,"offset":8304},"end":{"line":205,"column":192,"offset":8495}}},{"type":"link","title":null,"url":"#memcachedredis-setup","children":[{"type":"text","value":"Memcached or Redis","position":{"start":{"line":205,"column":193,"offset":8496},"end":{"line":205,"column":211,"offset":8514}}}],"position":{"start":{"line":205,"column":192,"offset":8495},"end":{"line":205,"column":235,"offset":8538}}},{"type":"text","value":".","position":{"start":{"line":205,"column":235,"offset":8538},"end":{"line":205,"column":236,"offset":8539}}}],"position":{"start":{"line":205,"column":1,"offset":8304},"end":{"line":205,"column":236,"offset":8539}}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"In addition to the ","position":{"start":{"line":207,"column":2,"offset":8542},"end":{"line":207,"column":21,"offset":8561}}},{"type":"link","title":null,"url":"#caching-with-a-cdn","children":[{"type":"html","value":"<code class=\"language-text\">Cache-Control</code>","position":{"start":{"line":207,"column":22,"offset":8562},"end":{"line":207,"column":37,"offset":8577}}},{"type":"text","value":" HTTP header","position":{"start":{"line":207,"column":37,"offset":8577},"end":{"line":207,"column":49,"offset":8589}}}],"position":{"start":{"line":207,"column":21,"offset":8561},"end":{"line":207,"column":71,"offset":8611}}},{"type":"text","value":", the ","position":{"start":{"line":207,"column":71,"offset":8611},"end":{"line":207,"column":77,"offset":8617}}},{"type":"html","value":"<code class=\"language-text\">responseCachePlugin</code>","position":{"start":{"line":207,"column":77,"offset":8617},"end":{"line":207,"column":98,"offset":8638}}},{"type":"text","value":" also sets the ","position":{"start":{"line":207,"column":98,"offset":8638},"end":{"line":207,"column":113,"offset":8653}}},{"type":"html","value":"<code class=\"language-text\">Age</code>","position":{"start":{"line":207,"column":113,"offset":8653},"end":{"line":207,"column":118,"offset":8658}}},{"type":"text","value":" HTTP header to the number of seconds the returned value has been in the cache.","position":{"start":{"line":207,"column":118,"offset":8658},"end":{"line":207,"column":197,"offset":8737}}}],"position":{"start":{"line":207,"column":2,"offset":8542},"end":{"line":207,"column":197,"offset":8737}}}],"position":{"start":{"line":207,"column":1,"offset":8541},"end":{"line":207,"column":197,"offset":8737}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#memcachedredis-setup","title":null,"children":[],"data":{"hProperties":{"aria-label":"memcachedredis setup permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Memcached/Redis setup","position":{"start":{"line":209,"column":5,"offset":8743},"end":{"line":209,"column":26,"offset":8764}}}],"position":{"start":{"line":209,"column":1,"offset":8739},"end":{"line":209,"column":26,"offset":8764}},"data":{"id":"memcachedredis-setup","htmlAttributes":{"id":"memcachedredis-setup"},"hProperties":{"id":"memcachedredis-setup","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"See ","position":{"start":{"line":211,"column":1,"offset":8766},"end":{"line":211,"column":5,"offset":8770}}},{"type":"link","title":null,"url":"/v2/data/data-sources/#using-memcachedredis-as-a-cache-storage-backend","children":[{"type":"text","value":"Using Memcached/Redis as a cache storage backend","position":{"start":{"line":211,"column":6,"offset":8771},"end":{"line":211,"column":54,"offset":8819}}}],"position":{"start":{"line":211,"column":5,"offset":8770},"end":{"line":211,"column":126,"offset":8891}}},{"type":"text","value":".","position":{"start":{"line":211,"column":126,"offset":8891},"end":{"line":211,"column":127,"offset":8892}}}],"position":{"start":{"line":211,"column":1,"offset":8766},"end":{"line":211,"column":127,"offset":8892}}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"text","value":"You can also ","position":{"start":{"line":213,"column":3,"offset":8896},"end":{"line":213,"column":16,"offset":8909}}},{"type":"link","title":null,"url":"/v2/data/data-sources/#implementing-your-own-cache-backend","children":[{"type":"text","value":"implement your own cache backend","position":{"start":{"line":213,"column":17,"offset":8910},"end":{"line":213,"column":49,"offset":8942}}}],"position":{"start":{"line":213,"column":16,"offset":8909},"end":{"line":213,"column":109,"offset":9002}}},{"type":"text","value":".","position":{"start":{"line":213,"column":109,"offset":9002},"end":{"line":213,"column":110,"offset":9003}}}],"position":{"start":{"line":213,"column":3,"offset":8896},"end":{"line":213,"column":110,"offset":9003}}}],"position":{"start":{"line":213,"column":1,"offset":8894},"end":{"line":213,"column":110,"offset":9003}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#identifying-users-for-private-responses","title":null,"children":[],"data":{"hProperties":{"aria-label":"identifying users for private responses permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Identifying users for ","position":{"start":{"line":216,"column":5,"offset":9010},"end":{"line":216,"column":27,"offset":9032}}},{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":216,"column":27,"offset":9032},"end":{"line":216,"column":36,"offset":9041}}},{"type":"text","value":" responses","position":{"start":{"line":216,"column":36,"offset":9041},"end":{"line":216,"column":46,"offset":9051}}}],"position":{"start":{"line":216,"column":1,"offset":9006},"end":{"line":216,"column":46,"offset":9051}},"data":{"id":"identifying-users-for-private-responses","htmlAttributes":{"id":"identifying-users-for-private-responses"},"hProperties":{"id":"identifying-users-for-private-responses","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"If a cached response has a ","position":{"start":{"line":218,"column":1,"offset":9053},"end":{"line":218,"column":28,"offset":9080}}},{"type":"link","title":null,"url":"#in-your-schema-static","children":[{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":218,"column":29,"offset":9081},"end":{"line":218,"column":38,"offset":9090}}},{"type":"text","value":" scope","position":{"start":{"line":218,"column":38,"offset":9090},"end":{"line":218,"column":44,"offset":9096}}}],"position":{"start":{"line":218,"column":28,"offset":9080},"end":{"line":218,"column":69,"offset":9121}}},{"type":"text","value":", its value is accessible by only a single user. To enforce this restriction, the cache needs to know how to ","position":{"start":{"line":218,"column":69,"offset":9121},"end":{"line":218,"column":178,"offset":9230}}},{"type":"emphasis","children":[{"type":"text","value":"identify","position":{"start":{"line":218,"column":179,"offset":9231},"end":{"line":218,"column":187,"offset":9239}}}],"position":{"start":{"line":218,"column":178,"offset":9230},"end":{"line":218,"column":188,"offset":9240}}},{"type":"text","value":" that user.","position":{"start":{"line":218,"column":188,"offset":9240},"end":{"line":218,"column":199,"offset":9251}}}],"position":{"start":{"line":218,"column":1,"offset":9053},"end":{"line":218,"column":199,"offset":9251}}},{"type":"paragraph","children":[{"type":"text","value":"To enable this identification, you provide a ","position":{"start":{"line":220,"column":1,"offset":9253},"end":{"line":220,"column":46,"offset":9298}}},{"type":"html","value":"<code class=\"language-text\">sessionId</code>","position":{"start":{"line":220,"column":46,"offset":9298},"end":{"line":220,"column":57,"offset":9309}}},{"type":"text","value":" function to your ","position":{"start":{"line":220,"column":57,"offset":9309},"end":{"line":220,"column":75,"offset":9327}}},{"type":"html","value":"<code class=\"language-text\">responseCachePlugin</code>","position":{"start":{"line":220,"column":75,"offset":9327},"end":{"line":220,"column":96,"offset":9348}}},{"type":"text","value":", like so:","position":{"start":{"line":220,"column":96,"offset":9348},"end":{"line":220,"column":106,"offset":9358}}}],"position":{"start":{"line":220,"column":1,"offset":9253},"end":{"line":220,"column":106,"offset":9358}}},{"type":"html","lang":"javascript","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> responseCachePlugin <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-plugin-response-cache'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...other settings...</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">responseCachePlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">sessionId</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">requestContext</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>requestContext<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>http<span class=\"token punctuation\">.</span>headers<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'sessionid'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":222,"column":1,"offset":9360},"end":{"line":230,"column":4,"offset":9652}}},{"type":"blockquote","children":[{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Important:","position":{"start":{"line":232,"column":5,"offset":9658},"end":{"line":232,"column":15,"offset":9668}}}],"position":{"start":{"line":232,"column":3,"offset":9656},"end":{"line":232,"column":17,"offset":9670}}},{"type":"text","value":" If you don't define a ","position":{"start":{"line":232,"column":17,"offset":9670},"end":{"line":232,"column":40,"offset":9693}}},{"type":"html","value":"<code class=\"language-text\">sessionId</code>","position":{"start":{"line":232,"column":40,"offset":9693},"end":{"line":232,"column":51,"offset":9704}}},{"type":"text","value":" function, ","position":{"start":{"line":232,"column":51,"offset":9704},"end":{"line":232,"column":62,"offset":9715}}},{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":232,"column":62,"offset":9715},"end":{"line":232,"column":71,"offset":9724}}},{"type":"text","value":" responses are not cached at all.","position":{"start":{"line":232,"column":71,"offset":9724},"end":{"line":232,"column":104,"offset":9757}}}],"position":{"start":{"line":232,"column":3,"offset":9656},"end":{"line":232,"column":104,"offset":9757}}}],"position":{"start":{"line":232,"column":1,"offset":9654},"end":{"line":232,"column":104,"offset":9757}}},{"type":"paragraph","children":[{"type":"text","value":"The cache uses the return value of this function to identify the user who can later access the cached ","position":{"start":{"line":234,"column":1,"offset":9759},"end":{"line":234,"column":103,"offset":9861}}},{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":234,"column":103,"offset":9861},"end":{"line":234,"column":112,"offset":9870}}},{"type":"text","value":" response. In the example above, the function uses a ","position":{"start":{"line":234,"column":112,"offset":9870},"end":{"line":234,"column":165,"offset":9923}}},{"type":"html","value":"<code class=\"language-text\">sessionid</code>","position":{"start":{"line":234,"column":165,"offset":9923},"end":{"line":234,"column":176,"offset":9934}}},{"type":"text","value":" header from the original operation request.","position":{"start":{"line":234,"column":176,"offset":9934},"end":{"line":234,"column":220,"offset":9978}}}],"position":{"start":{"line":234,"column":1,"offset":9759},"end":{"line":234,"column":220,"offset":9978}}},{"type":"paragraph","children":[{"type":"text","value":"If a client later executes the exact same query ","position":{"start":{"line":236,"column":1,"offset":9980},"end":{"line":236,"column":49,"offset":10028}}},{"type":"emphasis","children":[{"type":"text","value":"and","position":{"start":{"line":236,"column":50,"offset":10029},"end":{"line":236,"column":53,"offset":10032}}}],"position":{"start":{"line":236,"column":49,"offset":10028},"end":{"line":236,"column":54,"offset":10033}}},{"type":"text","value":" has the same identifier, Apollo Server returns the ","position":{"start":{"line":236,"column":54,"offset":10033},"end":{"line":236,"column":106,"offset":10085}}},{"type":"html","value":"<code class=\"language-text\">PRIVATE</code>","position":{"start":{"line":236,"column":106,"offset":10085},"end":{"line":236,"column":115,"offset":10094}}},{"type":"text","value":" cached response if it's still available.","position":{"start":{"line":236,"column":115,"offset":10094},"end":{"line":236,"column":156,"offset":10135}}}],"position":{"start":{"line":236,"column":1,"offset":9980},"end":{"line":236,"column":156,"offset":10135}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#separating-responses-for-logged-in-and-logged-out-users","title":null,"children":[],"data":{"hProperties":{"aria-label":"separating responses for logged in and logged out users permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Separating responses for logged-in and logged-out users","position":{"start":{"line":238,"column":5,"offset":10141},"end":{"line":238,"column":60,"offset":10196}}}],"position":{"start":{"line":238,"column":1,"offset":10137},"end":{"line":238,"column":60,"offset":10196}},"data":{"id":"separating-responses-for-logged-in-and-logged-out-users","htmlAttributes":{"id":"separating-responses-for-logged-in-and-logged-out-users"},"hProperties":{"id":"separating-responses-for-logged-in-and-logged-out-users","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"By default, ","position":{"start":{"line":240,"column":1,"offset":10198},"end":{"line":240,"column":13,"offset":10210}}},{"type":"html","value":"<code class=\"language-text\">PUBLIC</code>","position":{"start":{"line":240,"column":13,"offset":10210},"end":{"line":240,"column":21,"offset":10218}}},{"type":"text","value":" cached responses are accessible by all users. However, if you define a ","position":{"start":{"line":240,"column":21,"offset":10218},"end":{"line":240,"column":93,"offset":10290}}},{"type":"html","value":"<code class=\"language-text\">sessionId</code>","position":{"start":{"line":240,"column":93,"offset":10290},"end":{"line":240,"column":104,"offset":10301}}},{"type":"text","value":" function (","position":{"start":{"line":240,"column":104,"offset":10301},"end":{"line":240,"column":115,"offset":10312}}},{"type":"link","title":null,"url":"#identifying-users-for-private-responses","children":[{"type":"text","value":"as shown above","position":{"start":{"line":240,"column":116,"offset":10313},"end":{"line":240,"column":130,"offset":10327}}}],"position":{"start":{"line":240,"column":115,"offset":10312},"end":{"line":240,"column":173,"offset":10370}}},{"type":"text","value":"), Apollo Server caches up to ","position":{"start":{"line":240,"column":173,"offset":10370},"end":{"line":240,"column":203,"offset":10400}}},{"type":"emphasis","children":[{"type":"text","value":"two versions","position":{"start":{"line":240,"column":204,"offset":10401},"end":{"line":240,"column":216,"offset":10413}}}],"position":{"start":{"line":240,"column":203,"offset":10400},"end":{"line":240,"column":217,"offset":10414}}},{"type":"text","value":" of each ","position":{"start":{"line":240,"column":217,"offset":10414},"end":{"line":240,"column":226,"offset":10423}}},{"type":"html","value":"<code class=\"language-text\">PUBLIC</code>","position":{"start":{"line":240,"column":226,"offset":10423},"end":{"line":240,"column":234,"offset":10431}}},{"type":"text","value":" response:","position":{"start":{"line":240,"column":234,"offset":10431},"end":{"line":240,"column":244,"offset":10441}}}],"position":{"start":{"line":240,"column":1,"offset":10198},"end":{"line":240,"column":244,"offset":10441}}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"One version for users with a ","position":{"start":{"line":242,"column":3,"offset":10445},"end":{"line":242,"column":32,"offset":10474}}},{"type":"strong","children":[{"type":"text","value":"null ","position":{"start":{"line":242,"column":34,"offset":10476},"end":{"line":242,"column":39,"offset":10481}}},{"type":"html","value":"<code class=\"language-text\">sessionId</code>","position":{"start":{"line":242,"column":39,"offset":10481},"end":{"line":242,"column":50,"offset":10492}}}],"position":{"start":{"line":242,"column":32,"offset":10474},"end":{"line":242,"column":52,"offset":10494}}}],"position":{"start":{"line":242,"column":3,"offset":10445},"end":{"line":242,"column":52,"offset":10494}}}],"position":{"start":{"line":242,"column":1,"offset":10443},"end":{"line":242,"column":52,"offset":10494}}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"One version for users with a ","position":{"start":{"line":243,"column":3,"offset":10497},"end":{"line":243,"column":32,"offset":10526}}},{"type":"strong","children":[{"type":"text","value":"non-null ","position":{"start":{"line":243,"column":34,"offset":10528},"end":{"line":243,"column":43,"offset":10537}}},{"type":"html","value":"<code class=\"language-text\">sessionId</code>","position":{"start":{"line":243,"column":43,"offset":10537},"end":{"line":243,"column":54,"offset":10548}}}],"position":{"start":{"line":243,"column":32,"offset":10526},"end":{"line":243,"column":56,"offset":10550}}}],"position":{"start":{"line":243,"column":3,"offset":10497},"end":{"line":243,"column":56,"offset":10550}}}],"position":{"start":{"line":243,"column":1,"offset":10495},"end":{"line":243,"column":56,"offset":10550}}}],"position":{"start":{"line":242,"column":1,"offset":10443},"end":{"line":243,"column":56,"offset":10550}}},{"type":"paragraph","children":[{"type":"text","value":"This enables you to cache different responses for logged-in and logged-out users. For example, you might want your page header to display different menu items depending on a user's logged-in status.","position":{"start":{"line":245,"column":1,"offset":10552},"end":{"line":245,"column":199,"offset":10750}}}],"position":{"start":{"line":245,"column":1,"offset":10552},"end":{"line":245,"column":199,"offset":10750}}},{"type":"heading","depth":3,"children":[{"type":"link","url":"#configuring-reads-and-writes","title":null,"children":[],"data":{"hProperties":{"aria-label":"configuring reads and writes permalink","class":"anchor before"},"hChildren":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]}},{"type":"text","value":"Configuring reads and writes","position":{"start":{"line":247,"column":5,"offset":10756},"end":{"line":247,"column":33,"offset":10784}}}],"position":{"start":{"line":247,"column":1,"offset":10752},"end":{"line":247,"column":33,"offset":10784}},"data":{"id":"configuring-reads-and-writes","htmlAttributes":{"id":"configuring-reads-and-writes"},"hProperties":{"id":"configuring-reads-and-writes","style":"position:relative;"}}},{"type":"paragraph","children":[{"type":"text","value":"In addition to ","position":{"start":{"line":249,"column":1,"offset":10786},"end":{"line":249,"column":16,"offset":10801}}},{"type":"link","title":null,"url":"#identifying-users-for-private-responses","children":[{"type":"text","value":"the ","position":{"start":{"line":249,"column":17,"offset":10802},"end":{"line":249,"column":21,"offset":10806}}},{"type":"html","value":"<code class=\"language-text\">sessionId</code>","position":{"start":{"line":249,"column":21,"offset":10806},"end":{"line":249,"column":32,"offset":10817}}},{"type":"text","value":" function","position":{"start":{"line":249,"column":32,"offset":10817},"end":{"line":249,"column":41,"offset":10826}}}],"position":{"start":{"line":249,"column":16,"offset":10801},"end":{"line":249,"column":84,"offset":10869}}},{"type":"text","value":", you can provide the following functions to your ","position":{"start":{"line":249,"column":84,"offset":10869},"end":{"line":249,"column":134,"offset":10919}}},{"type":"html","value":"<code class=\"language-text\">responseCachePlugin</code>","position":{"start":{"line":249,"column":134,"offset":10919},"end":{"line":249,"column":155,"offset":10940}}},{"type":"text","value":" to configure cache reads and writes. Each of these functions takes a ","position":{"start":{"line":249,"column":155,"offset":10940},"end":{"line":249,"column":225,"offset":11010}}},{"type":"html","value":"<code class=\"language-text\">GraphQLRequestContext</code>","position":{"start":{"line":249,"column":225,"offset":11010},"end":{"line":249,"column":248,"offset":11033}}},{"type":"text","value":" (representing the incoming operation) as a parameter.","position":{"start":{"line":249,"column":248,"offset":11033},"end":{"line":249,"column":302,"offset":11087}}}],"position":{"start":{"line":249,"column":1,"offset":10786},"end":{"line":249,"column":302,"offset":11087}}},{"type":"table","align":[null,null],"children":[{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"text","value":"Function","position":{"start":{"line":251,"column":3,"offset":11091},"end":{"line":251,"column":11,"offset":11099}}}],"position":{"start":{"line":251,"column":1,"offset":11089},"end":{"line":251,"column":13,"offset":11101}}},{"type":"tableCell","children":[{"type":"text","value":"Description","position":{"start":{"line":251,"column":14,"offset":11102},"end":{"line":251,"column":25,"offset":11113}}}],"position":{"start":{"line":251,"column":13,"offset":11101},"end":{"line":251,"column":27,"offset":11115}}}],"position":{"start":{"line":251,"column":1,"offset":11089},"end":{"line":251,"column":27,"offset":11115}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"html","value":"<code class=\"language-text\">extraCacheKeyData</code>","position":{"start":{"line":253,"column":3,"offset":11145},"end":{"line":253,"column":22,"offset":11164}}}],"position":{"start":{"line":253,"column":1,"offset":11143},"end":{"line":253,"column":24,"offset":11166}}},{"type":"tableCell","children":[{"type":"text","value":"This function's return value (any JSON-stringifiable object) is added to the key for the cached response. For example, if your API includes translatable text, this function can return a string derived from ","position":{"start":{"line":253,"column":25,"offset":11167},"end":{"line":253,"column":231,"offset":11373}}},{"type":"html","value":"<code class=\"language-text\">requestContext.request.http.headers.get('Accept-Language')</code>","position":{"start":{"line":253,"column":231,"offset":11373},"end":{"line":253,"column":291,"offset":11433}}},{"type":"text","value":".","position":{"start":{"line":253,"column":291,"offset":11433},"end":{"line":253,"column":292,"offset":11434}}}],"position":{"start":{"line":253,"column":24,"offset":11166},"end":{"line":253,"column":294,"offset":11436}}}],"position":{"start":{"line":253,"column":1,"offset":11143},"end":{"line":253,"column":294,"offset":11436}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"html","value":"<code class=\"language-text\">shouldReadFromCache</code>","position":{"start":{"line":254,"column":3,"offset":11439},"end":{"line":254,"column":24,"offset":11460}}}],"position":{"start":{"line":254,"column":1,"offset":11437},"end":{"line":254,"column":26,"offset":11462}}},{"type":"tableCell","children":[{"type":"text","value":"If this function returns ","position":{"start":{"line":254,"column":27,"offset":11463},"end":{"line":254,"column":52,"offset":11488}}},{"type":"html","value":"<code class=\"language-text\">false</code>","position":{"start":{"line":254,"column":52,"offset":11488},"end":{"line":254,"column":59,"offset":11495}}},{"type":"text","value":", Apollo Server ","position":{"start":{"line":254,"column":59,"offset":11495},"end":{"line":254,"column":75,"offset":11511}}},{"type":"emphasis","children":[{"type":"text","value":"skips","position":{"start":{"line":254,"column":76,"offset":11512},"end":{"line":254,"column":81,"offset":11517}}}],"position":{"start":{"line":254,"column":75,"offset":11511},"end":{"line":254,"column":82,"offset":11518}}},{"type":"text","value":" the cache for the incoming operation, even if a valid response is available.","position":{"start":{"line":254,"column":82,"offset":11518},"end":{"line":254,"column":159,"offset":11595}}}],"position":{"start":{"line":254,"column":26,"offset":11462},"end":{"line":254,"column":161,"offset":11597}}}],"position":{"start":{"line":254,"column":1,"offset":11437},"end":{"line":254,"column":161,"offset":11597}}},{"type":"tableRow","children":[{"type":"tableCell","children":[{"type":"html","value":"<code class=\"language-text\">shouldWriteToCache</code>","position":{"start":{"line":255,"column":3,"offset":11600},"end":{"line":255,"column":23,"offset":11620}}}],"position":{"start":{"line":255,"column":1,"offset":11598},"end":{"line":255,"column":25,"offset":11622}}},{"type":"tableCell","children":[{"type":"text","value":"If this function returns ","position":{"start":{"line":255,"column":26,"offset":11623},"end":{"line":255,"column":51,"offset":11648}}},{"type":"html","value":"<code class=\"language-text\">false</code>","position":{"start":{"line":255,"column":51,"offset":11648},"end":{"line":255,"column":58,"offset":11655}}},{"type":"text","value":", Apollo Server doesn't cache its response for the incoming operation, even if the response's ","position":{"start":{"line":255,"column":58,"offset":11655},"end":{"line":255,"column":152,"offset":11749}}},{"type":"html","value":"<code class=\"language-text\">maxAge</code>","position":{"start":{"line":255,"column":152,"offset":11749},"end":{"line":255,"column":160,"offset":11757}}},{"type":"text","value":" is greater than ","position":{"start":{"line":255,"column":160,"offset":11757},"end":{"line":255,"column":177,"offset":11774}}},{"type":"html","value":"<code class=\"language-text\">0</code>","position":{"start":{"line":255,"column":177,"offset":11774},"end":{"line":255,"column":180,"offset":11777}}},{"type":"text","value":".","position":{"start":{"line":255,"column":180,"offset":11777},"end":{"line":255,"column":181,"offset":11778}}}],"position":{"start":{"line":255,"column":25,"offset":11622},"end":{"line":255,"column":183,"offset":11780}}}],"position":{"start":{"line":255,"column":1,"offset":11598},"end":{"line":255,"column":183,"offset":11780}}}],"position":{"start":{"line":251,"column":1,"offset":11089},"end":{"line":255,"column":183,"offset":11780}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":256,"column":1,"offset":11781}}}}