{"expireTime":9007200901521021000,"key":"transformer-remark-markdown-html-ast-725bb80287322f256b75f685fcffc595-gatsby-remark-autolink-headersgatsby-remark-copy-linked-filesgatsby-remark-mermaidgatsby-remark-code-titlesgatsby-remark-prismjsgatsby-remark-rewrite-relative-linksgatsby-remark-check-links-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Apollo Server v2.18 deprecates the ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":36,"offset":36}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":2,"column":36,"offset":36},"end":{"line":2,"column":44,"offset":44}}},{"type":"text","value":" option to the ","position":{"start":{"line":2,"column":44,"offset":44},"end":{"line":2,"column":59,"offset":59}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":2,"column":59,"offset":59},"end":{"line":2,"column":73,"offset":73}}},{"type":"text","value":" constructor and provides a new way of configuring its communication with Apollo Studio. The ","position":{"start":{"line":2,"column":73,"offset":73},"end":{"line":2,"column":166,"offset":166}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":2,"column":166,"offset":166},"end":{"line":2,"column":174,"offset":174}}},{"type":"text","value":" option continues to work for existing functionality, but you will eventually want to update to the new API. If you don't explicitly pass ","position":{"start":{"line":2,"column":174,"offset":174},"end":{"line":2,"column":312,"offset":312}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":2,"column":312,"offset":312},"end":{"line":2,"column":320,"offset":320}}},{"type":"text","value":" to the ","position":{"start":{"line":2,"column":320,"offset":320},"end":{"line":2,"column":328,"offset":328}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":2,"column":328,"offset":328},"end":{"line":2,"column":342,"offset":342}}},{"type":"text","value":" constructor, you don't have to do anything.","position":{"start":{"line":2,"column":342,"offset":342},"end":{"line":2,"column":386,"offset":386}}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":386,"offset":386}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Apollo Server ships with several plugins that help it integrate with Apollo Studio: the ","position":{"start":{"line":4,"column":1,"offset":388},"end":{"line":4,"column":89,"offset":476}}},{"type":"element","tagName":"a","properties":{"href":"/v2/api/plugin/usage-reporting/"},"children":[{"type":"text","value":"usage reporting plugin","position":{"start":{"line":4,"column":90,"offset":477},"end":{"line":4,"column":112,"offset":499}}}],"position":{"start":{"line":4,"column":89,"offset":476},"end":{"line":4,"column":144,"offset":531}}},{"type":"text","value":" plugin, the ","position":{"start":{"line":4,"column":144,"offset":531},"end":{"line":4,"column":157,"offset":544}}},{"type":"element","tagName":"a","properties":{"href":"/v2/api/plugin/schema-reporting/"},"children":[{"type":"text","value":"schema reporting plugin","position":{"start":{"line":4,"column":158,"offset":545},"end":{"line":4,"column":181,"offset":568}}}],"position":{"start":{"line":4,"column":157,"offset":544},"end":{"line":4,"column":214,"offset":601}}},{"type":"text","value":", and the ","position":{"start":{"line":4,"column":214,"offset":601},"end":{"line":4,"column":224,"offset":611}}},{"type":"element","tagName":"a","properties":{"href":"/v2/api/plugin/inline-trace/"},"children":[{"type":"text","value":"inline trace plugin","position":{"start":{"line":4,"column":225,"offset":612},"end":{"line":4,"column":244,"offset":631}}}],"position":{"start":{"line":4,"column":224,"offset":611},"end":{"line":4,"column":273,"offset":660}}},{"type":"text","value":". Apollo Server has some heuristics to install these plugins by default in certain circumstances (documented in the individual plugin reference pages), but otherwise they are standard ","position":{"start":{"line":4,"column":273,"offset":660},"end":{"line":4,"column":457,"offset":844}}},{"type":"element","tagName":"a","properties":{"href":"/v2/integrations/plugins/"},"children":[{"type":"text","value":"Apollo Server plugins","position":{"start":{"line":4,"column":458,"offset":845},"end":{"line":4,"column":479,"offset":866}}}],"position":{"start":{"line":4,"column":457,"offset":844},"end":{"line":4,"column":505,"offset":892}}},{"type":"text","value":". They are configured by passing arguments to the constructor functions. Some overall graph configuration (such as your graph API key and graph variant name) is set via the ","position":{"start":{"line":4,"column":505,"offset":892},"end":{"line":4,"column":678,"offset":1065}}},{"type":"raw","value":"<code class=\"language-text\">apollo</code>","position":{"start":{"line":4,"column":678,"offset":1065},"end":{"line":4,"column":686,"offset":1073}}},{"type":"text","value":" option to the ","position":{"start":{"line":4,"column":686,"offset":1073},"end":{"line":4,"column":701,"offset":1088}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":4,"column":701,"offset":1088},"end":{"line":4,"column":715,"offset":1102}}},{"type":"text","value":" constructor (or via environment variables).","position":{"start":{"line":4,"column":715,"offset":1102},"end":{"line":4,"column":759,"offset":1146}}}],"position":{"start":{"line":4,"column":1,"offset":388},"end":{"line":4,"column":759,"offset":1146}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Before Apollo Server v2.18, all this functionality built directly inside Apollo Server, and all of it was configured via the ","position":{"start":{"line":6,"column":1,"offset":1148},"end":{"line":6,"column":126,"offset":1273}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":6,"column":126,"offset":1273},"end":{"line":6,"column":134,"offset":1281}}},{"type":"text","value":" option to the ","position":{"start":{"line":6,"column":134,"offset":1281},"end":{"line":6,"column":149,"offset":1296}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":6,"column":149,"offset":1296},"end":{"line":6,"column":163,"offset":1310}}},{"type":"text","value":" constructor. While the ","position":{"start":{"line":6,"column":163,"offset":1310},"end":{"line":6,"column":187,"offset":1334}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":6,"column":187,"offset":1334},"end":{"line":6,"column":195,"offset":1342}}},{"type":"text","value":" option does continue to work for backwards compatibility, new configuration options will only be added to the plugins directly. To make it easier to understand where configuration is coming from, you cannot mix and match the ","position":{"start":{"line":6,"column":195,"offset":1342},"end":{"line":6,"column":421,"offset":1568}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":6,"column":421,"offset":1568},"end":{"line":6,"column":429,"offset":1576}}},{"type":"text","value":" option with the three new plugins or the ","position":{"start":{"line":6,"column":429,"offset":1576},"end":{"line":6,"column":471,"offset":1618}}},{"type":"raw","value":"<code class=\"language-text\">apollo</code>","position":{"start":{"line":6,"column":471,"offset":1618},"end":{"line":6,"column":479,"offset":1626}}},{"type":"text","value":" option; if you want to start configuring the plugins directly you need to migrate all of your usage of the ","position":{"start":{"line":6,"column":479,"offset":1626},"end":{"line":6,"column":587,"offset":1734}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":6,"column":587,"offset":1734},"end":{"line":6,"column":595,"offset":1742}}},{"type":"text","value":" option to the plugin functions. Fortunately, this is relatively straightforward; most ","position":{"start":{"line":6,"column":595,"offset":1742},"end":{"line":6,"column":682,"offset":1829}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":6,"column":682,"offset":1829},"end":{"line":6,"column":690,"offset":1837}}},{"type":"text","value":" options correspond directly to an option passed to one of the plugins or on the ","position":{"start":{"line":6,"column":690,"offset":1837},"end":{"line":6,"column":771,"offset":1918}}},{"type":"raw","value":"<code class=\"language-text\">apollo</code>","position":{"start":{"line":6,"column":771,"offset":1918},"end":{"line":6,"column":779,"offset":1926}}},{"type":"text","value":" option to ","position":{"start":{"line":6,"column":779,"offset":1926},"end":{"line":6,"column":790,"offset":1937}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":6,"column":790,"offset":1937},"end":{"line":6,"column":804,"offset":1951}}},{"type":"text","value":".  This page lists the options on ","position":{"start":{"line":6,"column":804,"offset":1951},"end":{"line":6,"column":838,"offset":1985}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":6,"column":838,"offset":1985},"end":{"line":6,"column":846,"offset":1993}}},{"type":"text","value":" and explains how to migrate them to the Studio integration plugins.","position":{"start":{"line":6,"column":846,"offset":1993},"end":{"line":6,"column":914,"offset":2061}}}],"position":{"start":{"line":6,"column":1,"offset":1148},"end":{"line":6,"column":914,"offset":2061}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you don't explicitly pass ","position":{"start":{"line":8,"column":1,"offset":2063},"end":{"line":8,"column":30,"offset":2092}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":8,"column":30,"offset":2092},"end":{"line":8,"column":38,"offset":2100}}},{"type":"text","value":" to your ","position":{"start":{"line":8,"column":38,"offset":2100},"end":{"line":8,"column":47,"offset":2109}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":8,"column":47,"offset":2109},"end":{"line":8,"column":61,"offset":2123}}},{"type":"text","value":" constructor, you don't need to make any changes! Specifically, configuration via the environment variables ","position":{"start":{"line":8,"column":61,"offset":2123},"end":{"line":8,"column":169,"offset":2231}}},{"type":"raw","value":"<code class=\"language-text\">APOLLO_KEY</code>","position":{"start":{"line":8,"column":169,"offset":2231},"end":{"line":8,"column":181,"offset":2243}}},{"type":"text","value":" (and its legacy equivalent ","position":{"start":{"line":8,"column":181,"offset":2243},"end":{"line":8,"column":209,"offset":2271}}},{"type":"raw","value":"<code class=\"language-text\">ENGINE_API_KEY</code>","position":{"start":{"line":8,"column":209,"offset":2271},"end":{"line":8,"column":225,"offset":2287}}},{"type":"text","value":"), ","position":{"start":{"line":8,"column":225,"offset":2287},"end":{"line":8,"column":228,"offset":2290}}},{"type":"raw","value":"<code class=\"language-text\">APOLLO_GRAPH_VARIANT</code>","position":{"start":{"line":8,"column":228,"offset":2290},"end":{"line":8,"column":250,"offset":2312}}},{"type":"text","value":" (and its legacy equivalent ","position":{"start":{"line":8,"column":250,"offset":2312},"end":{"line":8,"column":278,"offset":2340}}},{"type":"raw","value":"<code class=\"language-text\">ENGINE_SCHEMA_TAG</code>","position":{"start":{"line":8,"column":278,"offset":2340},"end":{"line":8,"column":297,"offset":2359}}},{"type":"text","value":"), and ","position":{"start":{"line":8,"column":297,"offset":2359},"end":{"line":8,"column":304,"offset":2366}}},{"type":"raw","value":"<code class=\"language-text\">APOLLO_SCHEMA_REPORTING</code>","position":{"start":{"line":8,"column":304,"offset":2366},"end":{"line":8,"column":329,"offset":2391}}},{"type":"text","value":" has not changed at all.","position":{"start":{"line":8,"column":329,"offset":2391},"end":{"line":8,"column":353,"offset":2415}}}],"position":{"start":{"line":8,"column":1,"offset":2063},"end":{"line":8,"column":353,"offset":2415}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(There is one minor change in v2.18 that happens if you don't use any of this Studio integration: upgrading to Apollo Server v2.18 will make ","position":{"start":{"line":10,"column":1,"offset":2417},"end":{"line":10,"column":142,"offset":2558}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":10,"column":142,"offset":2558},"end":{"line":10,"column":156,"offset":2572}}},{"type":"text","value":" start registering ","position":{"start":{"line":10,"column":156,"offset":2572},"end":{"line":10,"column":175,"offset":2591}}},{"type":"raw","value":"<code class=\"language-text\">SIGINT</code>","position":{"start":{"line":10,"column":175,"offset":2591},"end":{"line":10,"column":183,"offset":2599}}},{"type":"text","value":" and ","position":{"start":{"line":10,"column":183,"offset":2599},"end":{"line":10,"column":188,"offset":2604}}},{"type":"raw","value":"<code class=\"language-text\">SIGTERM</code>","position":{"start":{"line":10,"column":188,"offset":2604},"end":{"line":10,"column":197,"offset":2613}}},{"type":"text","value":" signal handlers which invoke ","position":{"start":{"line":10,"column":197,"offset":2613},"end":{"line":10,"column":227,"offset":2643}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer.stop()</code>","position":{"start":{"line":10,"column":227,"offset":2643},"end":{"line":10,"column":248,"offset":2664}}},{"type":"text","value":" when those signals are received. Previously these handlers were only registered when you use Studio usage or schema reporting. If this is a problem for you, disable the handlers by passing ","position":{"start":{"line":10,"column":248,"offset":2664},"end":{"line":10,"column":438,"offset":2854}}},{"type":"raw","value":"<code class=\"language-text\">stopOnTerminationSignals: false</code>","position":{"start":{"line":10,"column":438,"offset":2854},"end":{"line":10,"column":471,"offset":2887}}},{"type":"text","value":" to the ","position":{"start":{"line":10,"column":471,"offset":2887},"end":{"line":10,"column":479,"offset":2895}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":10,"column":479,"offset":2895},"end":{"line":10,"column":493,"offset":2909}}},{"type":"text","value":" constructor.)","position":{"start":{"line":10,"column":493,"offset":2909},"end":{"line":10,"column":507,"offset":2923}}}],"position":{"start":{"line":10,"column":1,"offset":2417},"end":{"line":10,"column":507,"offset":2923}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"migration-example","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#migration-example","aria-label":"migration example permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Migration example","position":{"start":{"line":12,"column":4,"offset":2928},"end":{"line":12,"column":21,"offset":2945}}}],"position":{"start":{"line":12,"column":1,"offset":2925},"end":{"line":12,"column":21,"offset":2945}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Here's a high level example showing how to migrate off of the ","position":{"start":{"line":14,"column":1,"offset":2947},"end":{"line":14,"column":63,"offset":3009}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":14,"column":63,"offset":3009},"end":{"line":14,"column":71,"offset":3017}}},{"type":"text","value":" option. Let's say your ","position":{"start":{"line":14,"column":71,"offset":3017},"end":{"line":14,"column":95,"offset":3041}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":14,"column":95,"offset":3041},"end":{"line":14,"column":109,"offset":3055}}},{"type":"text","value":" constructor looked like this, and you already set your API key using ","position":{"start":{"line":14,"column":109,"offset":3055},"end":{"line":14,"column":179,"offset":3125}}},{"type":"raw","value":"<code class=\"language-text\">$APOLLO_KEY</code>","position":{"start":{"line":14,"column":179,"offset":3125},"end":{"line":14,"column":192,"offset":3138}}},{"type":"text","value":":","position":{"start":{"line":14,"column":192,"offset":3138},"end":{"line":14,"column":193,"offset":3139}}}],"position":{"start":{"line":14,"column":1,"offset":2947},"end":{"line":14,"column":193,"offset":3139}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-express'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">rewriteError</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">hide-me</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> err<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">reportTiming</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">requestContext</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> requestContext<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>http<span class=\"token operator\">?.</span>headers<span class=\"token operator\">?.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'no-report'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  typeDefs<span class=\"token punctuation\">,</span>\n  resolvers<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">graphVariant</span><span class=\"token operator\">:</span> <span class=\"token string\">'prod'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">handleSignals</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    rewriteError<span class=\"token punctuation\">,</span>\n    reportTiming<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">privateVariables</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bar'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">reportSchema</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">schemaReportingInitialDelayMaxMs</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":16,"column":1,"offset":3141},"end":{"line":43,"column":4,"offset":3710}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can rewrite this as:","position":{"start":{"line":45,"column":1,"offset":3712},"end":{"line":45,"column":25,"offset":3736}}}],"position":{"start":{"line":45,"column":1,"offset":3712},"end":{"line":45,"column":25,"offset":3736}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-express'</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// The plugins are always imported from apollo-server-core, no matter which</span>\n<span class=\"token comment\">// framework you use.</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  ApolloServerPluginUsageReporting<span class=\"token punctuation\">,</span>\n  ApolloServerPluginSchemaReporting<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">rewriteError</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">hide-me</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> err<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">includeRequest</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">requestContext</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> requestContext<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>http<span class=\"token operator\">?.</span>headers<span class=\"token operator\">?.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'no-report'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  typeDefs<span class=\"token punctuation\">,</span>\n  resolvers<span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">apollo</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// You can also just set $APOLLO_GRAPH_VARIANT.</span>\n    <span class=\"token literal-property property\">graphVariant</span><span class=\"token operator\">:</span> <span class=\"token string\">'prod'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">stopOnTerminationSignals</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">ApolloServerPluginUsageReporting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      rewriteError<span class=\"token punctuation\">,</span>\n      includeRequest<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">sendVariableValues</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">exceptNames</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'bar'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">ApolloServerPluginSchemaReporting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">initialDelayMaxMs</span><span class=\"token operator\">:</span> <span class=\"token number\">30</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":47,"column":1,"offset":3738},"end":{"line":86,"column":4,"offset":4682}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"options-that-move-to-apollo","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#options-that-move-to-apollo","aria-label":"options that move to apollo permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Options that move to ","position":{"start":{"line":88,"column":4,"offset":4687},"end":{"line":88,"column":25,"offset":4708}}},{"type":"raw","value":"<code class=\"language-text\">apollo</code>","position":{"start":{"line":88,"column":25,"offset":4708},"end":{"line":88,"column":33,"offset":4716}}}],"position":{"start":{"line":88,"column":1,"offset":4684},"end":{"line":88,"column":33,"offset":4716}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Two ","position":{"start":{"line":90,"column":1,"offset":4718},"end":{"line":90,"column":5,"offset":4722}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":90,"column":5,"offset":4722},"end":{"line":90,"column":13,"offset":4730}}},{"type":"text","value":" options move to the new ","position":{"start":{"line":90,"column":13,"offset":4730},"end":{"line":90,"column":38,"offset":4755}}},{"type":"element","tagName":"a","properties":{"href":"/v2/api/apollo-server/#apollo"},"children":[{"type":"raw","value":"<code class=\"language-text\">apollo</code>","position":{"start":{"line":90,"column":39,"offset":4756},"end":{"line":90,"column":47,"offset":4764}}},{"type":"text","value":" option to the ","position":{"start":{"line":90,"column":47,"offset":4764},"end":{"line":90,"column":62,"offset":4779}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":90,"column":62,"offset":4779},"end":{"line":90,"column":76,"offset":4793}}},{"type":"text","value":" constructor","position":{"start":{"line":90,"column":76,"offset":4793},"end":{"line":90,"column":88,"offset":4805}}}],"position":{"start":{"line":90,"column":38,"offset":4755},"end":{"line":90,"column":118,"offset":4835}}},{"type":"text","value":". ","position":{"start":{"line":90,"column":118,"offset":4835},"end":{"line":90,"column":120,"offset":4837}}},{"type":"raw","value":"<code class=\"language-text\">engine.apiKey</code>","position":{"start":{"line":90,"column":120,"offset":4837},"end":{"line":90,"column":135,"offset":4852}}},{"type":"text","value":" becomes ","position":{"start":{"line":90,"column":135,"offset":4852},"end":{"line":90,"column":144,"offset":4861}}},{"type":"raw","value":"<code class=\"language-text\">apollo.key</code>","position":{"start":{"line":90,"column":144,"offset":4861},"end":{"line":90,"column":156,"offset":4873}}},{"type":"text","value":", and ","position":{"start":{"line":90,"column":156,"offset":4873},"end":{"line":90,"column":162,"offset":4879}}},{"type":"raw","value":"<code class=\"language-text\">engine.graphVariant</code>","position":{"start":{"line":90,"column":162,"offset":4879},"end":{"line":90,"column":183,"offset":4900}}},{"type":"text","value":" becomes ","position":{"start":{"line":90,"column":183,"offset":4900},"end":{"line":90,"column":192,"offset":4909}}},{"type":"raw","value":"<code class=\"language-text\">apollo.graphVariant</code>","position":{"start":{"line":90,"column":192,"offset":4909},"end":{"line":90,"column":213,"offset":4930}}},{"type":"text","value":". ","position":{"start":{"line":90,"column":213,"offset":4930},"end":{"line":90,"column":215,"offset":4932}}},{"type":"raw","value":"<code class=\"language-text\">engine.schemaTag</code>","position":{"start":{"line":90,"column":215,"offset":4932},"end":{"line":90,"column":233,"offset":4950}}},{"type":"text","value":" was a previous name for ","position":{"start":{"line":90,"column":233,"offset":4950},"end":{"line":90,"column":258,"offset":4975}}},{"type":"raw","value":"<code class=\"language-text\">engine.graphVariant</code>","position":{"start":{"line":90,"column":258,"offset":4975},"end":{"line":90,"column":279,"offset":4996}}},{"type":"text","value":", so uses of that field should also change to ","position":{"start":{"line":90,"column":279,"offset":4996},"end":{"line":90,"column":325,"offset":5042}}},{"type":"raw","value":"<code class=\"language-text\">apollo.graphVariant</code>","position":{"start":{"line":90,"column":325,"offset":5042},"end":{"line":90,"column":346,"offset":5063}}},{"type":"text","value":" (","position":{"start":{"line":90,"column":346,"offset":5063},"end":{"line":90,"column":348,"offset":5065}}},{"type":"raw","value":"<code class=\"language-text\">apollo.schemaTag</code>","position":{"start":{"line":90,"column":348,"offset":5065},"end":{"line":90,"column":366,"offset":5083}}},{"type":"text","value":" is not supported).","position":{"start":{"line":90,"column":366,"offset":5083},"end":{"line":90,"column":385,"offset":5102}}}],"position":{"start":{"line":90,"column":1,"offset":4718},"end":{"line":90,"column":385,"offset":5102}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// This code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">apiKey</span><span class=\"token operator\">:</span> <span class=\"token string\">'service:xxx:yyy'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">graphVariant</span><span class=\"token operator\">:</span> <span class=\"token string\">'production'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code.</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">apollo</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">key</span><span class=\"token operator\">:</span> <span class=\"token string\">'service:xxx:yyy'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">graphVariant</span><span class=\"token operator\">:</span> <span class=\"token string\">'production'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":92,"column":1,"offset":5104},"end":{"line":108,"column":4,"offset":5398}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that these two options are often specified via environment variable: the API key can be specified as ","position":{"start":{"line":110,"column":1,"offset":5400},"end":{"line":110,"column":107,"offset":5506}}},{"type":"raw","value":"<code class=\"language-text\">APOLLO_KEY</code>","position":{"start":{"line":110,"column":107,"offset":5506},"end":{"line":110,"column":119,"offset":5518}}},{"type":"text","value":" (or its legacy equivalent ","position":{"start":{"line":110,"column":119,"offset":5518},"end":{"line":110,"column":146,"offset":5545}}},{"type":"raw","value":"<code class=\"language-text\">ENGINE_API_KEY</code>","position":{"start":{"line":110,"column":146,"offset":5545},"end":{"line":110,"column":162,"offset":5561}}},{"type":"text","value":"), and the graph variant can be specified as ","position":{"start":{"line":110,"column":162,"offset":5561},"end":{"line":110,"column":207,"offset":5606}}},{"type":"raw","value":"<code class=\"language-text\">APOLLO_GRAPH_VARIANT</code>","position":{"start":{"line":110,"column":207,"offset":5606},"end":{"line":110,"column":229,"offset":5628}}},{"type":"text","value":" (or its legacy equivalent ","position":{"start":{"line":110,"column":229,"offset":5628},"end":{"line":110,"column":256,"offset":5655}}},{"type":"raw","value":"<code class=\"language-text\">ENGINE_SCHEMA_TAG</code>","position":{"start":{"line":110,"column":256,"offset":5655},"end":{"line":110,"column":275,"offset":5674}}},{"type":"text","value":"). Apollo Server v2.18 does not change this behavior.","position":{"start":{"line":110,"column":275,"offset":5674},"end":{"line":110,"column":328,"offset":5727}}}],"position":{"start":{"line":110,"column":1,"offset":5400},"end":{"line":110,"column":328,"offset":5727}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"options-that-move-to-the-apolloserver-constructor","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#options-that-move-to-the-apolloserver-constructor","aria-label":"options that move to the apolloserver constructor permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Options that move to the ","position":{"start":{"line":113,"column":4,"offset":5733},"end":{"line":113,"column":29,"offset":5758}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":113,"column":29,"offset":5758},"end":{"line":113,"column":43,"offset":5772}}},{"type":"text","value":" constructor","position":{"start":{"line":113,"column":43,"offset":5772},"end":{"line":113,"column":55,"offset":5784}}}],"position":{"start":{"line":113,"column":1,"offset":5730},"end":{"line":113,"column":55,"offset":5784}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prior to Apollo Server v2.18, the usage reporting functionality registered one-shot handlers for the ","position":{"start":{"line":115,"column":1,"offset":5786},"end":{"line":115,"column":102,"offset":5887}}},{"type":"raw","value":"<code class=\"language-text\">SIGINT</code>","position":{"start":{"line":115,"column":102,"offset":5887},"end":{"line":115,"column":110,"offset":5895}}},{"type":"text","value":" and ","position":{"start":{"line":115,"column":110,"offset":5895},"end":{"line":115,"column":115,"offset":5900}}},{"type":"raw","value":"<code class=\"language-text\">SIGTERM</code>","position":{"start":{"line":115,"column":115,"offset":5900},"end":{"line":115,"column":124,"offset":5909}}},{"type":"text","value":" signals, which it used to send one final usage report before re-sending the signal to itself to continue shutdown. These signals handlers were installed by default if you enabled usage or schema reporting, and could be disabled by passing ","position":{"start":{"line":115,"column":124,"offset":5909},"end":{"line":115,"column":364,"offset":6149}}},{"type":"raw","value":"<code class=\"language-text\">engine.handleSignals: false</code>","position":{"start":{"line":115,"column":364,"offset":6149},"end":{"line":115,"column":393,"offset":6178}}},{"type":"text","value":".","position":{"start":{"line":115,"column":393,"offset":6178},"end":{"line":115,"column":394,"offset":6179}}}],"position":{"start":{"line":115,"column":1,"offset":5786},"end":{"line":115,"column":394,"offset":6179}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"In Apollo Server v2.18, termination signal handling is the responsibility of Apollo Server as a whole rather than something specific to usage reporting. Apollo Server itself now registers these one-shot signal handlers, which trigger ","position":{"start":{"line":117,"column":1,"offset":6181},"end":{"line":117,"column":235,"offset":6415}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer.stop()</code>","position":{"start":{"line":117,"column":235,"offset":6415},"end":{"line":117,"column":256,"offset":6436}}},{"type":"text","value":". This allows any plugin that implements the new ","position":{"start":{"line":117,"column":256,"offset":6436},"end":{"line":117,"column":305,"offset":6485}}},{"type":"raw","value":"<code class=\"language-text\">serverWillStop</code>","position":{"start":{"line":117,"column":305,"offset":6485},"end":{"line":117,"column":321,"offset":6501}}},{"type":"text","value":" callback to hook into shutdown logic, not just the usage reporting code.","position":{"start":{"line":117,"column":321,"offset":6501},"end":{"line":117,"column":394,"offset":6574}}}],"position":{"start":{"line":117,"column":1,"offset":6181},"end":{"line":117,"column":394,"offset":6574}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Similarly to before, these signal handlers are registered by default but can be disabled by via an option. We've changed the option name to ","position":{"start":{"line":119,"column":1,"offset":6576},"end":{"line":119,"column":141,"offset":6716}}},{"type":"raw","value":"<code class=\"language-text\">stopOnTerminationSignals: false</code>","position":{"start":{"line":119,"column":141,"offset":6716},"end":{"line":119,"column":174,"offset":6749}}},{"type":"text","value":" as it is more explicit about the behavior.","position":{"start":{"line":119,"column":174,"offset":6749},"end":{"line":119,"column":217,"offset":6792}}}],"position":{"start":{"line":119,"column":1,"offset":6576},"end":{"line":119,"column":217,"offset":6792}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// This code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">handleSignals</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code.</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">stopOnTerminationSignals</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":121,"column":1,"offset":6794},"end":{"line":133,"column":4,"offset":7009}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"options-for-apolloserverpluginusagereporting","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#options-for-apolloserverpluginusagereporting","aria-label":"options for apolloserverpluginusagereporting permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Options for ","position":{"start":{"line":136,"column":4,"offset":7015},"end":{"line":136,"column":16,"offset":7027}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":136,"column":16,"offset":7027},"end":{"line":136,"column":50,"offset":7061}}}],"position":{"start":{"line":136,"column":1,"offset":7012},"end":{"line":136,"column":50,"offset":7061}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The majority of ","position":{"start":{"line":138,"column":1,"offset":7063},"end":{"line":138,"column":17,"offset":7079}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":138,"column":17,"offset":7079},"end":{"line":138,"column":25,"offset":7087}}},{"type":"text","value":" options configure how usage reporting works. Many of them can be moved directly to a call to ","position":{"start":{"line":138,"column":25,"offset":7087},"end":{"line":138,"column":119,"offset":7181}}},{"type":"element","tagName":"a","properties":{"href":"/v2/api/plugin/usage-reporting/"},"children":[{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":138,"column":120,"offset":7182},"end":{"line":138,"column":154,"offset":7216}}}],"position":{"start":{"line":138,"column":119,"offset":7181},"end":{"line":138,"column":186,"offset":7248}}},{"type":"text","value":" in the ","position":{"start":{"line":138,"column":186,"offset":7248},"end":{"line":138,"column":194,"offset":7256}}},{"type":"raw","value":"<code class=\"language-text\">plugins</code>","position":{"start":{"line":138,"column":194,"offset":7256},"end":{"line":138,"column":203,"offset":7265}}},{"type":"text","value":" array.","position":{"start":{"line":138,"column":203,"offset":7265},"end":{"line":138,"column":210,"offset":7272}}}],"position":{"start":{"line":138,"column":1,"offset":7063},"end":{"line":138,"column":210,"offset":7272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These ","position":{"start":{"line":140,"column":1,"offset":7274},"end":{"line":140,"column":7,"offset":7280}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":140,"column":7,"offset":7280},"end":{"line":140,"column":15,"offset":7288}}},{"type":"text","value":" options work exactly like the ","position":{"start":{"line":140,"column":15,"offset":7288},"end":{"line":140,"column":46,"offset":7319}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":140,"column":46,"offset":7319},"end":{"line":140,"column":80,"offset":7353}}},{"type":"text","value":" options of the same name:","position":{"start":{"line":140,"column":80,"offset":7353},"end":{"line":140,"column":106,"offset":7379}}}],"position":{"start":{"line":140,"column":1,"offset":7274},"end":{"line":140,"column":106,"offset":7379}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">calculateSignature</code>","position":{"start":{"line":142,"column":3,"offset":7383},"end":{"line":142,"column":23,"offset":7403}}}],"position":{"start":{"line":142,"column":1,"offset":7381},"end":{"line":142,"column":23,"offset":7403}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">debugPrintReports</code>","position":{"start":{"line":143,"column":3,"offset":7406},"end":{"line":143,"column":22,"offset":7425}}}],"position":{"start":{"line":143,"column":1,"offset":7404},"end":{"line":143,"column":22,"offset":7425}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">endpointUrl</code>","position":{"start":{"line":144,"column":3,"offset":7428},"end":{"line":144,"column":16,"offset":7441}}}],"position":{"start":{"line":144,"column":1,"offset":7426},"end":{"line":144,"column":16,"offset":7441}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">generateClientInfo</code>","position":{"start":{"line":145,"column":3,"offset":7444},"end":{"line":145,"column":23,"offset":7464}}}],"position":{"start":{"line":145,"column":1,"offset":7442},"end":{"line":145,"column":23,"offset":7464}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">maxAttempts</code>","position":{"start":{"line":146,"column":3,"offset":7467},"end":{"line":146,"column":16,"offset":7480}}}],"position":{"start":{"line":146,"column":1,"offset":7465},"end":{"line":146,"column":16,"offset":7480}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">maxUncompressedReportSize</code>","position":{"start":{"line":147,"column":3,"offset":7483},"end":{"line":147,"column":30,"offset":7510}}}],"position":{"start":{"line":147,"column":1,"offset":7481},"end":{"line":147,"column":30,"offset":7510}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">minimumRetryDelayMs</code>","position":{"start":{"line":148,"column":3,"offset":7513},"end":{"line":148,"column":24,"offset":7534}}}],"position":{"start":{"line":148,"column":1,"offset":7511},"end":{"line":148,"column":24,"offset":7534}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">reportErrorFunction</code>","position":{"start":{"line":149,"column":3,"offset":7537},"end":{"line":149,"column":24,"offset":7558}}}],"position":{"start":{"line":149,"column":1,"offset":7535},"end":{"line":149,"column":24,"offset":7558}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">reportIntervalMs</code>","position":{"start":{"line":150,"column":3,"offset":7561},"end":{"line":150,"column":21,"offset":7579}}}],"position":{"start":{"line":150,"column":1,"offset":7559},"end":{"line":150,"column":21,"offset":7579}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">requestAgent</code>","position":{"start":{"line":151,"column":3,"offset":7582},"end":{"line":151,"column":17,"offset":7596}}}],"position":{"start":{"line":151,"column":1,"offset":7580},"end":{"line":151,"column":17,"offset":7596}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">rewriteError</code>","position":{"start":{"line":152,"column":3,"offset":7599},"end":{"line":152,"column":17,"offset":7613}}}],"position":{"start":{"line":152,"column":1,"offset":7597},"end":{"line":152,"column":17,"offset":7613}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">sendHeaders</code>","position":{"start":{"line":153,"column":3,"offset":7616},"end":{"line":153,"column":16,"offset":7629}}}],"position":{"start":{"line":153,"column":1,"offset":7614},"end":{"line":153,"column":16,"offset":7629}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">sendReportsImmediately</code>","position":{"start":{"line":154,"column":3,"offset":7632},"end":{"line":154,"column":27,"offset":7656}}}],"position":{"start":{"line":154,"column":1,"offset":7630},"end":{"line":154,"column":27,"offset":7656}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">sendVariableValues</code>","position":{"start":{"line":155,"column":3,"offset":7659},"end":{"line":155,"column":23,"offset":7679}}}],"position":{"start":{"line":155,"column":1,"offset":7657},"end":{"line":155,"column":23,"offset":7679}}},{"type":"text","value":"\n"}],"position":{"start":{"line":142,"column":1,"offset":7381},"end":{"line":155,"column":23,"offset":7679}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":157,"column":1,"offset":7681},"end":{"line":157,"column":5,"offset":7685}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":157,"column":5,"offset":7685},"end":{"line":157,"column":13,"offset":7693}}},{"type":"text","value":" option ","position":{"start":{"line":157,"column":13,"offset":7693},"end":{"line":157,"column":21,"offset":7701}}},{"type":"raw","value":"<code class=\"language-text\">tracesEndpointUrl</code>","position":{"start":{"line":157,"column":21,"offset":7701},"end":{"line":157,"column":40,"offset":7720}}},{"type":"text","value":" was another name for ","position":{"start":{"line":157,"column":40,"offset":7720},"end":{"line":157,"column":62,"offset":7742}}},{"type":"raw","value":"<code class=\"language-text\">endpointUrl</code>","position":{"start":{"line":157,"column":62,"offset":7742},"end":{"line":157,"column":75,"offset":7755}}},{"type":"text","value":" and also becomes the ","position":{"start":{"line":157,"column":75,"offset":7755},"end":{"line":157,"column":97,"offset":7777}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":157,"column":97,"offset":7777},"end":{"line":157,"column":131,"offset":7811}}},{"type":"text","value":" option ","position":{"start":{"line":157,"column":131,"offset":7811},"end":{"line":157,"column":139,"offset":7819}}},{"type":"raw","value":"<code class=\"language-text\">endpointUrl</code>","position":{"start":{"line":157,"column":139,"offset":7819},"end":{"line":157,"column":152,"offset":7832}}},{"type":"text","value":".","position":{"start":{"line":157,"column":152,"offset":7832},"end":{"line":157,"column":153,"offset":7833}}}],"position":{"start":{"line":157,"column":1,"offset":7681},"end":{"line":157,"column":153,"offset":7833}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":159,"column":1,"offset":7835},"end":{"line":159,"column":5,"offset":7839}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":159,"column":5,"offset":7839},"end":{"line":159,"column":13,"offset":7847}}},{"type":"text","value":" option ","position":{"start":{"line":159,"column":13,"offset":7847},"end":{"line":159,"column":21,"offset":7855}}},{"type":"raw","value":"<code class=\"language-text\">reportTiming</code>","position":{"start":{"line":159,"column":21,"offset":7855},"end":{"line":159,"column":35,"offset":7869}}},{"type":"text","value":" can be either a function or a boolean. If you passed a function here, you can pass the same function as the ","position":{"start":{"line":159,"column":35,"offset":7869},"end":{"line":159,"column":144,"offset":7978}}},{"type":"raw","value":"<code class=\"language-text\">includeRequest</code>","position":{"start":{"line":159,"column":144,"offset":7978},"end":{"line":159,"column":160,"offset":7994}}},{"type":"text","value":" option to ","position":{"start":{"line":159,"column":160,"offset":7994},"end":{"line":159,"column":171,"offset":8005}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":159,"column":171,"offset":8005},"end":{"line":159,"column":205,"offset":8039}}},{"type":"text","value":". If you passed ","position":{"start":{"line":159,"column":205,"offset":8039},"end":{"line":159,"column":221,"offset":8055}}},{"type":"raw","value":"<code class=\"language-text\">true</code>","position":{"start":{"line":159,"column":221,"offset":8055},"end":{"line":159,"column":227,"offset":8061}}},{"type":"text","value":" here, you don't need to do anything special: this just means to enable usage reporting, which is the default if an API key is provided. If you passed ","position":{"start":{"line":159,"column":227,"offset":8061},"end":{"line":159,"column":378,"offset":8212}}},{"type":"raw","value":"<code class=\"language-text\">false</code>","position":{"start":{"line":159,"column":378,"offset":8212},"end":{"line":159,"column":385,"offset":8219}}},{"type":"text","value":" here, that means you didn't want usage reporting even though you've configured ","position":{"start":{"line":159,"column":385,"offset":8219},"end":{"line":159,"column":465,"offset":8299}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":159,"column":465,"offset":8299},"end":{"line":159,"column":479,"offset":8313}}},{"type":"text","value":" with an API key (perhaps you only want schema reporting); in that case, you should use the ","position":{"start":{"line":159,"column":479,"offset":8313},"end":{"line":159,"column":571,"offset":8405}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReportingDisabled</code>","position":{"start":{"line":159,"column":571,"offset":8405},"end":{"line":159,"column":613,"offset":8447}}},{"type":"text","value":" plugin (see example below).","position":{"start":{"line":159,"column":613,"offset":8447},"end":{"line":159,"column":641,"offset":8475}}}],"position":{"start":{"line":159,"column":1,"offset":7835},"end":{"line":159,"column":641,"offset":8475}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":161,"column":1,"offset":8477},"end":{"line":161,"column":5,"offset":8481}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":161,"column":5,"offset":8481},"end":{"line":161,"column":13,"offset":8489}}},{"type":"text","value":" option ","position":{"start":{"line":161,"column":13,"offset":8489},"end":{"line":161,"column":21,"offset":8497}}},{"type":"raw","value":"<code class=\"language-text\">maskErrorDetails</code>","position":{"start":{"line":161,"column":21,"offset":8497},"end":{"line":161,"column":39,"offset":8515}}},{"type":"text","value":" was deprecated in Apollo Server 2.5 and replaced by ","position":{"start":{"line":161,"column":39,"offset":8515},"end":{"line":161,"column":92,"offset":8568}}},{"type":"raw","value":"<code class=\"language-text\">rewriteError</code>","position":{"start":{"line":161,"column":92,"offset":8568},"end":{"line":161,"column":106,"offset":8582}}},{"type":"text","value":". While ","position":{"start":{"line":161,"column":106,"offset":8582},"end":{"line":161,"column":114,"offset":8590}}},{"type":"raw","value":"<code class=\"language-text\">engine.maskErrorDetails</code>","position":{"start":{"line":161,"column":114,"offset":8590},"end":{"line":161,"column":139,"offset":8615}}},{"type":"text","value":" still works for backwards compatibility, there is no ","position":{"start":{"line":161,"column":139,"offset":8615},"end":{"line":161,"column":193,"offset":8669}}},{"type":"raw","value":"<code class=\"language-text\">maskErrorDetails</code>","position":{"start":{"line":161,"column":193,"offset":8669},"end":{"line":161,"column":211,"offset":8687}}},{"type":"text","value":" option to ","position":{"start":{"line":161,"column":211,"offset":8687},"end":{"line":161,"column":222,"offset":8698}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":161,"column":222,"offset":8698},"end":{"line":161,"column":256,"offset":8732}}},{"type":"text","value":". If you previously passed ","position":{"start":{"line":161,"column":256,"offset":8732},"end":{"line":161,"column":283,"offset":8759}}},{"type":"raw","value":"<code class=\"language-text\">engine.maskErrorDetails</code>","position":{"start":{"line":161,"column":283,"offset":8759},"end":{"line":161,"column":308,"offset":8784}}},{"type":"text","value":", you can instead pass ","position":{"start":{"line":161,"column":308,"offset":8784},"end":{"line":161,"column":331,"offset":8807}}},{"type":"raw","value":"<code class=\"language-text\">rewriteError: () => new GraphQLError('&lt;masked>')</code>","position":{"start":{"line":161,"column":331,"offset":8807},"end":{"line":161,"column":381,"offset":8857}}},{"type":"text","value":" to ","position":{"start":{"line":161,"column":381,"offset":8857},"end":{"line":161,"column":385,"offset":8861}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":161,"column":385,"offset":8861},"end":{"line":161,"column":419,"offset":8895}}},{"type":"text","value":".","position":{"start":{"line":161,"column":419,"offset":8895},"end":{"line":161,"column":420,"offset":8896}}}],"position":{"start":{"line":161,"column":1,"offset":8477},"end":{"line":161,"column":420,"offset":8896}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":163,"column":1,"offset":8898},"end":{"line":163,"column":5,"offset":8902}}},{"type":"raw","value":"<code class=\"language-text\">privateVariables</code>","position":{"start":{"line":163,"column":5,"offset":8902},"end":{"line":163,"column":23,"offset":8920}}},{"type":"text","value":" and ","position":{"start":{"line":163,"column":23,"offset":8920},"end":{"line":163,"column":28,"offset":8925}}},{"type":"raw","value":"<code class=\"language-text\">privateHeaders</code>","position":{"start":{"line":163,"column":28,"offset":8925},"end":{"line":163,"column":44,"offset":8941}}},{"type":"text","value":" ","position":{"start":{"line":163,"column":44,"offset":8941},"end":{"line":163,"column":45,"offset":8942}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":163,"column":45,"offset":8942},"end":{"line":163,"column":53,"offset":8950}}},{"type":"text","value":" options were deprecated in Apollo Server 2.7 and replaced by ","position":{"start":{"line":163,"column":53,"offset":8950},"end":{"line":163,"column":115,"offset":9012}}},{"type":"raw","value":"<code class=\"language-text\">sendVariableValues</code>","position":{"start":{"line":163,"column":115,"offset":9012},"end":{"line":163,"column":135,"offset":9032}}},{"type":"text","value":" and ","position":{"start":{"line":163,"column":135,"offset":9032},"end":{"line":163,"column":140,"offset":9037}}},{"type":"raw","value":"<code class=\"language-text\">sendHeaders</code>","position":{"start":{"line":163,"column":140,"offset":9037},"end":{"line":163,"column":153,"offset":9050}}},{"type":"text","value":". While they still work on ","position":{"start":{"line":163,"column":153,"offset":9050},"end":{"line":163,"column":180,"offset":9077}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":163,"column":180,"offset":9077},"end":{"line":163,"column":188,"offset":9085}}},{"type":"text","value":" for backwards compatibility, you need to use the newer version if calling ","position":{"start":{"line":163,"column":188,"offset":9085},"end":{"line":163,"column":263,"offset":9160}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":163,"column":263,"offset":9160},"end":{"line":163,"column":297,"offset":9194}}},{"type":"text","value":" directly.","position":{"start":{"line":163,"column":297,"offset":9194},"end":{"line":163,"column":307,"offset":9204}}}],"position":{"start":{"line":163,"column":1,"offset":8898},"end":{"line":163,"column":307,"offset":9204}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">engine.privateVariables: true</code>","position":{"start":{"line":165,"column":3,"offset":9208},"end":{"line":165,"column":34,"offset":9239}}},{"type":"text","value":" is equivalent to ","position":{"start":{"line":165,"column":34,"offset":9239},"end":{"line":165,"column":52,"offset":9257}}},{"type":"raw","value":"<code class=\"language-text\">sendVariableValues: { none: true }</code>","position":{"start":{"line":165,"column":52,"offset":9257},"end":{"line":165,"column":88,"offset":9293}}}],"position":{"start":{"line":165,"column":1,"offset":9206},"end":{"line":165,"column":88,"offset":9293}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">engine.privateVariables: false</code>","position":{"start":{"line":166,"column":3,"offset":9296},"end":{"line":166,"column":35,"offset":9328}}},{"type":"text","value":" is equivalent to ","position":{"start":{"line":166,"column":35,"offset":9328},"end":{"line":166,"column":53,"offset":9346}}},{"type":"raw","value":"<code class=\"language-text\">sendVariableValues: { all: true }</code>","position":{"start":{"line":166,"column":53,"offset":9346},"end":{"line":166,"column":88,"offset":9381}}}],"position":{"start":{"line":166,"column":1,"offset":9294},"end":{"line":166,"column":88,"offset":9381}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">engine.privateVariables: ['x', 'y']</code>","position":{"start":{"line":167,"column":3,"offset":9384},"end":{"line":167,"column":40,"offset":9421}}},{"type":"text","value":" is equivalent to ","position":{"start":{"line":167,"column":40,"offset":9421},"end":{"line":167,"column":58,"offset":9439}}},{"type":"raw","value":"<code class=\"language-text\">sendVariableValues: { exceptNames: ['x', 'y'] }</code>","position":{"start":{"line":167,"column":58,"offset":9439},"end":{"line":167,"column":107,"offset":9488}}}],"position":{"start":{"line":167,"column":1,"offset":9382},"end":{"line":167,"column":107,"offset":9488}}},{"type":"text","value":"\n"}],"position":{"start":{"line":165,"column":1,"offset":9206},"end":{"line":167,"column":107,"offset":9488}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">engine.privateHeaders</code>","position":{"start":{"line":169,"column":1,"offset":9490},"end":{"line":169,"column":24,"offset":9513}}},{"type":"text","value":" values can be translated to ","position":{"start":{"line":169,"column":24,"offset":9513},"end":{"line":169,"column":53,"offset":9542}}},{"type":"raw","value":"<code class=\"language-text\">sendHeaders</code>","position":{"start":{"line":169,"column":53,"offset":9542},"end":{"line":169,"column":66,"offset":9555}}},{"type":"text","value":" values in the same way.","position":{"start":{"line":169,"column":66,"offset":9555},"end":{"line":169,"column":90,"offset":9579}}}],"position":{"start":{"line":169,"column":1,"offset":9490},"end":{"line":169,"column":90,"offset":9579}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-express'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  ApolloServerPluginUsageReporting<span class=\"token punctuation\">,</span>\n  ApolloServerPluginUsageReportingDisabled<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// This code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">reportTiming</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">requestContext</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">sendReportsImmediately</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">maskErrorDetails</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">privateHeaders</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'my-api-key'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code.</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">ApolloServerPluginUsageReporting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">includeRequest</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">requestContext</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">sendReportsImmediately</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">rewriteError</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">GraphQLError</span><span class=\"token punctuation\">(</span><span class=\"token string\">'&lt;masked>'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">sendHeaders</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">exceptNames</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'my-api-key'</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">// This code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">reportTiming</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code.</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">ApolloServerPluginUsageReportingDisabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":171,"column":1,"offset":9581},"end":{"line":210,"column":4,"offset":10515}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"options-for-apolloserverpluginschemareporting","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#options-for-apolloserverpluginschemareporting","aria-label":"options for apolloserverpluginschemareporting permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Options for ","position":{"start":{"line":212,"column":4,"offset":10520},"end":{"line":212,"column":16,"offset":10532}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginSchemaReporting</code>","position":{"start":{"line":212,"column":16,"offset":10532},"end":{"line":212,"column":51,"offset":10567}}}],"position":{"start":{"line":212,"column":1,"offset":10517},"end":{"line":212,"column":51,"offset":10567}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A few ","position":{"start":{"line":214,"column":1,"offset":10569},"end":{"line":214,"column":7,"offset":10575}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":214,"column":7,"offset":10575},"end":{"line":214,"column":15,"offset":10583}}},{"type":"text","value":" options configure how schema reporting works.","position":{"start":{"line":214,"column":15,"offset":10583},"end":{"line":214,"column":61,"offset":10629}}}],"position":{"start":{"line":214,"column":1,"offset":10569},"end":{"line":214,"column":61,"offset":10629}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":216,"column":1,"offset":10631},"end":{"line":216,"column":5,"offset":10635}}},{"type":"raw","value":"<code class=\"language-text\">engine.reportSchema</code>","position":{"start":{"line":216,"column":5,"offset":10635},"end":{"line":216,"column":26,"offset":10656}}},{"type":"text","value":" option (or its legacy equivalent ","position":{"start":{"line":216,"column":26,"offset":10656},"end":{"line":216,"column":60,"offset":10690}}},{"type":"raw","value":"<code class=\"language-text\">engine.experimental_schemaReporting</code>","position":{"start":{"line":216,"column":60,"offset":10690},"end":{"line":216,"column":97,"offset":10727}}},{"type":"text","value":") is replaced by the choice of whether or not to include the schema reporting plugin at all. If you passed ","position":{"start":{"line":216,"column":97,"offset":10727},"end":{"line":216,"column":204,"offset":10834}}},{"type":"raw","value":"<code class=\"language-text\">true</code>","position":{"start":{"line":216,"column":204,"offset":10834},"end":{"line":216,"column":210,"offset":10840}}},{"type":"text","value":" for either of these options, you'll want to add a call to ","position":{"start":{"line":216,"column":210,"offset":10840},"end":{"line":216,"column":269,"offset":10899}}},{"type":"element","tagName":"a","properties":{"href":"/v2/api/plugin/schema-reporting/"},"children":[{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginSchemaReporting()</code>","position":{"start":{"line":216,"column":270,"offset":10900},"end":{"line":216,"column":307,"offset":10937}}}],"position":{"start":{"line":216,"column":269,"offset":10899},"end":{"line":216,"column":340,"offset":10970}}},{"type":"text","value":" to your ","position":{"start":{"line":216,"column":340,"offset":10970},"end":{"line":216,"column":349,"offset":10979}}},{"type":"raw","value":"<code class=\"language-text\">plugins</code>","position":{"start":{"line":216,"column":349,"offset":10979},"end":{"line":216,"column":358,"offset":10988}}},{"type":"text","value":" array. Alternatively, you can set the ","position":{"start":{"line":216,"column":358,"offset":10988},"end":{"line":216,"column":397,"offset":11027}}},{"type":"raw","value":"<code class=\"language-text\">APOLLO_SCHEMA_REPORTING</code>","position":{"start":{"line":216,"column":397,"offset":11027},"end":{"line":216,"column":422,"offset":11052}}},{"type":"text","value":" environment variable to ","position":{"start":{"line":216,"column":422,"offset":11052},"end":{"line":216,"column":447,"offset":11077}}},{"type":"raw","value":"<code class=\"language-text\">true</code>","position":{"start":{"line":216,"column":447,"offset":11077},"end":{"line":216,"column":453,"offset":11083}}},{"type":"text","value":", which will have the same effect. If you passed ","position":{"start":{"line":216,"column":453,"offset":11083},"end":{"line":216,"column":502,"offset":11132}}},{"type":"raw","value":"<code class=\"language-text\">false</code>","position":{"start":{"line":216,"column":502,"offset":11132},"end":{"line":216,"column":509,"offset":11139}}},{"type":"text","value":" for either of these options, just don't call ","position":{"start":{"line":216,"column":509,"offset":11139},"end":{"line":216,"column":555,"offset":11185}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginSchemaReporting</code>","position":{"start":{"line":216,"column":555,"offset":11185},"end":{"line":216,"column":590,"offset":11220}}},{"type":"text","value":" at all (and don't set the environment variable.","position":{"start":{"line":216,"column":590,"offset":11220},"end":{"line":216,"column":638,"offset":11268}}}],"position":{"start":{"line":216,"column":1,"offset":10631},"end":{"line":216,"column":638,"offset":11268}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":218,"column":1,"offset":11270},"end":{"line":218,"column":5,"offset":11274}}},{"type":"raw","value":"<code class=\"language-text\">engine.overrideReportedSchema</code>","position":{"start":{"line":218,"column":5,"offset":11274},"end":{"line":218,"column":36,"offset":11305}}},{"type":"text","value":" option (and its legacy equivalent ","position":{"start":{"line":218,"column":36,"offset":11305},"end":{"line":218,"column":71,"offset":11340}}},{"type":"raw","value":"<code class=\"language-text\">engine.experimental_overrideReportedSchema</code>","position":{"start":{"line":218,"column":71,"offset":11340},"end":{"line":218,"column":115,"offset":11384}}},{"type":"text","value":") works exactly like the ","position":{"start":{"line":218,"column":115,"offset":11384},"end":{"line":218,"column":140,"offset":11409}}},{"type":"raw","value":"<code class=\"language-text\">overrideReportedSchema</code>","position":{"start":{"line":218,"column":140,"offset":11409},"end":{"line":218,"column":164,"offset":11433}}},{"type":"text","value":" option to ","position":{"start":{"line":218,"column":164,"offset":11433},"end":{"line":218,"column":175,"offset":11444}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginSchemaReporting</code>","position":{"start":{"line":218,"column":175,"offset":11444},"end":{"line":218,"column":210,"offset":11479}}},{"type":"text","value":". However, ","position":{"start":{"line":218,"column":210,"offset":11479},"end":{"line":218,"column":221,"offset":11490}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"if you want to configure this option, you should also pass the same value to ","position":{"start":{"line":218,"column":223,"offset":11492},"end":{"line":218,"column":300,"offset":11569}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":218,"column":300,"offset":11569},"end":{"line":218,"column":334,"offset":11603}}},{"type":"text","value":"'s option of the same name","position":{"start":{"line":218,"column":334,"offset":11603},"end":{"line":218,"column":360,"offset":11629}}}],"position":{"start":{"line":218,"column":221,"offset":11490},"end":{"line":218,"column":362,"offset":11631}}},{"type":"text","value":", so that schema IDs match up between your schema and usage reporting. This may require adding a call to ","position":{"start":{"line":218,"column":362,"offset":11631},"end":{"line":218,"column":467,"offset":11736}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReporting</code>","position":{"start":{"line":218,"column":467,"offset":11736},"end":{"line":218,"column":501,"offset":11770}}},{"type":"text","value":" if you were otherwise depending on its default behavior.","position":{"start":{"line":218,"column":501,"offset":11770},"end":{"line":218,"column":558,"offset":11827}}}],"position":{"start":{"line":218,"column":1,"offset":11270},"end":{"line":218,"column":558,"offset":11827}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":220,"column":1,"offset":11829},"end":{"line":220,"column":5,"offset":11833}}},{"type":"raw","value":"<code class=\"language-text\">engine.schemaReportingInitialDelayMaxMs</code>","position":{"start":{"line":220,"column":5,"offset":11833},"end":{"line":220,"column":46,"offset":11874}}},{"type":"text","value":" option (and its legacy equivalent ","position":{"start":{"line":220,"column":46,"offset":11874},"end":{"line":220,"column":81,"offset":11909}}},{"type":"raw","value":"<code class=\"language-text\">engine.experimental_schemaReportingInitialDelayMaxMs</code>","position":{"start":{"line":220,"column":81,"offset":11909},"end":{"line":220,"column":135,"offset":11963}}},{"type":"text","value":") works exactly like the ","position":{"start":{"line":220,"column":135,"offset":11963},"end":{"line":220,"column":160,"offset":11988}}},{"type":"raw","value":"<code class=\"language-text\">initialDelayMaxMs</code>","position":{"start":{"line":220,"column":160,"offset":11988},"end":{"line":220,"column":179,"offset":12007}}},{"type":"text","value":" option to ","position":{"start":{"line":220,"column":179,"offset":12007},"end":{"line":220,"column":190,"offset":12018}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginSchemaReporting</code>","position":{"start":{"line":220,"column":190,"offset":12018},"end":{"line":220,"column":225,"offset":12053}}},{"type":"text","value":".","position":{"start":{"line":220,"column":225,"offset":12053},"end":{"line":220,"column":226,"offset":12054}}}],"position":{"start":{"line":220,"column":1,"offset":11829},"end":{"line":220,"column":226,"offset":12054}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The ","position":{"start":{"line":222,"column":1,"offset":12056},"end":{"line":222,"column":5,"offset":12060}}},{"type":"raw","value":"<code class=\"language-text\">engine.schemaReportingUrl</code>","position":{"start":{"line":222,"column":5,"offset":12060},"end":{"line":222,"column":32,"offset":12087}}},{"type":"text","value":" option works exactly like the ","position":{"start":{"line":222,"column":32,"offset":12087},"end":{"line":222,"column":63,"offset":12118}}},{"type":"raw","value":"<code class=\"language-text\">endpointUrl</code>","position":{"start":{"line":222,"column":63,"offset":12118},"end":{"line":222,"column":76,"offset":12131}}},{"type":"text","value":" option to ","position":{"start":{"line":222,"column":76,"offset":12131},"end":{"line":222,"column":87,"offset":12142}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginSchemaReporting</code>","position":{"start":{"line":222,"column":87,"offset":12142},"end":{"line":222,"column":122,"offset":12177}}},{"type":"text","value":".","position":{"start":{"line":222,"column":122,"offset":12177},"end":{"line":222,"column":123,"offset":12178}}}],"position":{"start":{"line":222,"column":1,"offset":12056},"end":{"line":222,"column":123,"offset":12178}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-express'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n  ApolloServerPluginSchemaReporting<span class=\"token punctuation\">,</span>\n  ApolloServerPluginUsageReporting<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// This code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">reportSchema</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code. (Or you can just set</span>\n<span class=\"token comment\">// $APOLLO_SCHEMA_REPORTING to 'true'.)</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">ApolloServerPluginSchemaReporting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">// This code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">reportSchema</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">overrideReportedSchema</span><span class=\"token operator\">:</span> <span class=\"token constant\">SCHEMA_TEXT</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code.</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token function\">ApolloServerPluginUsageReporting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">overrideReportedSchema</span><span class=\"token operator\">:</span> <span class=\"token constant\">SCHEMA_TEXT</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">ApolloServerPluginSchemaReporting</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">overrideReportedSchema</span><span class=\"token operator\">:</span> <span class=\"token constant\">SCHEMA_TEXT</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":224,"column":1,"offset":12180},"end":{"line":264,"column":4,"offset":13046}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"options-for-apolloserverplugininlinetrace","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#options-for-apolloserverplugininlinetrace","aria-label":"options for apolloserverplugininlinetrace permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Options for ","position":{"start":{"line":266,"column":4,"offset":13051},"end":{"line":266,"column":16,"offset":13063}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginInlineTrace</code>","position":{"start":{"line":266,"column":16,"offset":13063},"end":{"line":266,"column":47,"offset":13094}}}],"position":{"start":{"line":266,"column":1,"offset":13048},"end":{"line":266,"column":47,"offset":13094}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"By default, Apollo Server ","position":{"start":{"line":268,"column":1,"offset":13096},"end":{"line":268,"column":27,"offset":13122}}},{"type":"element","tagName":"a","properties":{"href":"/v2/api/plugin/inline-trace/"},"children":[{"type":"text","value":"enables inline tracing on federated subgraphs","position":{"start":{"line":268,"column":28,"offset":13123},"end":{"line":268,"column":73,"offset":13168}}}],"position":{"start":{"line":268,"column":27,"offset":13122},"end":{"line":268,"column":102,"offset":13197}}},{"type":"text","value":". One ","position":{"start":{"line":268,"column":102,"offset":13197},"end":{"line":268,"column":108,"offset":13203}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":268,"column":108,"offset":13203},"end":{"line":268,"column":116,"offset":13211}}},{"type":"text","value":" option can be used to configure how inline tracing works. If you specified the ","position":{"start":{"line":268,"column":116,"offset":13211},"end":{"line":268,"column":196,"offset":13291}}},{"type":"raw","value":"<code class=\"language-text\">engine.rewriteError</code>","position":{"start":{"line":268,"column":196,"offset":13291},"end":{"line":268,"column":217,"offset":13312}}},{"type":"text","value":" function ","position":{"start":{"line":268,"column":217,"offset":13312},"end":{"line":268,"column":227,"offset":13322}}},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"and your service is a subgraph that is combined with others via federation","position":{"start":{"line":268,"column":229,"offset":13324},"end":{"line":268,"column":303,"offset":13398}}}],"position":{"start":{"line":268,"column":227,"offset":13322},"end":{"line":268,"column":305,"offset":13400}}},{"type":"text","value":" (but not if this server is the Apollo gateway which combines multiple subgraphs), then you should pass that ","position":{"start":{"line":268,"column":305,"offset":13400},"end":{"line":268,"column":414,"offset":13509}}},{"type":"raw","value":"<code class=\"language-text\">rewriteError</code>","position":{"start":{"line":268,"column":414,"offset":13509},"end":{"line":268,"column":428,"offset":13523}}},{"type":"text","value":" function to the ","position":{"start":{"line":268,"column":428,"offset":13523},"end":{"line":268,"column":445,"offset":13540}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginInlineTrace</code>","position":{"start":{"line":268,"column":445,"offset":13540},"end":{"line":268,"column":476,"offset":13571}}},{"type":"text","value":" plugin function. Note that ","position":{"start":{"line":268,"column":476,"offset":13571},"end":{"line":268,"column":504,"offset":13599}}},{"type":"raw","value":"<code class=\"language-text\">engine.rewriteError</code>","position":{"start":{"line":268,"column":504,"offset":13599},"end":{"line":268,"column":525,"offset":13620}}},{"type":"text","value":" is also (more commonly) used with graphs that report directly to Apollo's servers with via the usage reporting plugin; you shouldn't add the inline trace plugin unless you're sure you're in a federated subgraph!","position":{"start":{"line":268,"column":525,"offset":13620},"end":{"line":268,"column":737,"offset":13832}}}],"position":{"start":{"line":268,"column":1,"offset":13096},"end":{"line":268,"column":737,"offset":13832}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-express'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServerPluginInlineTrace<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// This code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">rewriteError</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code, IF THIS IS A</span>\n<span class=\"token comment\">// FEDERATED SUBGRAPH.</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">ApolloServerPluginInlineTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">rewriteError</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":270,"column":1,"offset":13834},"end":{"line":288,"column":4,"offset":14262}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the default behavior of whether inline tracing is enabled changed in v2.18.  In v2.18, inline tracing is enabled for any federated subgraph, unless explicitly disabled with ","position":{"start":{"line":290,"column":1,"offset":14264},"end":{"line":290,"column":184,"offset":14447}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginInlineTraceDisabled</code>","position":{"start":{"line":290,"column":184,"offset":14447},"end":{"line":290,"column":223,"offset":14486}}},{"type":"text","value":". In previous versions, inline tracing was enabled for any federated subgraph ","position":{"start":{"line":290,"column":223,"offset":14486},"end":{"line":290,"column":301,"offset":14564}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"unless an Apollo API key was provided","position":{"start":{"line":290,"column":302,"offset":14565},"end":{"line":290,"column":339,"offset":14602}}}],"position":{"start":{"line":290,"column":301,"offset":14564},"end":{"line":290,"column":340,"offset":14603}}},{"type":"text","value":"; this special case is removed in v2.18, which means that the same graph can both report usage to Apollo's servers and include inline traces in responses. These functionalities also both now log at startup, so it should be easy to see if they are unintentionally simultaneously enabled.","position":{"start":{"line":290,"column":340,"offset":14603},"end":{"line":290,"column":626,"offset":14889}}}],"position":{"start":{"line":290,"column":1,"offset":14264},"end":{"line":290,"column":626,"offset":14889}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"migrating-from-engine-false","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#migrating-from-engine-false","aria-label":"migrating from engine false permalink","class":"anchor before"},"children":[{"type":"raw","value":"<svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg>"}]},{"type":"text","value":"Migrating from ","position":{"start":{"line":293,"column":4,"offset":14895},"end":{"line":293,"column":19,"offset":14910}}},{"type":"raw","value":"<code class=\"language-text\">engine: false</code>","position":{"start":{"line":293,"column":19,"offset":14910},"end":{"line":293,"column":34,"offset":14925}}}],"position":{"start":{"line":293,"column":1,"offset":14892},"end":{"line":293,"column":34,"offset":14925}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you passed ","position":{"start":{"line":295,"column":1,"offset":14927},"end":{"line":295,"column":15,"offset":14941}}},{"type":"raw","value":"<code class=\"language-text\">engine: false</code>","position":{"start":{"line":295,"column":15,"offset":14941},"end":{"line":295,"column":30,"offset":14956}}},{"type":"text","value":" to the ","position":{"start":{"line":295,"column":30,"offset":14956},"end":{"line":295,"column":38,"offset":14964}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":295,"column":38,"offset":14964},"end":{"line":295,"column":52,"offset":14978}}},{"type":"text","value":" constructor, the main effect was to disable inline tracing even if the current graph is a federated subgraph.","position":{"start":{"line":295,"column":52,"offset":14978},"end":{"line":295,"column":162,"offset":15088}}}],"position":{"start":{"line":295,"column":1,"offset":14927},"end":{"line":295,"column":162,"offset":15088}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prior to Apollo Server 2.13, this also had the effect of disabling usage reporting even if you configured an API key. The change in Apollo Server 2.13 appears to have been unintentional and the backwards-compatibility handling of ","position":{"start":{"line":297,"column":1,"offset":15090},"end":{"line":297,"column":231,"offset":15320}}},{"type":"raw","value":"<code class=\"language-text\">engine: false</code>","position":{"start":{"line":297,"column":231,"offset":15320},"end":{"line":297,"column":246,"offset":15335}}},{"type":"text","value":" in Apollo Server TODO(no-engine) restores the old behavior of disabling usage reporting.","position":{"start":{"line":297,"column":246,"offset":15335},"end":{"line":297,"column":335,"offset":15424}}}],"position":{"start":{"line":297,"column":1,"offset":15090},"end":{"line":297,"column":335,"offset":15424}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If your code had ","position":{"start":{"line":299,"column":1,"offset":15426},"end":{"line":299,"column":18,"offset":15443}}},{"type":"raw","value":"<code class=\"language-text\">engine: false</code>","position":{"start":{"line":299,"column":18,"offset":15443},"end":{"line":299,"column":33,"offset":15458}}},{"type":"text","value":" because it is a federated subgraph but you do not want to enable inline tracing, you should use the new ","position":{"start":{"line":299,"column":33,"offset":15458},"end":{"line":299,"column":138,"offset":15563}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginInlineTraceDisabled</code>","position":{"start":{"line":299,"column":138,"offset":15563},"end":{"line":299,"column":177,"offset":15602}}},{"type":"text","value":" plugin instead:","position":{"start":{"line":299,"column":177,"offset":15602},"end":{"line":299,"column":193,"offset":15618}}}],"position":{"start":{"line":299,"column":1,"offset":15426},"end":{"line":299,"column":193,"offset":15618}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-express'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServerPluginInlineTraceDisabled <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// In a federated subgraph, this code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code.</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">ApolloServerPluginInlineTraceDisabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":302,"column":1,"offset":15621},"end":{"line":315,"column":4,"offset":15985}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If your code had ","position":{"start":{"line":317,"column":1,"offset":15987},"end":{"line":317,"column":18,"offset":16004}}},{"type":"raw","value":"<code class=\"language-text\">engine: false</code>","position":{"start":{"line":317,"column":18,"offset":16004},"end":{"line":317,"column":33,"offset":16019}}},{"type":"text","value":" because you wanted to disable usage reporting even though you are passing in an Apollo graph API key (via ","position":{"start":{"line":317,"column":33,"offset":16019},"end":{"line":317,"column":140,"offset":16126}}},{"type":"raw","value":"<code class=\"language-text\">$APOLLO_KEY</code>","position":{"start":{"line":317,"column":140,"offset":16126},"end":{"line":317,"column":153,"offset":16139}}},{"type":"text","value":" or ","position":{"start":{"line":317,"column":153,"offset":16139},"end":{"line":317,"column":157,"offset":16143}}},{"type":"raw","value":"<code class=\"language-text\">$ENGINE_API_KEY</code>","position":{"start":{"line":317,"column":157,"offset":16143},"end":{"line":317,"column":174,"offset":16160}}},{"type":"text","value":"), you should use the new ","position":{"start":{"line":317,"column":174,"offset":16160},"end":{"line":317,"column":200,"offset":16186}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServerPluginUsageReportingDisabled</code>","position":{"start":{"line":317,"column":200,"offset":16186},"end":{"line":317,"column":242,"offset":16228}}},{"type":"text","value":" plugin instead. (However, be aware that usage reporting was not actually disabled by ","position":{"start":{"line":317,"column":242,"offset":16228},"end":{"line":317,"column":328,"offset":16314}}},{"type":"raw","value":"<code class=\"language-text\">engine: false</code>","position":{"start":{"line":317,"column":328,"offset":16314},"end":{"line":317,"column":343,"offset":16329}}},{"type":"text","value":" starting with Apollo Server 2.13.)","position":{"start":{"line":317,"column":343,"offset":16329},"end":{"line":317,"column":378,"offset":16364}}}],"position":{"start":{"line":317,"column":1,"offset":15987},"end":{"line":317,"column":378,"offset":16364}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-express'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ApolloServerPluginUsageReportingDisabled <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'apollo-server-core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// When $APOLLO_KEY or $ENGINE_API_KEY is set, this code...</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">engine</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ... is equivalent to this code.</span>\n<span class=\"token keyword\">const</span> server <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ApolloServer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token function\">ApolloServerPluginUsageReportingDisabled</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","position":{"start":{"line":319,"column":1,"offset":16366},"end":{"line":332,"column":4,"offset":16755}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Passing ","position":{"start":{"line":335,"column":1,"offset":16758},"end":{"line":335,"column":9,"offset":16766}}},{"type":"raw","value":"<code class=\"language-text\">engine: true</code>","position":{"start":{"line":335,"column":9,"offset":16766},"end":{"line":335,"column":23,"offset":16780}}},{"type":"text","value":" to the ","position":{"start":{"line":335,"column":23,"offset":16780},"end":{"line":335,"column":31,"offset":16788}}},{"type":"raw","value":"<code class=\"language-text\">ApolloServer</code>","position":{"start":{"line":335,"column":31,"offset":16788},"end":{"line":335,"column":45,"offset":16802}}},{"type":"text","value":" constructor was allowed but did not have a different effect from not passing ","position":{"start":{"line":335,"column":45,"offset":16802},"end":{"line":335,"column":123,"offset":16880}}},{"type":"raw","value":"<code class=\"language-text\">engine</code>","position":{"start":{"line":335,"column":123,"offset":16880},"end":{"line":335,"column":131,"offset":16888}}},{"type":"text","value":" at all.","position":{"start":{"line":335,"column":131,"offset":16888},"end":{"line":335,"column":139,"offset":16896}}}],"position":{"start":{"line":335,"column":1,"offset":16758},"end":{"line":335,"column":139,"offset":16896}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":336,"column":1,"offset":16897}}}}