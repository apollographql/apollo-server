{"data":{"site":{"pathPrefix":"/docs/apollo-server","siteMetadata":{"title":"Apollo GraphQL Docs","description":"A guide to using Apollo Server","siteUrl":"https://www.apollographql.com/docs/apollo-server"}},"file":{"childMarkdownRemark":{"frontmatter":{"title":"Creating Apollo Server plugins","description":"Extend Apollo Server with custom functionality"},"headings":[{"value":"The anatomy of a plugin","depth":2},{"value":"Responding to events","depth":2},{"value":"Responding to request lifecycle events","depth":3},{"value":"Request lifecycle event flow","depth":3},{"value":"End hooks","depth":3},{"value":"Inspecting request and response details","depth":3},{"value":"Installing custom plugins","depth":2}],"fields":{"image":"https://res.cloudinary.com/apollographql/image/upload/w_1280,h_669,c_fill,q_auto,f_auto/w_1120,c_fit,co_rgb:FFFFFF,g_south_west,x_80,y_254,l_text:Source%20Sans%20Pro_80_bold:Creating%20Apollo%20Server%20plugins/w_1120,c_fit,co_rgb:FFFFFF,g_north_west,x_80,y_445,l_text:Source%20Sans%20Pro_48:Apollo%20Server%20%E2%80%BA%20Custom%20Plugins/apollo-docs-template2_dohzxt","apiReference":false},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"New in Apollo Server 3:"}]},{"type":"text","value":" All plugin lifecycle methods are "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":", "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"except for "},{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#willresolvefield"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"willResolveField"}]}]},{"type":"text","value":" and "},{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#schemadidloadorupdate"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"schemaDidLoadOrUpdate"}]}]}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can create your own Apollo Server plugins to perform custom operations in response to certain events. For example, a basic logging plugin might log the GraphQL query string associated with each request that's sent to Apollo Server."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"the-anatomy-of-a-plugin","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#the-anatomy-of-a-plugin","ariaLabel":"the anatomy of a plugin permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"The anatomy of a plugin"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Plugins are JavaScript objects that implement one or more functions that respond to events. Here's a basic plugin that responds to the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"serverWillStart"}]},{"type":"text","value":" event:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-code-title"]},"children":[{"type":"text","value":"index.js"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" myPlugin "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"serverWillStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Server starting up!'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"If you're using TypeScript to create a plugin, the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apollo-server-plugin-base"}]},{"type":"text","value":" module exports the "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-server-plugin-base/src/index.ts"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ApolloServerPlugin"}]},{"type":"text","value":" interface"}]},{"type":"text","value":" for plugins to implement."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You can define a plugin in the same file where you initialize Apollo Server, or\nyou can export it as a separate module:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-code-title"]},"children":[{"type":"text","value":"myPlugin.js"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"module"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"exports "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"serverWillStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Server starting up!'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"To create a plugin that accepts options, create a function that accepts an\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"options"}]},{"type":"text","value":" object and returns a properly structured plugin object, like so:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-code-title"]},"children":[{"type":"text","value":"myPlugin.js"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"text","value":"module"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function-variable","function"]},"children":[{"type":"text","value":"exports"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"options"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"serverWillStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"options"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"logMessage"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"responding-to-events","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#responding-to-events","ariaLabel":"responding to events permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Responding to events"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A plugin specifies exactly which events it responds to by implementing functions that correspond to those events. The plugin in the examples above responds to the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"serverWillStart"}]},{"type":"text","value":" event, which fires when Apollo Server is preparing to start up. Almost all plugin events are "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" functions (i.e., functions that return "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Promise"}]},{"type":"text","value":"s). The only exceptions\nare "},{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#willresolvefield"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"willResolveField"}]}]},{"type":"text","value":" and "},{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#schemadidloadorupdate"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"schemaDidLoadOrUpdate"}]}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"A plugin can respond to any combination of "},{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/"},"children":[{"type":"text","value":"supported events"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"responding-to-request-lifecycle-events","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#responding-to-request-lifecycle-events","ariaLabel":"responding to request lifecycle events permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Responding to request lifecycle events"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Plugins can respond to the following events associated with the GraphQL request\nlifecycle:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#didresolvesource"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"didResolveSource"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#parsingdidstart"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"parsingDidStart"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#validationdidstart"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"validationDidStart"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#didresolveoperation"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"didResolveOperation"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#responseforoperation"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"responseForOperation"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#executiondidstart"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"executionDidStart"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#didencountererrors"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"didEncounterErrors"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#willsendresponse"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"willSendResponse"}]}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"However"}]},{"type":"text","value":", the way you define these functions is slightly different from the\n"},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"serverWillStart"}]},{"type":"text","value":" example above. First, your plugin must define the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"requestDidStart"}]},{"type":"text","value":" function:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" myPlugin "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"requestDidStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Request started!'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"requestDidStart"}]},{"type":"text","value":" event fires whenever Apollo Server receives a GraphQL request,\n"},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"before"}]},{"type":"text","value":" any of the lifecycle events listed above. You can respond to this event\njust like you respond to "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"serverWillStart"}]},{"type":"text","value":", but you "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"also"}]},{"type":"text","value":" use this function\nto define responses for a request's lifecycle events, like so:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" myPlugin "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"requestDidStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"requestContext"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Request started!'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"parsingDidStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"requestContext"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Parsing started!'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"validationDidStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"requestContext"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Validation started!'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As shown, the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"requestDidStart"}]},{"type":"text","value":" function can optionally return an object that\ndefines functions that respond to request lifecycle events. This structure\norganizes and encapsulates all of your plugin's request lifecycle logic, making it\neasier to reason about."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"request-lifecycle-event-flow","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#request-lifecycle-event-flow","ariaLabel":"request lifecycle event flow permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Request lifecycle event flow"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The following diagram illustrates the sequence of events that fire for each request. Each of these events is documented in "},{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/"},"children":[{"type":"text","value":"Apollo Server plugin events"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"Important:"}]},{"type":"text","value":" Any event below that can result in \"Success\" can also result in an error. Whenever an error occurs, the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"didEncounterErrors"}]},{"type":"text","value":" event fires and the remainder of the \"Success\" path does "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["mermaid"],"dataProcessed":"true"},"children":[{"type":"element","tagName":"svg","properties":{"id":"mermaid-1646778688990","width":"100%","xmlns":"http://www.w3.org/2000/svg","xmlnsXLink":"http://www.w3.org/1999/xlink","height":"996","style":"max-width: 503.71875px;","viewBox":"0 0 503.71875 996"},"children":[{"type":"element","tagName":"style","properties":{},"children":[{"type":"text","value":"#mermaid-1646778688990 {font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-1646778688990 .error-icon{fill:#552222;}#mermaid-1646778688990 .error-text{fill:#552222;stroke:#552222;}#mermaid-1646778688990 .edge-thickness-normal{stroke-width:2px;}#mermaid-1646778688990 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1646778688990 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1646778688990 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1646778688990 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1646778688990 .marker{fill:#333333;stroke:#333333;}#mermaid-1646778688990 .marker.cross{stroke:#333333;}#mermaid-1646778688990 svg{font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:16px;}#mermaid-1646778688990 .label{font-family:\"trebuchet ms\",verdana,arial,sans-serif;color:#333;}#mermaid-1646778688990 .cluster-label text{fill:#333;}#mermaid-1646778688990 .cluster-label span{color:#333;}#mermaid-1646778688990 .label text,#mermaid-1646778688990 span{fill:#333;color:#333;}#mermaid-1646778688990 .node rect,#mermaid-1646778688990 .node circle,#mermaid-1646778688990 .node ellipse,#mermaid-1646778688990 .node polygon,#mermaid-1646778688990 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1646778688990 .node .label{text-align:center;}#mermaid-1646778688990 .node.clickable{cursor:pointer;}#mermaid-1646778688990 .arrowheadPath{fill:#333333;}#mermaid-1646778688990 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-1646778688990 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1646778688990 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1646778688990 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1646778688990 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1646778688990 .cluster text{fill:#333;}#mermaid-1646778688990 .cluster span{color:#333;}#mermaid-1646778688990 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:\"trebuchet ms\",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1646778688990 .node rect,#mermaid-1646778688990 .node circle,#mermaid-1646778688990 .node polygon,#mermaid-1646778688990 .node path{stroke-width:2px;stroke:#3f20ba;fill:#F4F6F8;}#mermaid-1646778688990 .node.secondary rect,#mermaid-1646778688990 .node.secondary circle,#mermaid-1646778688990 .node.secondary polygon,#mermaid-1646778688990 .node.tertiary rect,#mermaid-1646778688990 .node.tertiary circle,#mermaid-1646778688990 .node.tertiary polygon{fill:white;}#mermaid-1646778688990 .node.secondary rect,#mermaid-1646778688990 .node.secondary circle,#mermaid-1646778688990 .node.secondary polygon{stroke:#832363;}#mermaid-1646778688990 .cluster rect,#mermaid-1646778688990 .node.tertiary rect,#mermaid-1646778688990 .node.tertiary circle,#mermaid-1646778688990 .node.tertiary polygon{stroke:#1d7b78;}#mermaid-1646778688990 .cluster rect{fill:none;stroke-width:2px;}#mermaid-1646778688990 .label,#mermaid-1646778688990 .edgeLabel{background-color:white;line-height:1.3;}#mermaid-1646778688990 .edgeLabel rect{background:none;fill:none;}#mermaid-1646778688990 .messageText,#mermaid-1646778688990 .noteText,#mermaid-1646778688990 .loopText{font-size:12px;stroke:none;}#mermaid-1646778688990 g rect,#mermaid-1646778688990 polygon.labelBox{stroke-width:2px;}#mermaid-1646778688990 g rect.actor{stroke:#1d7b78;fill:white;}#mermaid-1646778688990 g rect.note{stroke:#832363;fill:white;}#mermaid-1646778688990 g line.loopLine,#mermaid-1646778688990 polygon.labelBox{stroke:#3f20ba;fill:white;}#mermaid-1646778688990 :root{--mermaid-font-family:\"trebuchet ms\",verdana,arial,sans-serif;}"}]},{"type":"element","tagName":"g","properties":{},"children":[{"type":"element","tagName":"g","properties":{"className":["output"]},"children":[{"type":"element","tagName":"g","properties":{"className":["clusters"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["edgePaths"]},"children":[{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-request","LE-resolveSource"],"id":"L-request-resolveSource","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M297.62890625,47L297.62890625,51.166666666666664C297.62890625,55.333333333333336,297.62890625,63.666666666666664,297.62890625,72C297.62890625,80.33333333333333,297.62890625,88.66666666666667,297.62890625,92.83333333333333L297.62890625,97","markerEnd":"url(#arrowhead66)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead66","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-resolveSource","LE-parsing"],"id":"L-resolveSource-parsing","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M297.62890625,136L297.62890625,141.83333333333334C297.62890625,147.66666666666666,297.62890625,159.33333333333334,297.62890625,171C297.62890625,182.66666666666666,297.62890625,194.33333333333334,297.62890625,200.16666666666666L297.62890625,206","markerEnd":"url(#arrowhead67)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead67","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-parsing","LE-validation"],"id":"L-parsing-validation","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M297.62890625,245L297.62890625,250.83333333333334C297.62890625,256.6666666666667,297.62890625,268.3333333333333,297.62890625,280C297.62890625,291.6666666666667,297.62890625,303.3333333333333,297.62890625,309.1666666666667L297.62890625,315","markerEnd":"url(#arrowhead68)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead68","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-validation","LE-resolveOperation"],"id":"L-validation-resolveOperation","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M297.62890625,354L297.62890625,359.8333333333333C297.62890625,365.6666666666667,297.62890625,377.3333333333333,297.62890625,389C297.62890625,400.6666666666667,297.62890625,412.3333333333333,297.62890625,418.1666666666667L297.62890625,424","markerEnd":"url(#arrowhead69)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead69","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-resolveOperation","LE-response"],"id":"L-resolveOperation-response","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M297.62890625,463L297.62890625,468.8333333333333C297.62890625,474.6666666666667,297.62890625,486.3333333333333,297.62890625,498C297.62890625,509.6666666666667,297.62890625,521.3333333333334,297.62890625,527.1666666666666L297.62890625,533","markerEnd":"url(#arrowhead70)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead70","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-errors","LE-send"],"id":"L-errors-send","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M86.640625,899L86.640625,903.1666666666666C86.640625,907.3333333333334,86.640625,915.6666666666666,97.28113295880149,924C107.92164091760299,932.3333333333334,129.202656835206,940.6666666666666,139.8431647940075,944.8333333333334L150.48367275280899,949","markerEnd":"url(#arrowhead71)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead71","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-response","LE-send"],"id":"L-response-send","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M262.79809346330273,572L252.3786195527523,577.8333333333334C241.95914564220183,583.6666666666666,221.1201978211009,595.3333333333334,210.70072391055047,610.25C200.28125,625.1666666666666,200.28125,643.3333333333334,200.28125,661.5C200.28125,679.6666666666666,200.28125,697.8333333333334,200.28125,716C200.28125,734.1666666666666,200.28125,752.3333333333334,200.28125,770.5C200.28125,788.6666666666666,200.28125,806.8333333333334,200.28125,825C200.28125,843.1666666666666,200.28125,861.3333333333334,200.28125,877.8333333333334C200.28125,894.3333333333334,200.28125,909.1666666666666,200.28125,920.75C200.28125,932.3333333333334,200.28125,940.6666666666666,200.28125,944.8333333333334L200.28125,949","markerEnd":"url(#arrowhead72)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead72","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-response","LE-execution"],"id":"L-response-execution","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M317.71452121559633,572L323.72303851299694,577.8333333333334C329.73155581039754,583.6666666666666,341.74859040519874,595.3333333333334,347.7571077025994,607C353.765625,618.6666666666666,353.765625,630.3333333333334,353.765625,636.1666666666666L353.765625,642","markerEnd":"url(#arrowhead73)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead73","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-execution","LE-send"],"id":"L-execution-send","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M334.45011467889907,681L328.67197056574923,686.8333333333334C322.8938264525994,692.6666666666666,311.3375382262997,704.3333333333334,305.55939411314984,719.25C299.78125,734.1666666666666,299.78125,752.3333333333334,299.78125,770.5C299.78125,788.6666666666666,299.78125,806.8333333333334,299.78125,825C299.78125,843.1666666666666,299.78125,861.3333333333334,299.78125,877.8333333333334C299.78125,894.3333333333334,299.78125,909.1666666666666,290.4647705992509,920.75C281.1482911985019,932.3333333333334,262.51533239700376,940.6666666666666,253.1988529962547,944.8333333333334L243.8823735955056,949","markerEnd":"url(#arrowhead74)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead74","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgePath","LS-execution","LE-resolveField"],"id":"L-execution-resolveField","style":"opacity: 1;"},"children":[{"type":"element","tagName":"path","properties":{"className":["path"],"d":"M373.08113532110093,681L378.85927943425077,686.8333333333334C384.6374235474006,692.6666666666666,396.1937117737003,704.3333333333334,401.97185588685016,716C407.75,727.6666666666666,407.75,739.3333333333334,407.75,745.1666666666666L407.75,751","markerEnd":"url(#arrowhead75)","style":"fill:none"},"children":[]},{"type":"element","tagName":"defs","properties":{},"children":[{"type":"element","tagName":"marker","properties":{"id":"arrowhead75","viewBox":"0 0 10 10","refX":"9","refY":"5","markerUnits":"strokeWidth","markerWidth":"8","markerHeight":"6","orient":"auto"},"children":[{"type":"element","tagName":"path","properties":{"d":"M 0 0 L 10 5 L 0 10 z","className":["arrowheadPath"],"style":"stroke-width: 1; stroke-dasharray: 1, 0;"},"children":[]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabels"]},"children":[{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(0,0)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"0","height":"0"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"0","height":"0"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-request-resolveSource","className":["edgeLabel","L-LS-request'","L-LE-resolveSource"]},"children":[]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"translate(297.62890625,171)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-26.984375,-10)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"53.96875","height":"20"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"53.96875","height":"20"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-resolveSource-parsing","className":["edgeLabel","L-LS-resolveSource'","L-LE-parsing"]},"children":[{"type":"text","value":"Success"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"translate(297.62890625,280)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-26.984375,-10)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"53.96875","height":"20"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"53.96875","height":"20"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-parsing-validation","className":["edgeLabel","L-LS-parsing'","L-LE-validation"]},"children":[{"type":"text","value":"Success"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"translate(297.62890625,389)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-26.984375,-10)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"53.96875","height":"20"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"53.96875","height":"20"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-validation-resolveOperation","className":["edgeLabel","L-LS-validation'","L-LE-resolveOperation"]},"children":[{"type":"text","value":"Success"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"translate(297.62890625,498)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-26.984375,-10)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"53.96875","height":"20"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"53.96875","height":"20"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-resolveOperation-response","className":["edgeLabel","L-LS-resolveOperation'","L-LE-response"]},"children":[{"type":"text","value":"Success"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(0,0)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"0","height":"0"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"0","height":"0"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-errors-send","className":["edgeLabel","L-LS-errors'","L-LE-send"]},"children":[]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"translate(200.28125,770.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-66.7265625,-10)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"133.453125","height":"20"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"133.453125","height":"20"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-response-send","className":["edgeLabel","L-LS-response'","L-LE-send"]},"children":[{"type":"text","value":"Response provided"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"translate(353.765625,607)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-76.9921875,-10)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"153.984375","height":"20"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"153.984375","height":"20"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-response-execution","className":["edgeLabel","L-LS-response'","L-LE-execution"]},"children":[{"type":"text","value":"No response provided"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"translate(299.78125,825)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-26.984375,-10)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"53.96875","height":"20"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"53.96875","height":"20"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-execution-send","className":["edgeLabel","L-LS-execution'","L-LE-send"]},"children":[{"type":"text","value":"Success"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["edgeLabel"],"transform":"translate(407.75,716)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-87.96875,-10)","className":["label"]},"children":[{"type":"element","tagName":"rect","properties":{"rx":"0","ry":"0","width":"175.9375","height":"20"},"children":[]},{"type":"element","tagName":"foreignObject","properties":{"width":"175.9375","height":"20"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"element","tagName":"span","properties":{"id":"L-L-execution-resolveField","className":["edgeLabel","L-LS-execution'","L-LE-resolveField"]},"children":[{"type":"text","value":"(Fires once per resolver)"}]}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["nodes"]},"children":[{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-request-23","transform":"translate(297.62890625,27.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-66.2265625","y":"-19.5","width":"132.453125","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-56.2265625,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"112.453125","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"requestDidStart"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-resolveSource-24","transform":"translate(297.62890625,116.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-72.3359375","y":"-19.5","width":"144.671875","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-62.3359375,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"124.671875","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"didResolveSource"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-parsing-26","transform":"translate(297.62890625,225.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-67.765625","y":"-19.5","width":"135.53125","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-57.765625,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"115.53125","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"parsingDidStart*"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-validation-28","transform":"translate(297.62890625,334.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-77.625","y":"-19.5","width":"155.25","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-67.625,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"135.25","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"validationDidStart*"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-resolveOperation-30","transform":"translate(297.62890625,443.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-84.03125","y":"-19.5","width":"168.0625","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-74.03125,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"148.0625","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"didResolveOperation"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-response-32","transform":"translate(297.62890625,552.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-88.6796875","y":"-19.5","width":"177.359375","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-78.6796875,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"157.359375","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"responseForOperation"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-execution-33","transform":"translate(353.765625,661.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-77.2734375","y":"-19.5","width":"154.546875","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-67.2734375,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"134.546875","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"executionDidStart*"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-resolveField-34","transform":"translate(407.75,770.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-70.7421875","y":"-19.5","width":"141.484375","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-60.7421875,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"121.484375","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"willResolveField*"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","secondary"],"id":"flowchart-errors-35","transform":"translate(86.640625,879.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-78.640625","y":"-19.5","width":"157.28125","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-68.640625,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"137.28125","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"didEncounterErrors"}]}]}]}]}]},{"type":"element","tagName":"g","properties":{"className":["node","default"],"id":"flowchart-send-37","transform":"translate(200.28125,968.5)","style":"opacity: 1;"},"children":[{"type":"element","tagName":"rect","properties":{"rx":"5","ry":"5","x":"-72.9765625","y":"-19.5","width":"145.953125","height":"39","className":["label-container"]},"children":[]},{"type":"element","tagName":"g","properties":{"className":["label"],"transform":"translate(0,0)"},"children":[{"type":"element","tagName":"g","properties":{"transform":"translate(-62.9765625,-9.5)"},"children":[{"type":"element","tagName":"foreignObject","properties":{"width":"125.953125","height":"19"},"children":[{"type":"element","tagName":"div","properties":{"xmlns":"http://www.w3.org/1999/xhtml","style":"display: inline-block; white-space: nowrap;"},"children":[{"type":"text","value":"willSendResponse"}]}]}]}]}]}]}]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"sup","properties":{},"children":[{"type":"text","value":"*The indicated events also support "},{"type":"element","tagName":"a","properties":{"href":"#end-hooks"},"children":[{"type":"text","value":"end hooks"}]},{"type":"text","value":" that are called when their associated step "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"completes"}]},{"type":"text","value":"."}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"end-hooks","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#end-hooks","ariaLabel":"end hooks permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"End hooks"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Event handlers for the following events can optionally return a function that is invoked after the corresponding lifecycle phase "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ends"}]},{"type":"text","value":":"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#parsingdidstart"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"parsingDidStart"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#validationdidstart"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"validationDidStart"}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#willresolvefield"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"willResolveField"}]}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"("},{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#executiondidstart"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"executionDidStart"}]}]},{"type":"text","value":" returns an "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"object"}]},{"type":"text","value":" containing an "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"executionDidEnd"}]},{"type":"text","value":" function instead of just a function as an end hook. This is because the returned object can also contain "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"willResolveField"}]},{"type":"text","value":".)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Just like the event handlers themselves, these end hooks are async functions (except for the end hook for "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"willResolveField"}]},{"type":"text","value":")."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"End hooks are passed any errors that occurred during the execution of that lifecycle phase. For example, the following plugin logs any errors that occur during any of the above lifecycle events:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" myPlugin "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"requestDidStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"parsingDidStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"err"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"err"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n            console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"error"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"err"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"validationDidStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// This end hook is unique in that it can receive an array of errors,"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// which will contain every validation error that occurred."}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"errs"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"errs"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n            errs"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"forEach"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"err"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"=>"}]},{"type":"text","value":" console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"error"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"err"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"executionDidStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"return"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"executionDidEnd"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","parameter"]},"children":[{"type":"text","value":"err"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"err"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n              console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"error"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"text","value":"err"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n            "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n          "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n        "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Note that the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"validationDidStart"}]},{"type":"text","value":" end hook receives an "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"array"}]},{"type":"text","value":" of errors that contains every validation error that occurred (if any). The "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"willResolveField"}]},{"type":"text","value":" end hook receives the error thrown by the resolver as the first argument and the result of the resolver as the second argument. The arguments to each end hook are documented in the type definitions in "},{"type":"element","tagName":"a","properties":{"href":"/integrations/plugins-event-reference/#request-lifecycle-events"},"children":[{"type":"text","value":"Request lifecycle events"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{"id":"inspecting-request-and-response-details","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#inspecting-request-and-response-details","ariaLabel":"inspecting request and response details permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Inspecting request and response details"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"As the example above shows, "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"requestDidStart"}]},{"type":"text","value":" and request lifecycle functions accept a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"requestContext"}]},{"type":"text","value":" parameter. This parameter is of type "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"GraphQLRequestContext"}]},{"type":"text","value":", which includes a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"request"}]},{"type":"text","value":" (of type "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"GraphQLRequest"}]},{"type":"text","value":"), along with a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"response"}]},{"type":"text","value":" field (of type "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"GraphQLResponse"}]},{"type":"text","value":") if it's available."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"These types and their related subtypes are all defined in "},{"type":"element","tagName":"a","properties":{"href":"https://github.com/apollographql/apollo-server/blob/main/packages/apollo-server-types/src/index.ts"},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"apollo-server-types/src/index.ts"}]}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"installing-custom-plugins","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#installing-custom-plugins","ariaLabel":"installing custom plugins permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Installing custom plugins"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Add your plugins to Apollo Server by providing a "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"plugins"}]},{"type":"text","value":" configuration option to the "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"ApolloServer"}]},{"type":"text","value":" constructor, like so:"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"js"},"children":[{"type":"element","tagName":"pre","properties":{"style":"counter-reset: linenumber NaN","className":["language-js","line-numbers"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-js"]},"children":[{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" ApolloServer "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"require"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'apollo-server'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" ApolloServerOperationRegistry "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"require"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'@apollo/server-plugin-operation-registry'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"/* This example doesn't provide `typeDefs` or `resolvers`,\n   both of which are required to start the server. */"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" typeDefs"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":" resolvers "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"require"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'./separatelyDefined'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n\n"},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"const"}]},{"type":"text","value":" server "},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":"="}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"new"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","class-name"]},"children":[{"type":"text","value":"ApolloServer"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n  typeDefs"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n  resolvers"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n\n  "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"// You can import plugins or define them in-line, as shown:"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","literal-property","property"]},"children":[{"type":"text","value":"plugins"}]},{"type":"element","tagName":"span","properties":{"className":["token","operator"]},"children":[{"type":"text","value":":"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"["}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"/* This plugin is from a package that's imported above. */"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"ApolloServerOperationRegistry"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"/* options */"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"/* This plugin is imported in-place. */"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"require"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'./localPluginModule'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n\n    "},{"type":"element","tagName":"span","properties":{"className":["token","comment"]},"children":[{"type":"text","value":"/* This plugin is defined in-line. */"}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","keyword"]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"serverWillStart"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"text","value":" "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"{"}]},{"type":"text","value":"\n        console"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"."}]},{"type":"element","tagName":"span","properties":{"className":["token","function"]},"children":[{"type":"text","value":"log"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"("}]},{"type":"element","tagName":"span","properties":{"className":["token","string"]},"children":[{"type":"text","value":"'Server starting up!'"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":";"}]},{"type":"text","value":"\n      "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"text","value":"\n  "},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"]"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":","}]},{"type":"text","value":"\n"},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":"}"}]},{"type":"element","tagName":"span","properties":{"className":["token","punctuation"]},"children":[{"type":"text","value":")"}]}]},{"type":"element","tagName":"span","properties":{"ariaHidden":"true","className":["line-numbers-rows"],"style":"white-space: normal; width: auto; left: 0;"},"children":[{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]},{"type":"element","tagName":"span","properties":{},"children":[]}]}]}]}],"data":{"quirksMode":false}}},"childMdx":null}},"pageContext":{"id":"d173aa5b-8291-5fef-86cc-630873c0112e","subtitle":"Apollo Server","versionDifference":0,"versionBasePath":"/v3","sidebarContents":[{"title":null,"pages":[{"title":"Introduction to Apollo Server","sidebarTitle":"Introduction","description":null,"path":"/"},{"title":"Get started with Apollo Server","sidebarTitle":"Get started","description":null,"path":"/getting-started/"},{"title":"Choosing an Apollo Server package","sidebarTitle":"Choosing which package to use","description":"Use the right package for your project","path":"/integrations/middleware/"},{"anchor":true,"title":"Apollo Federation","path":"https://www.apollographql.com/docs/federation/"}]},{"title":"New in v3","pages":[{"title":"Migrating to Apollo Server 3","sidebarTitle":"","description":null,"path":"/migration/"},{"anchor":true,"title":"Changelog","path":"https://github.com/apollographql/apollo-server/blob/main/CHANGELOG.md"}]},{"title":"Defining a Schema","pages":[{"title":"GraphQL schema basics","sidebarTitle":"Schema basics","description":null,"path":"/schema/schema/"},{"title":"Unions and interfaces","sidebarTitle":"","description":"Abstract schema types","path":"/schema/unions-interfaces/"},{"title":"Custom scalars","sidebarTitle":"","description":null,"path":"/schema/custom-scalars/"},{"title":"Directives","sidebarTitle":"Directives","description":"Configure GraphQL types, fields, and arguments","path":"/schema/directives/"},{"title":"Creating schema directives","sidebarTitle":"Creating directives","description":"Apply custom logic to GraphQL types, fields, and arguments","path":"/schema/creating-directives/"}]},{"title":"Fetching Data","pages":[{"title":"Resolvers","sidebarTitle":"","description":"How Apollo Server processes GraphQL operations","path":"/data/resolvers/"},{"title":"Data sources","sidebarTitle":"","description":"Manage connections to databases and REST APIs","path":"/data/data-sources/"},{"title":"Error handling","sidebarTitle":"","description":"Making errors actionable on the client and server","path":"/data/errors/"},{"title":"File uploads","sidebarTitle":"","description":"Enabling file uploads in Apollo Server","path":"/data/file-uploads/"},{"title":"Subscriptions in Apollo Server","sidebarTitle":"Subscriptions","description":"Persistent GraphQL read operations","path":"/data/subscriptions/"}]},{"title":"Development Workflow","pages":[{"title":"Build and run queries against Apollo Server","sidebarTitle":"Build and run queries","description":null,"path":"/testing/build-run-queries/"},{"title":"Operation request format","sidebarTitle":"Request format","description":"How to send requests to Apollo Server over HTTP","path":"/requests/"},{"title":"Mocking","sidebarTitle":"","description":"Mock your GraphQL data based on a schema.","path":"/testing/mocking/"},{"title":"Integration testing","sidebarTitle":"","description":"Utilities for testing Apollo Server","path":"/testing/testing/"},{"anchor":true,"title":"Apollo Studio Explorer","path":"https://www.apollographql.com/docs/studio/explorer/"}]},{"title":"Performance","pages":[{"title":"Server-side caching","sidebarTitle":"Caching","description":"Configure caching behavior on a per-field basis","path":"/performance/caching/"},{"title":"Automatic persisted queries","sidebarTitle":"","description":"Improve network performance by sending smaller requests","path":"/performance/apq/"}]},{"title":"Security","pages":[{"title":"Authentication and authorization","sidebarTitle":"Auth","description":"Control access to your GraphQL API","path":"/security/authentication/"},{"title":"Terminating SSL","sidebarTitle":"","description":null,"path":"/security/terminating-ssl/"},{"title":"Proxy configuration","sidebarTitle":"","description":"Configuring proxy settings for outgoing requests","path":"/proxy-configuration/"}]},{"title":"Deployment","pages":[{"title":"Deploying with Heroku","sidebarTitle":"Heroku","description":null,"path":"/deployment/heroku/"},{"title":"Deploying with AWS Lambda","sidebarTitle":"Lambda","description":"How to deploy Apollo Server with AWS Lambda","path":"/deployment/lambda/"},{"title":"Deploying with Azure Functions","sidebarTitle":"Azure Functions","description":"Deploying your GraphQL server to Azure Functions","path":"/deployment/azure-functions/"},{"title":"Deploying with Google Cloud Functions","sidebarTitle":"Google Cloud Functions","description":null,"path":"/deployment/gcp-functions/"}]},{"title":"Monitoring","pages":[{"title":"Metrics and logging","sidebarTitle":"","description":"How to monitor Apollo Server's performance","path":"/monitoring/metrics/"},{"title":"Health checks","sidebarTitle":"","description":"Determining the health status of the Apollo Server","path":"/monitoring/health-checks/"}]},{"title":"API Reference","pages":[{"title":"API Reference: ApolloServer","sidebarTitle":"ApolloServer","description":null,"path":"/api/apollo-server/"},{"anchor":true,"title":"@apollo/federation","path":"https://www.apollographql.com/docs/federation/api/apollo-federation/"},{"anchor":true,"title":"@apollo/gateway","path":"https://www.apollographql.com/docs/federation/api/apollo-gateway/"}]},{"title":"Built-in Plugins","pages":[{"title":"Built-in plugins","sidebarTitle":"Overview","description":null,"path":"/builtin-plugins/"},{"title":"API Reference: Usage reporting plugin","sidebarTitle":"Usage reporting","description":null,"path":"/api/plugin/usage-reporting/"},{"title":"API Reference: Schema reporting plugin","sidebarTitle":"Schema reporting","description":null,"path":"/api/plugin/schema-reporting/"},{"title":"API Reference: Inline trace plugin","sidebarTitle":"Inline trace","description":null,"path":"/api/plugin/inline-trace/"},{"title":"API Reference: Drain HTTP server plugin","sidebarTitle":"Drain HTTP server","description":null,"path":"/api/plugin/drain-http-server/"},{"title":"API Reference: Cache control plugin","sidebarTitle":"Cache control","description":null,"path":"/api/plugin/cache-control/"},{"title":"API Reference: Landing page plugins","sidebarTitle":"Landing pages","description":null,"path":"/api/plugin/landing-pages/"}]},{"title":"Custom Plugins","pages":[{"title":"Creating Apollo Server plugins","sidebarTitle":"Creating plugins","description":"Extend Apollo Server with custom functionality","path":"/integrations/plugins/"},{"title":"Apollo Server plugin event reference","sidebarTitle":"Event reference","description":null,"path":"/integrations/plugins-event-reference/"}]}],"githubUrl":"https://github.com/apollographql/apollo-server/tree/main/docs/source/integrations/plugins.md","forumUrl":"https://community.apollographql.com/","ffWidgetId":"3131c43c-bfb5-44e6-9a72-b4094f7ec028","twitterHandle":"apollographql","versions":["2"],"defaultVersion":"3","baseUrl":"https://www.apollographql.com"}}