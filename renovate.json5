{
  extends: [
    "apollo-open-source",
    "group:monorepos",
    "group:jestPlusTSJest",
    "group:jestPlusTypes",
  ],
  prCreation: "immediate",
  enabledManagers: ["npm"],
  dependencyDashboard: true,
  platformAutomerge: false,
  packageRules: [
    {
      groupName: "all non-major dependencies",
      matchUpdateTypes: ["patch", "minor"],
      groupSlug: "all-minor-patch",
    },
    {
      groupName: "typescript",
      matchPackageNames: ["typescript"],
      matchUpdateTypes: ["minor"],
    },
    {
      groupName: "graphql-http",
      matchPackageNames: ["graphql-http"],
      matchFileNames: ["packages/integration-testsuite/package.json"],
      rangeStrategy: "pin",
    },
    {
      matchPackageNames: ["@apollo/server"],
      matchFileNames: ["packages/integration-testsuite/package.json"],
      rangeStrategy: "pin",
    },
    {
      matchPackageNames: ["@types/node"],
      allowedVersions: "14.x",
    },
    {
      matchPackageNames: ["lru-cache"],
      allowedVersions: "7.x",
    },
    {
      allowedVersions: "2.x",
      matchPackageNames: ["/^@apollo/utils/"],
    },
    {
      allowedVersions: "3.x",
      matchPackageNames: ["/^@graphql-codegen/"],
    },
    {
      matchPackageNames: ["^@graphql-tools/mock"],
      allowedVersions: "8.x",
    },
    {
      matchPackageNames: ["^@graphql-tools/schema"],
      allowedVersions: "9.x",
    },
    {
      matchPackageNames: ["^make-fetch-happen"],
      allowedVersions: "11.x",
    },
    {
      matchPackageNames: ["^@typescript-eslint"],
      allowedVersions: "5.x",
    },
    {
      matchPackageNames: ["cspell"],
      allowedVersions: "6.x",
    },
    {
      matchPackageNames: ["whatwg-mimetype"],
      allowedVersions: "3.x",
    },
    {
      allowedVersions: "2.x",
      matchPackageNames: ["/node-fetch/", "/@types/node-fetch/"],
    },
    {
      matchUpdateTypes: ["major"],
      groupName: "rollup",
      matchSourceUrls: ["https://github.com/rollup/{/,}**"],
    },
    {
      matchPackageNames: ["rollup"],
      allowedVersions: "4.x",
    },
    {
      matchPackageNames: ["prettier-2"],
      allowedVersions: "2.x",
    },
  ],
}
